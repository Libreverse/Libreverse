// Generated by CoffeeScript 2.7.0
var app, error, is_development, ref;

import {
  Application
} from "@hotwired/stimulus";

import consumer from "../channels/consumer";

import StimulusReflex from "stimulus_reflex";

// Start the Stimulus application
app = Application.start();

// Attach ActionCable consumer so StimulusReflex can share the connection
app.consumer = consumer;

// Enable StimulusReflex debug when running in development mode
// Use a safe check compatible with CoffeeScript/Node environments
is_development = false;

try {
  if (typeof process !== 'undefined' && (process.env != null)) {
    is_development = process.env.NODE_ENV === 'development';
  } else {
    // If process isn't available (e.g., in some bundlers), try import.meta if supported
    is_development = (import.meta != null ? ((ref = import.meta.env) != null ? ref.MODE : void 0) === 'development' : false);
  }
} catch (error1) {
  error = error1;
  is_development = false;
}

if (is_development) {
  StimulusReflex.debug = true;
} else {
  StimulusReflex.debug = false;
}

globalThis.Stimulus = app;

export {
  app as application
};
