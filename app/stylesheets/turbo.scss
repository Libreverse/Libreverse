@use "variables";

.turbo-loading {
    pointer-events: none;
    position: relative;
}

/* The overlay pseudo-element â€“ starts invisible */
.turbo-loading::before {
    opacity: 1;
    content: "";
    position: fixed;
    inset: 0;
    background: rgb(0 0 0 / 30%);
    backdrop-filter: blur(3px);
    pointer-events: auto;
    z-index: 1111;

    /* Spinner SVG */
    background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8Y2lyY2xlIGN4PSIyMCIgY3k9IjIwIiByPSIxOCIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjQiIGZpbGw9Im5vbmUiIHN0cm9rZS1kYXNoYXJyYXk9IjI4IDI4IiBzdHJva2UtbGluZWNhcD0icm91bmQiPgogICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGZyb209IjAgMjAgMjAiIHRvPSIzNjAgMjAgMjAiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIi8+CiAgPC9jaXJjbGU+Cjwvc3ZnPg==");
    background-position: center;
    background-repeat: no-repeat;
    background-size: 40px 40px;

    /* Smooth fade-in */
    transition: opacity 0.3s ease-out;
}

/* Subtle dimming of form controls during submission */
.turbo-submitting input,
.turbo-submitting select,
.turbo-submitting textarea,
.turbo-submitting button {
    opacity: 0.7;
    transition: opacity 0.3s ease;
}

/* Prevent interaction during submission */
.turbo-submitting {
    pointer-events: none;
}

/* Hide Turbo's default progress bar */
.turbo-progress-bar {
    display: none !important;
    will-change: width, opacity;
}
