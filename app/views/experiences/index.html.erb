<%= render "layouts/sidebar" %>
<%= render "layouts/drawer" %>
<%= render 'layouts/leniswrapper' do %>
  <%= render 'layouts/navigationshortcutswrapper' do %>
    <% include_stylesheet "dashboard" %>
    <% include_stylesheet "search" %> <!-- Including search styles for experience styling -->

    <div class="container py-5 dashboard-container">
      <div class="row">
        <div class="col-md-12">
          <div class="card shadow-sm mb-4 dashboard-card">
            <div class="card-header text-white dashboard-header">
              <h1 class="h3 mb-0">My Experiences</h1>
            </div>
            <div class="card-body p-4">
              <div class="welcome-section">
                <div class="d-flex justify-content-between align-items-center">
                  <h2 class="h4 mb-0">Your Creative Collection</h2>
                  <a href="#create-experience" class="btn btn-primary btn-sm d-inline-flex align-items-center">
                    <i class="bi bi-plus-circle me-2"></i>
                    Create New Experience
                  </a>
                </div>
                <p class="text-muted mb-0 mt-2">Manage your experiences and create new ones to share with the Libreverse community.</p>
              </div>

              <% if @experiences.any? %>
                <div class="dashboard-experiences-list">
                  <%= render "experiences_list", experiences: @experiences %>
                </div>
              <% else %>
                <div class="alert alert-info mt-4 d-flex align-items-center">
                  <i class="bi bi-info-circle-fill me-3 fs-4"></i>
                  <div>
                    <strong>No experiences yet!</strong>
                    <p class="mb-0">You haven't created any experiences yet. Use the form below to get started on your creative journey.</p>
                  </div>
                </div>
              <% end %>

              <section id="create-experience" class="experience-form-container mt-5">
                <h2 class="experience-form-heading">
                  <i class="bi bi-stars me-2"></i>
                  Create a New Experience
                </h2>
                <p class="text-muted mb-4">Share your insights, stories, or creative ideas with the community.</p>
                <%= render "form", experience: @experience %>
              </section>
            </div>
            <div class="card-footer p-3 d-flex justify-content-between align-items-center">
              <div class="small text-muted">
                <% if @experiences.any? %>
                  You have <%= pluralize(@experiences.size, 'experience') %> in your collection
                <% else %>
                  Start creating your first experience
                <% end %>
              </div>
              <a href="<%= dashboard_path %>" class="btn btn-outline-secondary btn-sm d-inline-flex align-items-center">
                <i class="bi bi-arrow-left me-2"></i>
                Back to Dashboard
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  <% end %>
<% end %> 