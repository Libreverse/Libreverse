<!doctype html>
<html
  dir="ltr"
  lang="en-GB"
  class="<%= auth_page? ? 'auth-page' : '' %>"
>
  <head>
    <!--Important code-->
    <%= yield :fontpreloads %>
    <%= vite_stylesheet_tag "~/stylesheets/application.scss" %>
    <%= yield :specific_stylesheets %>
    <%= vite_javascript_tag "~/javascript/application.js", type: "module" %>
    <% if Rails.env.development? %>
      <meta
        http-equiv="Cache-Control"
        content="no-store, no-cache, must-revalidate, max-age=0"
      >
      <meta http-equiv="Pragma" content="no-cache">
      <meta http-equiv="Expires" content="Fri, 01 Jan 1990 00:00:00 GMT">
    <% end %>
    
    <%= render "layouts/meta_tags" %>
    
    <!--Some decently important security stuff, just matters that it's present,
    so we don't need to bother search engines by putting it at the top-->
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <!--Vite HMR in development. Does not result in anything in prod-->
    <%= vite_client_tag %>
  </head>
  <body class="<%= page_with_drawer? ? 'page-with-drawer' : '' %>">
    <%= render "layouts/flash_messages" %>

    <main class="content-wrapper">
      <%= yield %>
    </main>
    <%= render partial: "layouts/drawer" if page_with_drawer? %>
  </body>
</html>
