# typed: true

# DO NOT EDIT MANUALLY
# This is an autogenerated file for types exported from the `anycable-rails-core` gem.
# Please instead update this file by running `bin/tapioca gem anycable-rails-core`.


class ActionCable::Channel::Base
  include ::AnyCable::Rails::ChannelState
  extend ::AnyCable::Rails::ChannelState::ClassMethods
end

class ActionCable::Connection::Base
  include ::AnyCable::Rails::Connections::SerializableIdentification::ConnectionGID
  include ::AnyCable::Rails::ConnectionState
  include ::AnyCable::Rails::Connections::SerializableIdentification
  extend ::AnyCable::Rails::ConnectionState::ClassMethods
  extend ::AnyCable::Rails::Connections::SerializableIdentification::ClassMethods
end

class ActionCable::RemoteConnections::RemoteConnection
  include ::AnyCable::Rails::Connections::SerializableIdentification::ConnectionGID
  include ::AnyCable::Rails::Connections::SerializableIdentification
  extend ::AnyCable::Rails::Connections::SerializableIdentification::ClassMethods
end

# source://anycable-rails-core//lib/anycable/rails/version.rb#3
module AnyCable; end

class AnyCable::ConnectionRequest < ::Google::Protobuf::AbstractMessage; end
class AnyCable::EnvResponse < ::Google::Protobuf::AbstractMessage; end
class AnyCable::PresenceResponse < ::Google::Protobuf::AbstractMessage; end

# Rails handler for AnyCable
#
# source://anycable-rails-core//lib/anycable/rails/version.rb#4
module AnyCable::Rails
  # source://anycable-rails-core//lib/anycable/rails.rb#25
  def current_broadcast_options; end

  # source://anycable-rails-core//lib/anycable/rails.rb#25
  def current_broadcast_options=(obj); end

  # source://anycable-rails-core//lib/anycable/rails.rb#24
  def current_socket_id; end

  # source://anycable-rails-core//lib/anycable/rails.rb#24
  def current_socket_id=(obj); end

  class << self
    # source://anycable-rails-core//lib/anycable/rails.rb#52
    def broadcasting_to_others(socket_id: T.unsafe(nil), &block); end

    # @return [Boolean]
    #
    # source://anycable-rails-core//lib/anycable/rails.rb#33
    def compatible_adapter?(adapter); end

    # source://anycable-rails-core//lib/anycable/rails.rb#25
    def current_broadcast_options; end

    # source://anycable-rails-core//lib/anycable/rails.rb#25
    def current_broadcast_options=(obj); end

    # source://anycable-rails-core//lib/anycable/rails.rb#24
    def current_socket_id; end

    # source://anycable-rails-core//lib/anycable/rails.rb#24
    def current_socket_id=(obj); end

    # @return [Boolean]
    #
    # source://anycable-rails-core//lib/anycable/rails.rb#28
    def enabled?; end

    # source://anycable-rails-core//lib/anycable/rails.rb#79
    def extend_adapter!(adapter); end

    # source://anycable-rails-core//lib/anycable/rails.rb#60
    def signed_stream_name(streamables); end

    # source://anycable-rails-core//lib/anycable/rails.rb#64
    def stream_name_from(streamables); end

    # source://anycable-rails-core//lib/anycable/rails.rb#44
    def with_broadcast_options(**options); end

    # source://anycable-rails-core//lib/anycable/rails.rb#37
    def with_socket_id(socket_id); end
  end
end

# source://anycable-rails-core//lib/anycable/rails.rb#22
AnyCable::Rails::ADAPTER_ALIASES = T.let(T.unsafe(nil), Array)

# source://anycable-rails-core//lib/anycable/rails/channel.rb#5
module AnyCable::Rails::Channel; end

# Presence API for Action Cable channels (backed by AnyCable)
#
# source://anycable-rails-core//lib/anycable/rails/channel/presence.rb#7
module AnyCable::Rails::Channel::Presence
  extend ::ActiveSupport::Concern

  # source://anycable-rails-core//lib/anycable/rails/channel/presence.rb#10
  def join_presence(stream = T.unsafe(nil), id: T.unsafe(nil), info: T.unsafe(nil)); end

  # source://anycable-rails-core//lib/anycable/rails/channel/presence.rb#18
  def leave_presence(id = T.unsafe(nil)); end

  private

  # source://anycable-rails-core//lib/anycable/rails/channel/presence.rb#26
  def user_presence_id; end

  # source://anycable-rails-core//lib/anycable/rails/channel/presence.rb#30
  def user_presence_info; end
end

# source://anycable-rails-core//lib/anycable/rails/channel_state.rb#5
module AnyCable::Rails::ChannelState
  mixes_in_class_methods ::AnyCable::Rails::ChannelState::ClassMethods

  # source://anycable-rails-core//lib/anycable/rails/channel_state.rb#48
  def __istate__; end

  # Make it possible to provide istate explicitly for a channel instance
  #
  # source://anycable-rails-core//lib/anycable/rails/channel_state.rb#46
  def __istate__=(_arg0); end

  class << self
    # @private
    #
    # source://anycable-rails-core//lib/anycable/rails/channel_state.rb#41
    def included(base); end
  end
end

# source://anycable-rails-core//lib/anycable/rails/channel_state.rb#6
module AnyCable::Rails::ChannelState::ClassMethods
  # source://anycable-rails-core//lib/anycable/rails/channel_state.rb#29
  def channel_state_attributes; end

  # source://anycable-rails-core//lib/anycable/rails/channel_state.rb#7
  def state_attr_accessor(*names); end
end

# source://anycable-rails-core//lib/anycable/rails/connection.rb#101
class AnyCable::Rails::Connection
  # @return [Connection] a new instance of Connection
  #
  # source://anycable-rails-core//lib/anycable/rails/connection.rb#110
  def initialize(connection_class, socket, identifiers: T.unsafe(nil), subscriptions: T.unsafe(nil)); end

  # source://anycable-rails-core//lib/anycable/rails/connection.rb#175
  def action_cable_connection; end

  # source://anycable-rails-core//lib/anycable/rails/connection.rb#168
  def build_rack_request(env); end

  # source://anycable-rails-core//lib/anycable/rails/connection.rb#159
  def handle_channel_command(identifier, command, data); end

  # source://anycable-rails-core//lib/anycable/rails/connection.rb#151
  def handle_close; end

  # == AnyCable RPC interface [BEGIN] ==
  #
  # source://anycable-rails-core//lib/anycable/rails/connection.rb#135
  def handle_open; end

  # source://anycable-rails-core//lib/anycable/rails/connection.rb#106
  def identifiers_json(*_arg0, **_arg1, &_arg2); end

  # == Action Cable socket interface [BEGIN]
  #
  # source://anycable-rails-core//lib/anycable/rails/connection.rb#108
  def logger; end

  # Returns the value of attribute socket.
  #
  # source://anycable-rails-core//lib/anycable/rails/connection.rb#108
  def socket; end

  private

  # @return [Boolean]
  #
  # source://anycable-rails-core//lib/anycable/rails/connection.rb#223
  def access_logs?; end

  # Returns the value of attribute conn.
  #
  # source://anycable-rails-core//lib/anycable/rails/connection.rb#181
  def conn; end

  # source://anycable-rails-core//lib/anycable/rails/connection.rb#191
  def fetch_logger_tags_from_state; end

  # source://anycable-rails-core//lib/anycable/rails/connection.rb#205
  def finished_request_message(reason = T.unsafe(nil)); end

  # source://anycable-rails-core//lib/anycable/rails/connection.rb#183
  def reject_request(reason, reconnect = T.unsafe(nil)); end

  # source://anycable-rails-core//lib/anycable/rails/connection.rb#227
  def request; end

  # @return [Boolean]
  #
  # source://anycable-rails-core//lib/anycable/rails/connection.rb#231
  def request_loaded?; end

  # source://anycable-rails-core//lib/anycable/rails/connection.rb#235
  def rescue_with_handler(e); end

  # source://anycable-rails-core//lib/anycable/rails/connection.rb#198
  def started_request_message; end

  # source://anycable-rails-core//lib/anycable/rails/connection.rb#212
  def verify_origin!; end
end

# We store logger tags in the connection state to be able
# to re-use them in the subsequent calls
#
# source://anycable-rails-core//lib/anycable/rails/connection.rb#104
AnyCable::Rails::Connection::LOG_TAGS_IDENTIFIER = T.let(T.unsafe(nil), String)

# source://anycable-rails-core//lib/anycable/rails/connection_factory.rb#26
class AnyCable::Rails::ConnectionFactory
  # @return [ConnectionFactory] a new instance of ConnectionFactory
  #
  # source://anycable-rails-core//lib/anycable/rails/connection_factory.rb#27
  def initialize(&block); end

  # source://anycable-rails-core//lib/anycable/rails/connection_factory.rb#33
  def call(socket, **options); end

  # @raise [ArgumentError]
  #
  # source://anycable-rails-core//lib/anycable/rails/connection_factory.rb#40
  def map(route, &block); end

  private

  # Returns the value of attribute mappings.
  #
  # source://anycable-rails-core//lib/anycable/rails/connection_factory.rb#49
  def mappings; end

  # source://anycable-rails-core//lib/anycable/rails/connection_factory.rb#52
  def resolve_connection_class(env); end

  # Returns the value of attribute use_router.
  #
  # source://anycable-rails-core//lib/anycable/rails/connection_factory.rb#49
  def use_router; end

  # Returns the value of attribute use_router.
  #
  # source://anycable-rails-core//lib/anycable/rails/connection_factory.rb#50
  def use_router?; end
end

# source://anycable-rails-core//lib/anycable/rails/channel_state.rb#53
module AnyCable::Rails::ConnectionState
  mixes_in_class_methods ::AnyCable::Rails::ConnectionState::ClassMethods

  # source://anycable-rails-core//lib/anycable/rails/channel_state.rb#94
  def __cstate__; end

  # Make it possible to provide istate explicitly for a connection instance
  #
  # source://anycable-rails-core//lib/anycable/rails/channel_state.rb#92
  def __cstate__=(_arg0); end

  class << self
    # @private
    #
    # source://anycable-rails-core//lib/anycable/rails/channel_state.rb#87
    def included(base); end
  end
end

# source://anycable-rails-core//lib/anycable/rails/channel_state.rb#54
module AnyCable::Rails::ConnectionState::ClassMethods
  # source://anycable-rails-core//lib/anycable/rails/channel_state.rb#75
  def connection_state_attributes; end

  # source://anycable-rails-core//lib/anycable/rails/channel_state.rb#55
  def state_attr_accessor(*names); end
end

# source://anycable-rails-core//lib/anycable/rails/connections/serializable_identification.rb#5
module AnyCable::Rails::Connections; end

# source://anycable-rails-core//lib/anycable/rails/connections/serializable_identification.rb#6
module AnyCable::Rails::Connections::SerializableIdentification
  extend ::ActiveSupport::Concern

  mixes_in_class_methods ::AnyCable::Rails::Connections::SerializableIdentification::ClassMethods

  # Fetch identifier and deserialize if neccessary
  #
  # source://anycable-rails-core//lib/anycable/rails/connections/serializable_identification.rb#55
  def fetch_identifier(name); end

  # Generate identifiers info.
  # Converts GlobalID compatible vars to corresponding global IDs params.
  #
  # source://anycable-rails-core//lib/anycable/rails/connections/serializable_identification.rb#36
  def identifiers_hash; end

  # source://anycable-rails-core//lib/anycable/rails/connections/serializable_identification.rb#45
  def identifiers_json; end

  # source://anycable-rails-core//lib/anycable/rails/connections/serializable_identification.rb#49
  def identifiers_json=(val); end
end

# source://anycable-rails-core//lib/anycable/rails/connections/serializable_identification.rb#23
module AnyCable::Rails::Connections::SerializableIdentification::ClassMethods
  # source://anycable-rails-core//lib/anycable/rails/connections/serializable_identification.rb#24
  def identified_by(*identifiers); end
end

# source://anycable-rails-core//lib/anycable/rails/connections/serializable_identification.rb#9
module AnyCable::Rails::Connections::SerializableIdentification::ConnectionGID
  # source://anycable-rails-core//lib/anycable/rails/connections/serializable_identification.rb#10
  def connection_identifier; end
end

# source://anycable-rails-core//lib/anycable/rails/ext.rb#5
module AnyCable::Rails::Ext; end

# This module adds AnyCable JWT helpers to Action Cable
#
# source://anycable-rails-core//lib/anycable/rails/ext/jwt.rb#7
module AnyCable::Rails::Ext::JWT
  # @return [Boolean]
  #
  # source://anycable-rails-core//lib/anycable/rails/ext/jwt.rb#16
  def anycable_jwt_present?; end

  # Handle expired tokens here to respond with a different disconnect reason
  #
  # source://anycable-rails-core//lib/anycable/rails/ext/jwt.rb#9
  def handle_open; end

  # source://anycable-rails-core//lib/anycable/rails/ext/jwt.rb#21
  def identify_from_anycable_jwt!; end
end

# source://anycable-rails-core//lib/anycable/rails/helper.rb#7
module AnyCable::Rails::Helper
  # source://anycable-rails-core//lib/anycable/rails/helper.rb#8
  def action_cable_with_jwt_meta_tag(**identifiers); end

  # source://anycable-rails-core//lib/anycable/rails/helper.rb#25
  def anycable_token_meta_tag(**identifiers); end

  # source://anycable-rails-core//lib/anycable/rails/helper.rb#31
  def signed_stream_name(streamables); end
end

# source://anycable-rails-core//lib/anycable/rails/pubsub_channel.rb#5
class AnyCable::Rails::PubSubChannel < ::ActionCable::Channel::Base
  # source://anycable-rails-core//lib/anycable/rails/pubsub_channel.rb#6
  def subscribed; end
end

# Rack middleware stack to modify the HTTP request object.
#
# AnyCable Websocket server does not use Rack middleware processing mechanism (which Rails uses
# when Action Cable is mounted into the main app).
#
# Some middlewares could enhance request env with useful information.
#
# For instance, consider the Rails session middleware: it's responsible for restoring the
# session data from cookies.
#
# AnyCable adds session middleware by default to its own stack.
#
# You can also use any Rack/Rails middleware you want. For example, to enable CustomMiddleware
# you can add the following code to an initializer or any other configuration file:
#
#   AnyCable::Rails::Rack.middleware.use CustomMiddleware
#
# source://anycable-rails-core//lib/anycable/rails/rack.rb#24
module AnyCable::Rails::Rack
  class << self
    # source://anycable-rails-core//lib/anycable/rails/rack.rb#43
    def app; end

    # source://anycable-rails-core//lib/anycable/rails/rack.rb#25
    def app_build_lock; end

    # source://anycable-rails-core//lib/anycable/rails/rack.rb#35
    def default_middleware_stack; end

    # source://anycable-rails-core//lib/anycable/rails/rack.rb#31
    def middleware; end
  end
end

# source://anycable-rails-core//lib/anycable/rails/railtie.rb#8
class AnyCable::Rails::Railtie < ::Rails::Railtie; end

# source://anycable-rails-core//lib/anycable/rails/version.rb#5
AnyCable::Rails::VERSION = T.let(T.unsafe(nil), String)

module AnyCable::Status; end
