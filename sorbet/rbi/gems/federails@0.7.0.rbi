# typed: false

# DO NOT EDIT MANUALLY
# This is an autogenerated file for types exported from the `federails` gem.
# Please instead update this file by running `bin/tapioca gem federails`.


# This module includes classes and methods related to Ruby on Rails: engine configuration, models, controllers, etc.
#
# source://federails//lib/federails/version.rb#1
module Federails
  # source://federails//lib/federails.rb#17
  def configuration; end

  class << self
    # @return [Hash] The configuration for the given actor entity
    #
    # source://federails//lib/federails.rb#55
    def actor_entity(class_or_instance); end

    # @example
    #   puts "Follow #{some_actor.name}" if actor_entity? current_user
    # @return [Boolean] True if the given model is a possible actor
    #
    # source://federails//lib/federails.rb#50
    def actor_entity?(class_or_instance); end

    # source://federails//lib/federails.rb#28
    def config_from(name); end

    # source://federails//lib/federails.rb#17
    def configuration; end

    # @yield [@@configuration]
    #
    # source://federails//lib/federails.rb#24
    def configure; end

    # @return [Boolean] True if the given model is a possible data entity
    #
    # source://federails//lib/federails.rb#63
    def data_entity?(class_or_instance); end

    # @return [Hash] The configuration for the given data entity
    #
    # source://federails//lib/federails.rb#104
    def data_entity_configuration(class_or_instance); end

    # Finds configured data type from route path segment
    #
    # @example
    #   data_entity_handled_on :articles
    # @param route_path_segment [Symbol, String] Route path segment, as configured with `:route_path_segment`
    # @return [Hash, nil] Entity configuration
    #
    # source://federails//lib/federails.rb#98
    def data_entity_handled_on(route_path_segment); end

    # Finds the configured handler for a given ActivityPub object
    #
    # @param hash [Hash] ActivityPub object hash
    # @return [Hash, nil] Data entity configuration
    #
    # source://federails//lib/federails.rb#83
    def data_entity_handler_for(hash); end

    # Finds configured data types from ActivityPub type
    #
    # @example
    #   data_entity_handlers_for 'Note'
    # @param type [String] ActivityPub object type, as configured with `:handles`
    # @return [Array] List of data entity configurations
    #
    # source://federails//lib/federails.rb#74
    def data_entity_handlers_for(type); end

    # source://federails//lib/federails/engine.rb#3
    def railtie_helpers_paths; end

    # source://federails//lib/federails/engine.rb#3
    def railtie_namespace; end

    # source://federails//lib/federails/engine.rb#3
    def railtie_routes_url_helpers(include_path_helpers = T.unsafe(nil)); end

    # source://federails//lib/federails/engine.rb#3
    def table_name_prefix; end

    # source://federails//lib/federails/engine.rb#3
    def use_relative_model_naming?; end

    private

    # @return [String] Class name of the provided class or instance
    #
    # source://federails//lib/federails.rb#114
    def class_or_instance_name(class_or_instance); end
  end
end

class Federails::Activity < ::Federails::ApplicationRecord
  include ::Federails::Activity::GeneratedAttributeMethods
  include ::Federails::Activity::GeneratedAssociationMethods
  include ::Federails::HasUuid

  def _run_save_callbacks(&block); end
  def autosave_associated_records_for_actor(*args); end
  def autosave_associated_records_for_entity(*args); end
  def recipients; end

  private

  def default_recipient_list; end
  def post_to_inboxes; end

  class << self
    def feed_for(*args, **_arg1); end
    def find_param(param); end

    private

    def __class_attr___callbacks; end
    def __class_attr___callbacks=(new_value); end
    def __class_attr__reflections; end
    def __class_attr__reflections=(new_value); end
    def __class_attr__validators; end
    def __class_attr__validators=(new_value); end
    def __class_attr_defined_enums; end
    def __class_attr_defined_enums=(new_value); end
  end
end

module Federails::Activity::GeneratedAssociationMethods
  def actor; end
  def actor=(value); end
  def actor_changed?; end
  def actor_previously_changed?; end
  def build_actor(*args, &block); end
  def create_actor(*args, &block); end
  def create_actor!(*args, &block); end
  def entity; end
  def entity=(value); end
  def entity_changed?; end
  def entity_previously_changed?; end
  def reload_actor; end
  def reload_entity; end
  def reset_actor; end
  def reset_entity; end
end

module Federails::Activity::GeneratedAttributeMethods; end

class Federails::Actor < ::Federails::ApplicationRecord
  include ::Federails::Actor::GeneratedAttributeMethods
  include ::Federails::Actor::GeneratedAssociationMethods
  include ::Federails::HasUuid
  include ::Federails::HandlesDeleteRequests
  extend ::Federails::HandlesDeleteRequests::ClassMethods

  def _on_federails_delete_requested_callbacks; end
  def _on_federails_undelete_requested_callbacks; end
  def _run_create_callbacks(&block); end
  def _run_destroy_callbacks(&block); end
  def _run_on_federails_delete_requested_callbacks(&block); end
  def _run_on_federails_delete_requested_callbacks!(&block); end
  def _run_on_federails_undelete_requested_callbacks(&block); end
  def _run_on_federails_undelete_requested_callbacks!(&block); end
  def _run_save_callbacks(&block); end
  def _run_update_callbacks(&block); end
  def acct_uri; end
  def actor_type; end
  def at_address(prefix: T.unsafe(nil)); end
  def autosave_associated_records_for_activities(*args); end
  def autosave_associated_records_for_activities_as_entity(*args); end
  def autosave_associated_records_for_entity(*args); end
  def autosave_associated_records_for_followers(*args); end
  def autosave_associated_records_for_following_followers(*args); end
  def autosave_associated_records_for_following_follows(*args); end
  def autosave_associated_records_for_follows(*args); end
  def distant?; end
  def entity_configuration; end
  def federated_url; end
  def followed_by?(actor); end
  def followers_url; end
  def followings_url; end
  def follows?(actor); end
  def inbox_url; end
  def key_id; end
  def name; end
  def outbox_url; end
  def private_key; end
  def profile_url; end
  def public_key; end
  def server; end
  def short_at_address; end
  def sync!; end
  def tombstone!; end
  def tombstoned?; end
  def untombstone!; end
  def username; end
  def validate_associated_records_for_activities(*args); end
  def validate_associated_records_for_activities_as_entity(*args); end
  def validate_associated_records_for_followers(*args); end
  def validate_associated_records_for_following_followers(*args); end
  def validate_associated_records_for_following_follows(*args); end
  def validate_associated_records_for_follows(*args); end

  private

  def ensure_key_pair_exists!; end
  def generate_key_pair; end
  def use_entity_attributes?; end

  class << self
    def _on_federails_delete_requested_callbacks; end
    def _on_federails_delete_requested_callbacks=(value); end
    def _on_federails_undelete_requested_callbacks; end
    def _on_federails_undelete_requested_callbacks=(value); end
    def distant(*args, **_arg1); end
    def find_by_account(account); end
    def find_by_federation_url(federated_url); end
    def find_by_federation_url!(federated_url); end
    def find_local_by_username(username); end
    def find_local_by_username!(username); end
    def find_or_create_by_account(account); end
    def find_or_create_by_federation_url(url); end
    def find_or_create_by_object(object); end
    def find_param(param); end
    def local(*args, **_arg1); end
    def not_tombstoned(*args, **_arg1); end
    def tombstoned(*args, **_arg1); end

    private

    def __class_attr___callbacks; end
    def __class_attr___callbacks=(new_value); end
    def __class_attr__reflections; end
    def __class_attr__reflections=(new_value); end
    def __class_attr__validators; end
    def __class_attr__validators=(new_value); end
    def __class_attr_defined_enums; end
    def __class_attr_defined_enums=(new_value); end
  end
end

module Federails::Actor::GeneratedAssociationMethods
  def activities; end
  def activities=(value); end
  def activities_as_entity; end
  def activities_as_entity=(value); end
  def activities_as_entity_ids; end
  def activities_as_entity_ids=(ids); end
  def activity_ids; end
  def activity_ids=(ids); end
  def entity; end
  def entity=(value); end
  def entity_changed?; end
  def entity_previously_changed?; end
  def follow_ids; end
  def follow_ids=(ids); end
  def follower_ids; end
  def follower_ids=(ids); end
  def followers; end
  def followers=(value); end
  def following_follow_ids; end
  def following_follow_ids=(ids); end
  def following_follower_ids; end
  def following_follower_ids=(ids); end
  def following_followers; end
  def following_followers=(value); end
  def following_follows; end
  def following_follows=(value); end
  def follows; end
  def follows=(value); end
  def reload_entity; end
  def reset_entity; end
end

module Federails::Actor::GeneratedAttributeMethods; end
class Federails::Actor::TombstonedError < ::StandardError; end

module Federails::ActorEntity
  extend ::ActiveSupport::Concern

  mixes_in_class_methods ::Federails::ActorEntity::ClassMethods

  def to_activitypub_object; end

  private

  def create_federails_actor; end
  def create_federails_actor_as_local?; end
  def tombstone_federails_actor!; end
  def untombstone_federails_actor!; end
end

module Federails::ActorEntity::ClassMethods
  def acts_as_federails_actor(name_field:, username_field:, profile_url_method: T.unsafe(nil), actor_type: T.unsafe(nil), user_count_method: T.unsafe(nil), auto_create_actors: T.unsafe(nil)); end
  def after_activity_received(activity_type, object_type, method_name); end
  def after_follow_accepted(method_name); end
  def after_followed(method_name); end

  private

  def dispatch_callback(name, instance, *args); end
end

class Federails::ApplicationJob < ::ActiveJob::Base
  class << self
    private

    def __class_attr_after_discard_procs; end
    def __class_attr_after_discard_procs=(new_value); end
    def __class_attr_rescue_handlers; end
    def __class_attr_rescue_handlers=(new_value); end
  end
end

class Federails::ApplicationMailer < ::ActionMailer::Base
  private

  def _layout(lookup_context, formats, keys); end

  class << self
    private

    def __class_attr__layout; end
    def __class_attr__layout=(new_value); end
    def __class_attr__layout_conditions; end
    def __class_attr__layout_conditions=(new_value); end
    def __class_attr_config; end
    def __class_attr_config=(new_value); end
    def __class_attr_default_params; end
    def __class_attr_default_params=(new_value); end
  end
end

class Federails::ApplicationRecord < ::ActiveRecord::Base
  include ::Federails::ApplicationRecord::GeneratedAttributeMethods
  include ::Federails::ApplicationRecord::GeneratedAssociationMethods
  include ::Kaminari::ActiveRecordModelExtension
  include ::Kaminari::ConfigurationMethods
  extend ::Kaminari::ConfigurationMethods::ClassMethods

  class << self
    def page(num = T.unsafe(nil)); end

    private

    def __class_attr__validators; end
    def __class_attr__validators=(new_value); end
    def __class_attr_defined_enums; end
    def __class_attr_defined_enums=(new_value); end
  end
end

module Federails::ApplicationRecord::GeneratedAssociationMethods; end
module Federails::ApplicationRecord::GeneratedAttributeMethods; end
module Federails::Client; end

class Federails::Client::ActivitiesController < ::Federails::ClientController
  def feed; end
  def index; end

  private

  def _layout(lookup_context, formats, keys); end
  def _layout_from_proc; end
  def authorize_action!; end

  class << self
    private

    def __class_attr___callbacks; end
    def __class_attr___callbacks=(new_value); end
    def __class_attr_config; end
    def __class_attr_config=(new_value); end
    def __class_attr_middleware_stack; end
    def __class_attr_middleware_stack=(new_value); end
  end
end

class Federails::Client::ActivityPolicy < ::Federails::FederailsPolicy
  def feed?; end
end

class Federails::Client::ActorPolicy < ::Federails::FederailsPolicy
  def lookup?; end
end

class Federails::Client::ActorPolicy::Scope < ::Federails::FederailsPolicy::Scope
  def resolve; end
end

class Federails::Client::ActorsController < ::Federails::ClientController
  def index; end
  def lookup; end
  def show; end

  private

  def _layout(lookup_context, formats, keys); end
  def _layout_from_proc; end
  def account_param; end
  def render_show; end
  def set_actor; end

  class << self
    private

    def __class_attr___callbacks; end
    def __class_attr___callbacks=(new_value); end
    def __class_attr_config; end
    def __class_attr_config=(new_value); end
    def __class_attr_middleware_stack; end
    def __class_attr_middleware_stack=(new_value); end
  end
end

class Federails::Client::FollowingPolicy < ::Federails::FederailsPolicy
  def accept?; end
  def destroy?; end
  def follow?; end
  def show?; end

  private

  def in_following?; end
end

class Federails::Client::FollowingPolicy::Scope < ::Federails::FederailsPolicy::Scope
  def resolve; end
end

class Federails::Client::FollowingsController < ::Federails::ClientController
  def accept; end
  def create; end
  def destroy; end
  def follow; end
  def new; end

  private

  def _layout(lookup_context, formats, keys); end
  def _layout_from_proc; end
  def following_account_params; end
  def following_params; end
  def save_and_render; end
  def set_following; end

  class << self
    private

    def __class_attr___callbacks; end
    def __class_attr___callbacks=(new_value); end
    def __class_attr_config; end
    def __class_attr_config=(new_value); end
    def __class_attr_middleware_stack; end
    def __class_attr_middleware_stack=(new_value); end
  end
end

class Federails::ClientController < ::ActionController::Base
  include ::Pundit::Authorization

  private

  def _layout(lookup_context, formats, keys); end
  def _layout_from_proc; end

  class << self
    private

    def __class_attr___callbacks; end
    def __class_attr___callbacks=(new_value); end
    def __class_attr__helper_methods; end
    def __class_attr__helper_methods=(new_value); end
    def __class_attr_config; end
    def __class_attr_config=(new_value); end
    def __class_attr_middleware_stack; end
    def __class_attr_middleware_stack=(new_value); end
  end
end

module Federails::ClientController::HelperMethods
  include ::ActionText::ContentHelper
  include ::ActionText::TagHelper
  include ::Turbo::DriveHelper
  include ::Turbo::FramesHelper
  include ::Turbo::IncludesHelper
  include ::Turbo::StreamsHelper
  include ::ActionView::Helpers::CaptureHelper
  include ::ActionView::Helpers::OutputSafetyHelper
  include ::ActionView::Helpers::TagHelper
  include ::Turbo::Streams::ActionHelper
  include ::Shakapacker::Helper
  include ::ViteRails::TagHelpers
  include ::ActionController::Base::HelperMethods
  include ::Pundit::Helper

  def policy(*_arg0, **_arg1, &_arg2); end
  def pundit_policy_scope(*_arg0, **_arg1, &_arg2); end
  def pundit_user(*_arg0, **_arg1, &_arg2); end
end

# Stores the Federails configuration in a _singleton_.
#
# source://federails//lib/federails/configuration.rb#5
module Federails::Configuration
  # source://federails//lib/federails/configuration.rb#85
  def actor_types; end

  # source://federails//lib/federails/configuration.rb#39
  def app_layout; end

  # source://federails//lib/federails/configuration.rb#39
  def app_layout=(val); end

  # source://federails//lib/federails/configuration.rb#7
  def app_name; end

  # source://federails//lib/federails/configuration.rb#7
  def app_name=(val); end

  # source://federails//lib/federails/configuration.rb#11
  def app_version; end

  # source://federails//lib/federails/configuration.rb#11
  def app_version=(val); end

  # source://federails//lib/federails/configuration.rb#51
  def base_client_controller; end

  # source://federails//lib/federails/configuration.rb#51
  def base_client_controller=(val); end

  # source://federails//lib/federails/configuration.rb#47
  def client_routes_path; end

  # source://federails//lib/federails/configuration.rb#47
  def client_routes_path=(val); end

  # source://federails//lib/federails/configuration.rb#93
  def data_types; end

  # source://federails//lib/federails/configuration.rb#27
  def enable_discovery; end

  # source://federails//lib/federails/configuration.rb#27
  def enable_discovery=(val); end

  # source://federails//lib/federails/configuration.rb#15
  def force_ssl; end

  # source://federails//lib/federails/configuration.rb#15
  def force_ssl=(val); end

  # source://federails//lib/federails/configuration.rb#32
  def open_registrations=(val); end

  # source://federails//lib/federails/configuration.rb#71
  def remote_follow_url_method; end

  # source://federails//lib/federails/configuration.rb#71
  def remote_follow_url_method=(val); end

  # source://federails//lib/federails/configuration.rb#43
  def server_routes_path; end

  # source://federails//lib/federails/configuration.rb#43
  def server_routes_path=(val); end

  # source://federails//lib/federails/configuration.rb#19
  def site_host; end

  # source://federails//lib/federails/configuration.rb#23
  def site_port; end

  class << self
    # source://federails//lib/federails/configuration.rb#85
    def actor_types; end

    # source://federails//lib/federails/configuration.rb#39
    def app_layout; end

    # source://federails//lib/federails/configuration.rb#39
    def app_layout=(val); end

    # source://federails//lib/federails/configuration.rb#7
    def app_name; end

    # source://federails//lib/federails/configuration.rb#7
    def app_name=(val); end

    # source://federails//lib/federails/configuration.rb#11
    def app_version; end

    # source://federails//lib/federails/configuration.rb#11
    def app_version=(val); end

    # source://federails//lib/federails/configuration.rb#51
    def base_client_controller; end

    # source://federails//lib/federails/configuration.rb#51
    def base_client_controller=(val); end

    # source://federails//lib/federails/configuration.rb#47
    def client_routes_path; end

    # source://federails//lib/federails/configuration.rb#47
    def client_routes_path=(val); end

    # source://federails//lib/federails/configuration.rb#93
    def data_types; end

    # source://federails//lib/federails/configuration.rb#27
    def enable_discovery; end

    # source://federails//lib/federails/configuration.rb#27
    def enable_discovery=(val); end

    # source://federails//lib/federails/configuration.rb#15
    def force_ssl; end

    # source://federails//lib/federails/configuration.rb#15
    def force_ssl=(val); end

    # source://federails//lib/federails/configuration.rb#34
    def open_registrations; end

    # source://federails//lib/federails/configuration.rb#32
    def open_registrations=(val); end

    # source://federails//lib/federails/configuration.rb#88
    def register_actor_class(klass, config = T.unsafe(nil)); end

    # source://federails//lib/federails/configuration.rb#96
    def register_data_type(klass, config = T.unsafe(nil)); end

    # Route method for remote-following requests
    #
    # source://federails//lib/federails/configuration.rb#71
    def remote_follow_url_method; end

    # Sets the route method for remote-following requests
    #
    # The route should lead to a page displaying the remote actor and a button to follow it.
    # Remote actor is specified in the `uri` query parameter.
    #
    # Its value defaults to a route of the Federails client, so your application will break
    # if you don't use the client routes and don't override this value.
    #
    # @example
    #   remote_follow_url_method 'main_app.my_custom_route_helper'
    # @param value [String] Route method name as used in links
    #
    # source://federails//lib/federails/configuration.rb#71
    def remote_follow_url_method=(val); end

    # source://federails//lib/federails/configuration.rb#43
    def server_routes_path; end

    # source://federails//lib/federails/configuration.rb#43
    def server_routes_path=(val); end

    # source://federails//lib/federails/configuration.rb#19
    def site_host; end

    # source://federails//lib/federails/configuration.rb#74
    def site_host=(value); end

    # source://federails//lib/federails/configuration.rb#23
    def site_port; end

    # source://federails//lib/federails/configuration.rb#79
    def site_port=(value); end
  end
end

# source://federails//lib/federails.rb#15
Federails::DEFAULT_DATA_FILTER_METHOD = T.let(T.unsafe(nil), Symbol)

module Federails::DataEntity
  extend ::ActiveSupport::Concern
  include ::Federails::HandlesDeleteRequests

  mixes_in_class_methods ::Federails::HandlesDeleteRequests::ClassMethods
  mixes_in_class_methods ::Federails::DataEntity::ClassMethods

  def federails_data_configuration; end
  def federails_sync!; end
  def federails_tombstoned?; end
  def federails_tombstoned_at; end
  def federated_url; end
  def local_federails_entity?; end

  private

  def create_federails_activity(action); end
  def default_should_federate?; end
  def ensure_federails_configuration!; end
  def set_federails_actor; end
end

module Federails::DataEntity::ClassMethods
  def acts_as_federails_data(handles:, with: T.unsafe(nil), route_path_segment: T.unsafe(nil), actor_entity_method: T.unsafe(nil), url_param: T.unsafe(nil), filter_method: T.unsafe(nil), should_federate_method: T.unsafe(nil), soft_deleted_method: T.unsafe(nil), soft_delete_date_method: T.unsafe(nil)); end
  def find_untombstoned_by!(**params); end
  def handle_incoming_fediverse_data(activity_hash_or_id); end
  def new_from_activitypub_object(activitypub_object); end
end

class Federails::DataEntity::TombstonedError < ::StandardError; end

# source://federails//lib/federails/engine.rb#2
class Federails::Engine < ::Rails::Engine; end

class Federails::FederailsPolicy
  def initialize(user, record); end

  def create?; end
  def destroy?; end
  def edit?; end
  def index?; end
  def new?; end
  def record; end
  def show?; end
  def update?; end
  def user; end

  private

  def owner?; end
  def user_with_actor?; end
end

class Federails::FederailsPolicy::Scope
  def initialize(user, scope); end

  def resolve; end
  def scope; end
  def user; end
end

class Federails::Following < ::Federails::ApplicationRecord
  include ::Federails::Following::GeneratedAttributeMethods
  include ::Federails::Following::GeneratedAssociationMethods
  include ::Federails::HasUuid

  def _on_federails_delete_requested_callbacks; end
  def _run_create_callbacks(&block); end
  def _run_destroy_callbacks(&block); end
  def _run_on_federails_delete_requested_callbacks(&block); end
  def _run_on_federails_delete_requested_callbacks!(&block); end
  def _run_save_callbacks(&block); end
  def _run_update_callbacks(&block); end
  def accept!; end
  def autosave_associated_records_for_activities(*args); end
  def autosave_associated_records_for_actor(*args); end
  def autosave_associated_records_for_target_actor(*args); end
  def federated_url; end
  def follow_activity; end
  def validate_associated_records_for_activities(*args); end

  private

  def after_follow; end
  def after_follow_accepted; end
  def create_activity; end
  def destroy_activity; end
  def locally_instigated?; end

  class << self
    def _on_federails_delete_requested_callbacks; end
    def _on_federails_delete_requested_callbacks=(value); end
    def accepted(*args, **_arg1); end
    def find_param(param); end
    def new_from_account(account, actor:); end
    def not_accepted(*args, **_arg1); end
    def not_pending(*args, **_arg1); end
    def pending(*args, **_arg1); end
    def statuses; end
    def with_actor(*args, **_arg1); end

    private

    def __class_attr___callbacks; end
    def __class_attr___callbacks=(new_value); end
    def __class_attr__reflections; end
    def __class_attr__reflections=(new_value); end
    def __class_attr__validators; end
    def __class_attr__validators=(new_value); end
    def __class_attr_defined_enums; end
    def __class_attr_defined_enums=(new_value); end
  end
end

module Federails::Following::GeneratedAssociationMethods
  def activities; end
  def activities=(value); end
  def activity_ids; end
  def activity_ids=(ids); end
  def actor; end
  def actor=(value); end
  def actor_changed?; end
  def actor_previously_changed?; end
  def build_actor(*args, &block); end
  def build_target_actor(*args, &block); end
  def create_actor(*args, &block); end
  def create_actor!(*args, &block); end
  def create_target_actor(*args, &block); end
  def create_target_actor!(*args, &block); end
  def reload_actor; end
  def reload_target_actor; end
  def reset_actor; end
  def reset_target_actor; end
  def target_actor; end
  def target_actor=(value); end
  def target_actor_changed?; end
  def target_actor_previously_changed?; end
end

module Federails::Following::GeneratedAttributeMethods; end

module Federails::HandlesDeleteRequests
  extend ::ActiveSupport::Concern

  mixes_in_class_methods ::Federails::HandlesDeleteRequests::ClassMethods
end

module Federails::HandlesDeleteRequests::ClassMethods
  def on_federails_delete_requested(*args); end
  def on_federails_undelete_requested(*args); end
end

module Federails::HasUuid
  extend ::ActiveSupport::Concern

  def to_param; end
  def uuid; end

  private

  def generate_uuid; end
end

class Federails::NotifyInboxJob < ::Federails::ApplicationJob
  def perform(activity); end

  class << self
    private

    def __class_attr_queue_name; end
    def __class_attr_queue_name=(new_value); end
  end
end

module Federails::Server; end

class Federails::Server::ActivitiesController < ::Federails::ServerController
  def create; end
  def outbox; end
  def show; end

  private

  def _layout(lookup_context, formats, keys); end
  def _layout_from_proc; end
  def activity_params; end
  def payload_from_params; end
  def set_activity; end
  def validate_payload(hash); end

  class << self
    private

    def __class_attr___callbacks; end
    def __class_attr___callbacks=(new_value); end
    def __class_attr_config; end
    def __class_attr_config=(new_value); end
    def __class_attr_middleware_stack; end
    def __class_attr_middleware_stack=(new_value); end
  end
end

class Federails::Server::ActivityPolicy < ::Federails::FederailsPolicy
  def outbox?; end
end

class Federails::Server::ActorPolicy < ::Federails::FederailsPolicy
  def followers?; end
  def following?; end
  def show?; end
end

class Federails::Server::ActorPolicy::Scope < ::Federails::FederailsPolicy::Scope
  def resolve; end
end

class Federails::Server::ActorsController < ::Federails::ServerController
  def followers; end
  def following; end
  def show; end

  private

  def _layout(lookup_context, formats, keys); end
  def _layout_from_proc; end
  def followings_queries; end
  def set_actor; end

  class << self
    private

    def __class_attr___callbacks; end
    def __class_attr___callbacks=(new_value); end
    def __class_attr_config; end
    def __class_attr_config=(new_value); end
    def __class_attr_middleware_stack; end
    def __class_attr_middleware_stack=(new_value); end
  end
end

class Federails::Server::FollowingPolicy < ::Federails::FederailsPolicy; end

class Federails::Server::FollowingsController < ::Federails::ServerController
  def show; end

  private

  def _layout(lookup_context, formats, keys); end
  def _layout_from_proc; end
  def set_following; end

  class << self
    private

    def __class_attr___callbacks; end
    def __class_attr___callbacks=(new_value); end
    def __class_attr_config; end
    def __class_attr_config=(new_value); end
    def __class_attr_middleware_stack; end
    def __class_attr_middleware_stack=(new_value); end
  end
end

class Federails::Server::NodeinfoController < ::Federails::ServerController
  def index; end
  def show; end

  private

  def _layout(lookup_context, formats, keys); end
  def _layout_from_proc; end

  class << self
    private

    def __class_attr_config; end
    def __class_attr_config=(new_value); end
    def __class_attr_middleware_stack; end
    def __class_attr_middleware_stack=(new_value); end
  end
end

class Federails::Server::PublishablePolicy < ::Federails::FederailsPolicy
  def show?; end
end

class Federails::Server::PublishablePolicy::Scope < ::Federails::FederailsPolicy::Scope
  def resolve; end
end

class Federails::Server::PublishedController < ::Federails::ServerController
  def show; end

  private

  def _layout(lookup_context, formats, keys); end
  def _layout_from_proc; end
  def publishable_config; end
  def type_scope; end
  def url_param; end

  class << self
    private

    def __class_attr_config; end
    def __class_attr_config=(new_value); end
    def __class_attr_middleware_stack; end
    def __class_attr_middleware_stack=(new_value); end
  end
end

class Federails::Server::WebFingerController < ::Federails::ServerController
  def find; end
  def host_meta; end

  private

  def _layout(lookup_context, formats, keys); end
  def _layout_from_proc; end
  def username; end

  class << self
    private

    def __class_attr_config; end
    def __class_attr_config=(new_value); end
    def __class_attr_middleware_stack; end
    def __class_attr_middleware_stack=(new_value); end
  end
end

class Federails::ServerController < ::ActionController::Base
  include ::Pundit::Authorization

  private

  def _layout(lookup_context, formats, keys); end
  def _layout_from_proc; end
  def error_fallback(exception, fallback_message, status); end
  def error_gone(exception = T.unsafe(nil)); end
  def error_not_found(exception = T.unsafe(nil)); end

  class << self
    private

    def __class_attr___callbacks; end
    def __class_attr___callbacks=(new_value); end
    def __class_attr__helper_methods; end
    def __class_attr__helper_methods=(new_value); end
    def __class_attr_config; end
    def __class_attr_config=(new_value); end
    def __class_attr_middleware_stack; end
    def __class_attr_middleware_stack=(new_value); end
    def __class_attr_rescue_handlers; end
    def __class_attr_rescue_handlers=(new_value); end
  end
end

module Federails::ServerController::HelperMethods
  include ::ActionText::ContentHelper
  include ::ActionText::TagHelper
  include ::Turbo::DriveHelper
  include ::Turbo::FramesHelper
  include ::Turbo::IncludesHelper
  include ::Turbo::StreamsHelper
  include ::ActionView::Helpers::CaptureHelper
  include ::ActionView::Helpers::OutputSafetyHelper
  include ::ActionView::Helpers::TagHelper
  include ::Turbo::Streams::ActionHelper
  include ::Shakapacker::Helper
  include ::ViteRails::TagHelpers
  include ::ActionController::Base::HelperMethods
  include ::Federails::ServerHelper
  include ::Pundit::Helper

  def policy(*_arg0, **_arg1, &_arg2); end
  def pundit_policy_scope(*_arg0, **_arg1, &_arg2); end
  def pundit_user(*_arg0, **_arg1, &_arg2); end
end

module Federails::ServerHelper
  def remote_follow_url; end
end

# source://federails//lib/federails/utils/object.rb#2
module Federails::Utils; end

# source://federails//lib/federails/utils/actor.rb#3
class Federails::Utils::Actor
  class << self
    # @param actor [Federails::Actor]
    # @return [Federails::Actor]
    #
    # source://federails//lib/federails/utils/actor.rb#20
    def tombstone!(actor); end

    # source://federails//lib/federails/utils/actor.rb#30
    def untombstone!(actor); end

    private

    # source://federails//lib/federails/utils/actor.rb#73
    def tombstone_distant_actor(actor); end

    # source://federails//lib/federails/utils/actor.rb#40
    def tombstone_local_actor(actor); end

    # source://federails//lib/federails/utils/actor.rb#77
    def untombstone_distant_actor(actor); end

    # source://federails//lib/federails/utils/actor.rb#55
    def untombstone_local_actor(actor); end
  end
end

# List of the attributes computed for local actors
#
# source://federails//lib/federails/utils/actor.rb#5
Federails::Utils::Actor::COMPUTED_ATTRIBUTES = T.let(T.unsafe(nil), Array)

# source://federails//lib/federails/utils/host.rb#3
class Federails::Utils::Host
  class << self
    # Gets the route on the current instance, or nil
    #
    # @param url [String] URL to check
    # @return [ActionDispatch::Routing::RouteSet, nil] nil when URL do not match a route
    #
    # source://federails//lib/federails/utils/host.rb#32
    def local_route(url); end

    # Checks if the given URL points somewhere on current instance
    #
    # @param url [String] URL to check
    # @return [true, false]
    #
    # source://federails//lib/federails/utils/host.rb#20
    def local_url?(url); end

    # @return [String] Host and port of the current instance
    #
    # source://federails//lib/federails/utils/host.rb#9
    def localhost; end

    private

    # source://federails//lib/federails/utils/host.rb#42
    def host_and_port(host, port); end
  end
end

# Simple wrapper to make requests expecting JSON
#
# source://federails//lib/federails/utils/json_request.rb#7
module Federails::Utils::JsonRequest
  class << self
    # Makes a GET request and returns a +Hash+ from the parsed body
    #
    # @param expected_status [Integer] Expected response status. Will raise a +UnhandledResponseStatus+ when status is different
    # @param follow_redirects [Boolean] Whether to follow redirections
    # @param headers [Hash] Additional headers
    # @param params [Hash] Querystring parameters
    # @param url [String] Target URL
    # @raise [UnhandledResponseStatus] when response status is not the expected_status
    # @return The parsed JSON object
    #
    # source://federails//lib/federails/utils/json_request.rb#26
    def get_json(url, params: T.unsafe(nil), headers: T.unsafe(nil), follow_redirects: T.unsafe(nil), expected_status: T.unsafe(nil)); end
  end
end

# source://federails//lib/federails/utils/json_request.rb#10
Federails::Utils::JsonRequest::BASE_HEADERS = T.let(T.unsafe(nil), Hash)

# source://federails//lib/federails/utils/json_request.rb#8
class Federails::Utils::JsonRequest::UnhandledResponseStatus < ::StandardError; end

# Methods to manipulate incoming objects
#
# source://federails//lib/federails/utils/object.rb#4
class Federails::Utils::Object
  class << self
    # Search for a distant object in actors and configured data entities.
    #
    # This is useful to find something when the type is unknown, as an object from a Delete activity.
    #
    # @param federated_url [String] Object identifier
    # @return [Federails::Actor, Federails::DataEntity, Federails::Following, nil]
    #
    # source://federails//lib/federails/utils/object.rb#29
    def find_distant_object_in_all(federated_url); end

    # Finds or create an entity from an ActivityPub object or id
    #
    # Note that the data transformer MUST return timestamps from the ActivityPub object if used on the model,
    # as they won't be set automatically.
    #
    # @param object_or_id [String, Hash] String identifier or incoming object
    # @return [ApplicationRecord, nil] Entity or nil when invalid/not found
    # @see .find_or_initialize!
    #
    # source://federails//lib/federails/utils/object.rb#72
    def find_or_create!(object_or_id); end

    # Finds data from an object or its ID.
    #
    # When data exists locally, the entity is returned.
    # For distant data, a new instance is returned unless the target does not exist.
    #
    # @param object_or_id [String, Hash] String identifier or incoming object
    # @return [ApplicationRecord, nil] Entity or nil when invalid/not found
    #
    # source://federails//lib/federails/utils/object.rb#14
    def find_or_initialize(object_or_id); end

    # Finds or initializes an entity from an ActivityPub object or id
    #
    # @param object_or_id [String, Hash] String identifier or incoming object
    # @raise [ActiveRecord::RecordNotFound]
    # @return [ApplicationRecord, nil] Entity or nil when invalid/not found
    # @see .find_or_initialize
    #
    # source://federails//lib/federails/utils/object.rb#55
    def find_or_initialize!(object_or_id); end

    # Returns the timestamps to use from an ActivityPub object
    #
    # @param hash [Hash] ActivityPub object
    # @return [Hash] Hash with timestamps
    #
    # source://federails//lib/federails/utils/object.rb#85
    def timestamp_attributes(hash); end

    private

    # source://federails//lib/federails/utils/object.rb#111
    def from_distant_server(federated_url); end

    # source://federails//lib/federails/utils/object.rb#102
    def from_local_route(route); end

    # source://federails//lib/federails/utils/object.rb#94
    def local_route(url); end
  end
end

# source://federails//lib/federails/version.rb#2
Federails::VERSION = T.let(T.unsafe(nil), String)

# This module includes classes and helpers to interact with the Fediverse.
#
# source://federails//lib/fediverse/request.rb#3
module Fediverse; end

# source://federails//lib/fediverse/inbox.rb#4
class Fediverse::Inbox
  class << self
    # Executes the registered handler for an incoming object
    #
    # @param payload [Hash] Dereferenced activity
    #
    # source://federails//lib/fediverse/inbox.rb#27
    def dispatch_request(payload); end

    # Registers a handler for incoming data
    #
    # Unless a specific type is not implemented in Federails, you should leave the 'Delete' activity to Federails:
    # it will dispatch a `on_federails_delete_requested` event on the right objects.
    #
    # @param activity_type [String] Target activity type ('Create', 'Follow', 'Like', ...)
    #   See https://www.w3.org/TR/activitystreams-vocabulary/#activity-types for a list of common ones
    # @param klass [String] Class handling the incoming object
    # @param method [Symbol] Method in the class that will handle the object
    # @param object_type [String] Type of the related object ('Article', 'Note', ...)
    #   See https://www.w3.org/TR/activitystreams-vocabulary/#object-types for a list of common object types
    #
    # source://federails//lib/fediverse/inbox.rb#18
    def register_handler(activity_type, object_type, klass, method); end

    private

    # source://federails//lib/fediverse/inbox.rb#44
    def dispatch_delete_request(payload); end

    # source://federails//lib/fediverse/inbox.rb#52
    def get_handlers(activity_type, object_type); end

    # source://federails//lib/fediverse/inbox.rb#66
    def handle_accept_follow_request(activity); end

    # source://federails//lib/fediverse/inbox.rb#59
    def handle_create_follow_request(activity); end

    # source://federails//lib/fediverse/inbox.rb#87
    def handle_delete_request(activity); end

    # source://federails//lib/fediverse/inbox.rb#94
    def handle_undelete_request(activity); end

    # source://federails//lib/fediverse/inbox.rb#77
    def handle_undo_follow_request(activity); end
  end
end

# source://federails//lib/fediverse/notifier.rb#4
class Fediverse::Notifier
  class << self
    # source://federails//lib/fediverse/notifier.rb#30
    def post_to_inbox(to:, message:, from: T.unsafe(nil)); end

    # Posts an activity to its recipients
    #
    # @param activity [Federails::Activity]
    #
    # source://federails//lib/fediverse/notifier.rb#9
    def post_to_inboxes(activity); end

    private

    # source://federails//lib/fediverse/notifier.rb#56
    def digest(message); end

    # source://federails//lib/fediverse/notifier.rb#22
    def payload(activity); end

    # source://federails//lib/fediverse/notifier.rb#44
    def request(to:, message:); end

    # source://federails//lib/fediverse/notifier.rb#38
    def signed_request(to:, message:, from:); end
  end
end

# source://federails//lib/fediverse/request.rb#4
class Fediverse::Request
  class << self
    # Dereferences a value
    #
    # @param value [String, Hash]
    # @return [Hash, nil]
    #
    # source://federails//lib/fediverse/request.rb#11
    def dereference(value); end

    private

    # source://federails//lib/fediverse/request.rb#20
    def get(id); end
  end
end

# source://federails//lib/fediverse/signature.rb#2
class Fediverse::Signature
  class << self
    # source://federails//lib/fediverse/signature.rb#4
    def sign(sender:, request:); end

    # source://federails//lib/fediverse/signature.rb#19
    def verify(sender:, request:); end

    private

    # source://federails//lib/fediverse/signature.rb#38
    def signature_payload(request:, headers:); end
  end
end

# Methods related to Webfinger: find accounts, fetch actors,...
#
# source://federails//lib/fediverse/webfinger.rb#6
class Fediverse::Webfinger
  class << self
    # Fetches a distant actor
    #
    # @param domain [String]
    # @param username [String]
    # @return [Federails::Actor, nil] Federails actor or nothing when not found
    #
    # source://federails//lib/fediverse/webfinger.rb#35
    def fetch_actor(username, domain); end

    # Fetches an actor given its URL
    #
    # @param url [String] Actor's federation URL
    # @return [Federails::Actor, nil] Federails actor or nothing when not found
    #
    # source://federails//lib/fediverse/webfinger.rb#44
    def fetch_actor_url(url); end

    # Determines if a given account string should be a local account (same host as configured one)
    #
    # @param hash [Hash, MatchData] Object with +:username+ and +:domain+ keys
    # @return [Boolean]
    #
    # source://federails//lib/fediverse/webfinger.rb#25
    def local_user?(hash); end

    # Returns remote follow link template, or complete link if actor_url is provided
    #
    # @param actor_url [String] Optional Federation URL to provide when known
    # @param domain [String]
    # @param username [String]
    # @return [String] The URL to use as follow URL
    #
    # source://federails//lib/fediverse/webfinger.rb#68
    def remote_follow_url(username, domain, actor_url: T.unsafe(nil)); end

    # Extracts username and domain from an account string.
    # Accepts forms "user@domain", "@user@domain" and "acct:user@domain"
    #
    # @param account [String] Account string
    # @return [MatchData, nil] Matches with +:username+ and +:domain+ or +nil+
    #
    # source://federails//lib/fediverse/webfinger.rb#16
    def split_account(account); end

    # Gets the real actor's federation URL from its username and domain
    #
    # @param domain [String]
    # @param username [String]
    # @return [String, nil] Federation URL if found
    #
    # source://federails//lib/fediverse/webfinger.rb#54
    def webfinger(username, domain); end

    private

    # Makes a simple GET request and returns a +Hash+ from the parsed body
    #
    # @raise [ActiveRecord::RecordNotFound] when the response is invalid
    # @return [Hash]
    #
    # source://federails//lib/fediverse/webfinger.rb#123
    def get_json(url, params = T.unsafe(nil)); end

    # Extracts the server and port from a string, omitting common ports
    #
    # @return [String] Server and port
    #
    # source://federails//lib/fediverse/webfinger.rb#91
    def server_and_port(string); end

    # Makes a webfinger request for a given username/domain
    #
    # @return [Hash] Webfinger response's content
    #
    # source://federails//lib/fediverse/webfinger.rb#84
    def webfinger_response(username, domain); end

    # Builds a +Federails::Actor+ from a Webfinger response
    #
    # @param data [Hash] Webfinger response
    # @return [Federails::Actor]
    #
    # source://federails//lib/fediverse/webfinger.rb#103
    def webfinger_to_actor(data); end
  end
end
