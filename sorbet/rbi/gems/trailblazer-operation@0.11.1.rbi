# typed: true

# DO NOT EDIT MANUALLY
# This is an autogenerated file for types exported from the `trailblazer-operation` gem.
# Please instead update this file by running `bin/tapioca gem trailblazer-operation`.


# Developer's docs: https://trailblazer.to/2.1/docs/internals.html#internals-operation
#
# source://trailblazer-operation//lib/trailblazer/operation/version.rb#1
module Trailblazer
  class << self
    # DISCUSS: where do we need this?
    #
    # source://trailblazer-operation//lib/trailblazer/operation.rb#37
    def Operation(options); end
  end
end

# As opposed to {Activity::Railway} and {Activity::FastTrack} an operation
# maintains different terminus subclasses.
# DISCUSS: remove this, at some point in time!
#
# source://trailblazer-operation//lib/trailblazer/operation.rb#12
class Trailblazer::Activity; end

# source://trailblazer-operation//lib/trailblazer/operation.rb#24
module Trailblazer::Activity::Operation
  class << self
    # source://trailblazer-operation//lib/trailblazer/operation.rb#25
    def OptionsForState; end
  end
end

# source://trailblazer-operation//lib/trailblazer/operation.rb#13
class Trailblazer::Activity::Railway < ::Trailblazer::Activity::DSL::Linear::Strategy; end

# source://trailblazer-operation//lib/trailblazer/operation.rb#14
module Trailblazer::Activity::Railway::End; end

# source://trailblazer-operation//lib/trailblazer/operation.rb#19
class Trailblazer::Activity::Railway::End::FailFast < ::Trailblazer::Activity::Railway::End::Failure; end

# source://trailblazer-operation//lib/trailblazer/operation.rb#17
class Trailblazer::Activity::Railway::End::Failure < ::Trailblazer::Activity::End; end

# source://trailblazer-operation//lib/trailblazer/operation.rb#20
class Trailblazer::Activity::Railway::End::PassFast < ::Trailblazer::Activity::Railway::End::Success; end

# @private
#
# source://trailblazer-operation//lib/trailblazer/operation.rb#16
class Trailblazer::Activity::Railway::End::Success < ::Trailblazer::Activity::End; end

# The Trailblazer-style operation.
# Note that you don't have to use our "opinionated" version with result object, etc.
#
# source://trailblazer-operation//lib/trailblazer/operation.rb#45
class Trailblazer::Operation < ::Trailblazer::Activity::FastTrack
  extend ::Trailblazer::Operation::PublicCall
  extend ::Trailblazer::Operation::Wtf

  class << self
    # source://trailblazer-operation//lib/trailblazer/operation.rb#47
    def strategy_call(args, **circuit_options); end
  end
end

# The use of this module is currently not encouraged and it is only here for backward-compatibility.
# Instead, please pass dependencies via containers, locals, or macros into the respective steps.
#
# source://trailblazer-operation//lib/trailblazer/operation/class_dependencies.rb#6
module Trailblazer::Operation::ClassDependencies
  # source://trailblazer-operation//lib/trailblazer/operation/class_dependencies.rb#7
  def [](field); end

  # Store a field on @state, which is provided by {Strategy}.
  #
  # source://trailblazer-operation//lib/trailblazer/operation/class_dependencies.rb#12
  def []=(field, value); end

  # source://trailblazer-operation//lib/trailblazer/operation/class_dependencies.rb#31
  def call_with_circuit_interface(_arg0, **circuit_options); end

  # source://trailblazer-operation//lib/trailblazer/operation/class_dependencies.rb#18
  def options_for_public_call(options, flow_options); end

  private

  # source://trailblazer-operation//lib/trailblazer/operation/class_dependencies.rb#23
  def class_fields; end

  # source://trailblazer-operation//lib/trailblazer/operation/class_dependencies.rb#27
  def context_for_fields(fields, _arg1, **_arg2); end
end

# source://trailblazer-operation//lib/trailblazer/operation/deprecated_macro.rb#3
module Trailblazer::Operation::DeprecatedMacro
  class << self
    # Allows old macros with the `(input, options)` signature.
    #
    # source://trailblazer-operation//lib/trailblazer/operation/deprecated_macro.rb#5
    def call(proc, options); end
  end
end

# source://trailblazer-operation//lib/trailblazer/operation/public_call.rb#2
module Trailblazer::Operation::PublicCall
  # This is the outer-most public `call` method that gets invoked when calling `Create.()`.
  # The signature of this is `params, options, *containers`. This was a mistake, as the
  # first argument could've been part of `options` hash in the first place.
  #
  # Create.(params, runtime_data, *containers)
  #   #=> Result<Context...>
  #
  # In workflows/Nested compositions, this method is not used anymore and it might probably
  # get removed in future versions of TRB. Currently, we use Operation::__call__ as an alternative.
  #
  # @note Do not override this method as it will be removed in future versions. Also, you will break tracing.
  # @return Operation::Railway::Result binary result object
  #
  # source://trailblazer-operation//lib/trailblazer/operation/public_call.rb#16
  def call(options = T.unsafe(nil), flow_options = T.unsafe(nil), **circuit_options); end

  # This interface is used for all nested OPs (and the outer-most, too).
  #
  # @param args [Array] - Contains [ctx, flow_options]
  # @param circuit_options [Hash] - Options to configure activity circuit
  # @private
  # @return [signal, [ctx, flow_options]]
  #
  # source://trailblazer-operation//lib/trailblazer/operation/public_call.rb#64
  def call_with_circuit_interface(args, **circuit_options); end

  # TODO: remove when we stop supporting < 3.0.
  #       alternatively, ctx aliasing is only available for Ruby > 2.7.
  #
  # source://trailblazer-operation//lib/trailblazer/operation/public_call.rb#85
  def call_with_flow_options(options, flow_options); end

  # Default {@activity} call interface which doesn't accept {circuit_options}
  #
  # @semi-public It's OK to override this method.
  #
  # @param args [Array] => [ctx, flow_options]
  # @return [Operation::Railway::Result]
  #
  # source://trailblazer-operation//lib/trailblazer/operation/public_call.rb#38
  def call_with_public_interface(options, flow_options, invoke_class: T.unsafe(nil), **circuit_options); end

  # @private Please do not override this method as it might get removed.
  #
  # source://trailblazer-operation//lib/trailblazer/operation/public_call.rb#23
  def call_with_public_interface_from_call(options, flow_options, **circuit_options); end

  # @semi=public
  #
  # source://trailblazer-operation//lib/trailblazer/operation/public_call.rb#79
  def flow_options_for_public_call(options = T.unsafe(nil)); end

  # source://trailblazer-operation//lib/trailblazer/operation/public_call.rb#114
  def initial_wrap_static; end

  # source://trailblazer-operation//lib/trailblazer/operation/public_call.rb#68
  def options_for_public_call(*args); end

  class << self
    # This TaskWrap step replaces the default {call_task} step for this very operation.
    # Instead of invoking the operation using {Operation.call}, it does {Operation.call_with_circuit_interface},
    # so we don't invoke {Operation.call} twice.
    #
    # I don't really like this "hack", but it's the only way until we get method overloading.
    #
    # @private
    #
    # source://trailblazer-operation//lib/trailblazer/operation/public_call.rb#97
    def call_task(wrap_ctx, original_args); end

    # Compile a Context object to be passed into the Activity::call.
    #
    # @private
    #
    # source://trailblazer-operation//lib/trailblazer/operation/public_call.rb#74
    def options_for_public_call(options, flow_options = T.unsafe(nil)); end
  end
end

# source://trailblazer-operation//lib/trailblazer/operation/public_call.rb#112
Trailblazer::Operation::PublicCall::INITIAL_WRAP_STATIC = T.let(T.unsafe(nil), Trailblazer::Activity::TaskWrap::Pipeline)

# End event: All subclasses of End:::Success are interpreted as "success".
#
# source://trailblazer-operation//lib/trailblazer/operation/railway.rb#7
module Trailblazer::Operation::Railway
  class << self
    # @param options Context
    # @param terminus The last emitted signal in a circuit is the end event/terminus.
    #
    # source://trailblazer-operation//lib/trailblazer/operation/railway.rb#14
    def Result(terminus, options, *_arg2); end

    # source://trailblazer-operation//lib/trailblazer/operation/railway.rb#8
    def fail!; end

    # source://trailblazer-operation//lib/trailblazer/operation/railway.rb#10
    def fail_fast!; end

    # source://trailblazer-operation//lib/trailblazer/operation/railway.rb#9
    def pass!; end

    # source://trailblazer-operation//lib/trailblazer/operation/railway.rb#11
    def pass_fast!; end
  end
end

# source://trailblazer-operation//lib/trailblazer/operation/railway.rb#35
module Trailblazer::Operation::Railway::End; end

# source://trailblazer-operation//lib/trailblazer/operation/railway.rb#37
Trailblazer::Operation::Railway::End::Failure = Trailblazer::Activity::Railway::End::Failure

# source://trailblazer-operation//lib/trailblazer/operation/railway.rb#36
Trailblazer::Operation::Railway::End::Success = Trailblazer::Activity::Railway::End::Success

# The Railway::Result knows about its binary state, the context (data), and
# the reached terminus of the circuit.
#
# source://trailblazer-operation//lib/trailblazer/operation/railway.rb#20
class Trailblazer::Operation::Railway::Result < ::Trailblazer::Operation::Result
  # Operation::Result
  #
  # @return [Result] a new instance of Result
  #
  # source://trailblazer-operation//lib/trailblazer/operation/railway.rb#21
  def initialize(success, data, terminus); end

  # source://trailblazer-operation//lib/trailblazer/operation/railway.rb#27
  def event; end

  # Returns the value of attribute terminus.
  #
  # source://trailblazer-operation//lib/trailblazer/operation/railway.rb#32
  def terminus; end
end

# source://trailblazer-operation//lib/trailblazer/operation/result.rb#2
class Trailblazer::Operation::Result
  extend ::Forwardable

  # @param data Context
  # @param success Boolean validity of the result object
  # @return [Result] a new instance of Result
  #
  # source://trailblazer-operation//lib/trailblazer/operation/result.rb#5
  def initialize(success, data); end

  # source://trailblazer-operation//lib/trailblazer/operation/result.rb#26
  def [](*args, **_arg1, &block); end

  # @return [Boolean]
  #
  # source://trailblazer-operation//lib/trailblazer/operation/result.rb#13
  def failure?; end

  # DISCUSS: the two methods below are more for testing.
  #
  # source://trailblazer-operation//lib/trailblazer/operation/result.rb#29
  def inspect(*slices); end

  # source://trailblazer-operation//lib/trailblazer/operation/result.rb#21
  def keys; end

  # source://trailblazer-operation//lib/trailblazer/operation/result.rb#35
  def slice(*keys); end

  # @return [Boolean]
  #
  # source://trailblazer-operation//lib/trailblazer/operation/result.rb#9
  def success?; end

  # source://trailblazer-operation//lib/trailblazer/operation/result.rb#17
  def to_hash; end

  private

  # Returns the value of attribute data.
  #
  # source://trailblazer-operation//lib/trailblazer/operation/result.rb#41
  def data; end
end

# source://trailblazer-operation//lib/trailblazer/operation/wtf.rb#5
module Trailblazer::Operation::Wtf
  # @return [Boolean]
  #
  # source://trailblazer-operation//lib/trailblazer/operation/wtf.rb#6
  def wtf?(options); end
end

# source://trailblazer-operation//lib/trailblazer/operation/version.rb#2
module Trailblazer::Version; end

# source://trailblazer-operation//lib/trailblazer/operation/version.rb#3
module Trailblazer::Version::Operation; end

# source://trailblazer-operation//lib/trailblazer/operation/version.rb#4
Trailblazer::Version::Operation::VERSION = T.let(T.unsafe(nil), String)
