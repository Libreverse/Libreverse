#!/usr/bin/env ruby
# frozen_string_literal: true

# Development client launcher for Electron Forge
# This script starts the Electron Forge client in development mode

# Check if pnpm is available
unless system('which pnpm > /dev/null 2>&1')
  puts "pnpm is not installed. Please install pnpm first:"
  puts "   npm install -g pnpm"
  exit 1
end

# Start Electron Forge with expanded debug output by default
env = {
  "DEBUG" => "electron-forge:*,@electron-forge/*:*",
  "VITE_TIMING" => "1",
  "LIBREVERSE_FORGE_DEV" => "1",
}

system(env, "pnpm start")