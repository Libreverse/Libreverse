Running static analysis tasks...
Prettier [OK]
Rubocop [NOTOK] (Exit Code: 1)
--- Output for Rubocop ---
Inspecting 471 files
............C.CC...............C......................W...................................W...W........................C...........C..................................................................................C....W.......................C...................................W...C.................................................................................................C..C..C..............................C....................................................

Offenses:

app/controllers/admin/comments_controller.rb:7:5: C: Rails/LexicallyScopedActionFilter: approve, reject are not explicitly defined on the class.
    before_action :set_comment, only: %i[approve reject]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/controllers/admin/experiences_controller.rb:8:5: C: Rails/LexicallyScopedActionFilter: approve is not explicitly defined on the class.
    before_action :set_experience, only: [ :approve ]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/controllers/admin/federation_controller.rb:10:5: C: Rails/LexicallyScopedActionFilter: unblock_domain is not explicitly defined on the class.
    before_action :set_blocked_domain, only: [ :unblock_domain ]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/controllers/consent_controller.rb:16:5: C: Rails/LexicallyScopedActionFilter: accept, decline are not explicitly defined on the class.
    before_action :rate_limit_consent_actions, only: %i[accept decline]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/controllers/sitemap_controller.rb:125:3: W: Lint/IneffectiveAccessModifier: private (on line 123) does not make singleton methods private. Use private_class_method or private inside a class << self block instead.
  def self.sitemap_mutex
  ^^^
app/jobs/cleanup_abandoned_guests_job.rb:9:24: W: Lint/UnusedMethodArgument: Unused method argument - cursor. You can also write as build_enumerator(*) if you want the method to accept any arguments but don't care about them.
  def build_enumerator(cursor:)
                       ^^^^^^
app/jobs/generate_missing_actors_job.rb:10:24: W: Lint/UnusedMethodArgument: Unused method argument - cursor. You can also write as build_enumerator(*) if you want the method to accept any arguments but don't care about them.
  def build_enumerator(cursor:)
                       ^^^^^^
app/misc/rodauth_app.rb:26:7: C: Style/EmptyElse: Redundant else-clause.
      else
      ^^^^
app/models/comment.rb:39:3: C: Rails/InverseOf: Specify an :inverse_of option.
  belongs_to :thread, class_name: "CommentThread", foreign_key: :comment_thread_id, counter_cache: true
  ^^^^^^^^^^
config/boot.rb:7:1: C: [Corrected] Layout/EmptyLinesAroundModuleBody: Extra empty line detected at module body beginning.
config/facets.rb:7:1: W: Lint/RescueException: Avoid rescuing the Exception class. Perhaps you meant to rescue StandardError?
rescue Exception => e ...
^^^^^^^^^^^^^^^^^^^^^
config/initializers/logger.rb:169:7: C: Rails/Exit: Do not use abort in Rails applications.
      abort("Application initialization failed") # This is the Rails-preferred way to exit
      ^^^^^
config/patches/truffleruby_fiber_local_storage.rb:40:7: W: Lint/Void: Variable store used in void context.
      store
      ^^^^^
config/patches/truffleruby_fiber_local_storage.rb:60:7: W: Lint/Void: Variable store used in void context.
      store
      ^^^^^
db/cms_blog_setup.rb:80:12: C: Rails/SkipsModelValidations: Avoid using update_column because it skips validations.
      page.update_column(:content_cache, nil)
           ^^^^^^^^^^^^^
db/migrate/20251226110805_migrate_experience_booleans_to_flags.rb:17:18: C: Rails/SkipsModelValidations: Avoid using update_columns because it skips validations.
      experience.update_columns(flags: flags)
                 ^^^^^^^^^^^^^^
db/migrate/20251226110805_migrate_experience_booleans_to_flags.rb:23:16: C: Rails/SkipsModelValidations: Avoid using update_all because it skips validations.
    Experience.update_all(flags: 0)
               ^^^^^^^^^^
db/migrate/20251226121210_migrate_account_booleans_to_flags.rb:15:15: C: Rails/SkipsModelValidations: Avoid using update_columns because it skips validations.
      account.update_columns(flags: flags)
              ^^^^^^^^^^^^^^
db/migrate/20251226121210_migrate_account_booleans_to_flags.rb:21:13: C: Rails/SkipsModelValidations: Avoid using update_all because it skips validations.
    Account.update_all(flags: 0)
            ^^^^^^^^^^
db/migrate/20251226122751_migrate_o_auth_application_booleans_to_flags.rb:17:11: C: Rails/SkipsModelValidations: Avoid using update_columns because it skips validations.
      app.update_columns(flags: flags)
          ^^^^^^^^^^^^^^
db/migrate/20251226122751_migrate_o_auth_application_booleans_to_flags.rb:23:22: C: Rails/SkipsModelValidations: Avoid using update_all because it skips validations.
    OauthApplication.update_all(flags: 0)
                     ^^^^^^^^^^
scripts/check_shareable_constants.rb:16:26: C: Style/OptionalArguments: Optional arguments should appear at the end of the argument list.
def check_constants(mod, prefix = "", visited = Set.new, app_root)
                         ^^^^^^^^^^^
scripts/check_shareable_constants.rb:16:39: C: Style/OptionalArguments: Optional arguments should appear at the end of the argument list.
def check_constants(mod, prefix = "", visited = Set.new, app_root)
                                      ^^^^^^^^^^^^^^^^^

471 files inspected, 23 offenses detected, 1 offense corrected

--- End Output for Rubocop ---
ERB Format [OK]
ERB Lint [OK]
Perltidy [OK]
shfmt [OK]
eslint [NOTOK] (Exit Code: 2)
--- Output for eslint ---

Oops! Something went wrong! :(

ESLint: 9.37.0

TypeError: Config (unnamed): Unexpected non-object config at user-defined index 1.
    at wrapConfigErrorWithDetails (/Users/george/Libreverse/node_modules/.pnpm/eslint@9.37.0_jiti@2.6.1/node_modules/eslint/lib/config/flat-config-array.js:63:9)
    at /Users/george/Libreverse/node_modules/.pnpm/eslint@9.37.0_jiti@2.6.1/node_modules/eslint/lib/config/flat-config-array.js:140:11
    at async ConfigLoader.calculateConfigArray (/Users/george/Libreverse/node_modules/.pnpm/eslint@9.37.0_jiti@2.6.1/node_modules/eslint/lib/config/config-loader.js:663:3)
    at async #calculateConfigArray (/Users/george/Libreverse/node_modules/.pnpm/eslint@9.37.0_jiti@2.6.1/node_modules/eslint/lib/config/config-loader.js:743:23)
    at async entryFilter (/Users/george/Libreverse/node_modules/.pnpm/eslint@9.37.0_jiti@2.6.1/node_modules/eslint/lib/eslint/eslint-helpers.js:322:5)
    at async NodeHfs.<anonymous> (file:///Users/george/Libreverse/node_modules/.pnpm/@humanfs+core@0.19.1/node_modules/@humanfs/core/src/hfs.js:574:24)
    at async NodeHfs.walk (file:///Users/george/Libreverse/node_modules/.pnpm/@humanfs+core@0.19.1/node_modules/@humanfs/core/src/hfs.js:614:3)
    at async globSearch (/Users/george/Libreverse/node_modules/.pnpm/eslint@9.37.0_jiti@2.6.1/node_modules/eslint/lib/eslint/eslint-helpers.js:364:20)
    at async Promise.allSettled (index 0)
    at async globMultiSearch (/Users/george/Libreverse/node_modules/.pnpm/eslint@9.37.0_jiti@2.6.1/node_modules/eslint/lib/eslint/eslint-helpers.js:455:18)
--- End Output for eslint ---
Stylelint [OK]
Coffeelint Fix [OK]
markdownlint [NOTOK] (Exit Code: 1)
--- Output for markdownlint ---
markdownlint-cli2 v0.19.0 (markdownlint v0.39.0)
Finding: **/*.md !**/node_modules/** !**/licenses/** !**/.codeql/** !node_modules/ !vendor/ !tmp/ !log/ !coverage/ !.codeql/ !.github/
Linting: 48 file(s)
Summary: 4 error(s)
app/javascript/libs/README.md:264:38 error MD060/table-column-style Table column style [Table pipe does not align with heading for style "aligned"]
app/javascript/libs/README.md:265:38 error MD060/table-column-style Table column style [Table pipe does not align with heading for style "aligned"]
app/javascript/libs/README.md:266:38 error MD060/table-column-style Table column style [Table pipe does not align with heading for style "aligned"]
app/javascript/libs/README.md:267:38 error MD060/table-column-style Table column style [Table pipe does not align with heading for style "aligned"]
--- End Output for markdownlint ---
bundle update [OK]
pnpm update [OK]
i18n Validation [OK]
Active Record Doctor [NOTOK] (Exit Code: 1)
--- Output for Active Record Doctor ---
add a `presence` validator to Account.flags - it's NOT NULL but lacks a validator
add a `presence` validator to Account.status - it's NOT NULL but lacks a validator
add a `presence` validator to Account.username - it's NOT NULL but lacks a validator
add a `presence` validator to ActionMailbox::InboundEmail.message_checksum - it's NOT NULL but lacks a validator
add a `presence` validator to ActionMailbox::InboundEmail.message_id - it's NOT NULL but lacks a validator
add a `presence` validator to ActionMailbox::InboundEmail.status - it's NOT NULL but lacks a validator
add a `presence` validator to ActionText::EncryptedRichText.name - it's NOT NULL but lacks a validator
add a `presence` validator to ActionText::RichText.name - it's NOT NULL but lacks a validator
add a `presence` validator to ActiveHashcash::Stamp.ext - it's NOT NULL but lacks a validator
add a `presence` validator to ActiveStorage::Attachment.name - it's NOT NULL but lacks a validator
add a `presence` validator to ActiveStorage::Blob.byte_size - it's NOT NULL but lacks a validator
add a `presence` validator to ActiveStorage::Blob.filename - it's NOT NULL but lacks a validator
add a `presence` validator to ActiveStorage::Blob.key - it's NOT NULL but lacks a validator
add a `presence` validator to ActiveStorage::VariantRecord.variation_digest - it's NOT NULL but lacks a validator
add a `presence` validator to ActiveStorageDB::File.data - it's NOT NULL but lacks a validator
add a `presence` validator to Audits1984::Audit.status - it's NOT NULL but lacks a validator
add a `presence` validator to Comfy::Cms::File.position - it's NOT NULL but lacks a validator
add a `presence` validator to Comfy::Cms::Fragment.boolean - it's NOT NULL but lacks a validator
add a `presence` validator to Comfy::Cms::Fragment.tag - it's NOT NULL but lacks a validator
add a `presence` validator to Comfy::Cms::Layout.position - it's NOT NULL but lacks a validator
add a `presence` validator to Comfy::Cms::Page.full_path - it's NOT NULL but lacks a validator
add a `presence` validator to Comfy::Cms::Page.is_published - it's NOT NULL but lacks a validator
add a `presence` validator to Comfy::Cms::Page.position - it's NOT NULL but lacks a validator
add a `presence` validator to Comfy::Cms::Site.locale - it's NOT NULL but lacks a validator
add a `presence` validator to Comfy::Cms::Snippet.position - it's NOT NULL but lacks a validator
add a `presence` validator to Comfy::Cms::Translation.is_published - it's NOT NULL but lacks a validator
add a `presence` validator to Comment.likes_count - it's NOT NULL but lacks a validator
add a `presence` validator to Comment.mentions_cache - it's NOT NULL but lacks a validator
add a `presence` validator to CommentHierarchy.generations - it's NOT NULL but lacks a validator
add a `presence` validator to Console1984::User.username - it's NOT NULL but lacks a validator
add `optional: false` to Experience.account - the foreign key account_id is NOT NULL
add a `presence` validator to Experience.flags - it's NOT NULL but lacks a validator
add a `presence` validator to Experience.source_type - it's NOT NULL but lacks a validator
add a `presence` validator to Federails::Activity.action - it's NOT NULL but lacks a validator
add a `presence` validator to Federails::Actor.local - it's NOT NULL but lacks a validator
add a `presence` validator to Federails::Following.status - it's NOT NULL but lacks a validator
add a `presence` validator to FriendlyId::Slug.slug - it's NOT NULL but lacks a validator
add a `presence` validator to OauthApplication.client_id - it's NOT NULL but lacks a validator
add a `presence` validator to OauthApplication.client_secret - it's NOT NULL but lacks a validator
add a `presence` validator to OauthApplication.flags - it's NOT NULL but lacks a validator
add a `presence` validator to OauthApplication.name - it's NOT NULL but lacks a validator
add a `presence` validator to OauthApplication.post_logout_redirect_uris - it's NOT NULL but lacks a validator
add a `presence` validator to OauthApplication.redirect_uri - it's NOT NULL but lacks a validator
add a `presence` validator to OauthApplication.scopes - it's NOT NULL but lacks a validator
add a `presence` validator to OauthGrant.access_type - it's NOT NULL but lacks a validator
add a `presence` validator to OauthGrant.expires_in - it's NOT NULL but lacks a validator
add a `presence` validator to OauthGrant.scopes - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::Category.slug - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::Messageboard.locked - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::MessageboardNotificationsForFollowedTopics.enabled - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::MessageboardNotificationsForFollowedTopics.notifier_key - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::MessageboardUser.last_seen_at - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::NotificationsForFollowedTopics.enabled - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::NotificationsForFollowedTopics.notifier_key - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::NotificationsForPrivateTopics.enabled - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::NotificationsForPrivateTopics.notifier_key - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::PrivateTopic.slug - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::Topic.locked - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::Topic.slug - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::Topic.sticky - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::UserMessageboardPreference.auto_follow_topics - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::UserMessageboardPreference.follow_topics_on_mention - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::UserPostNotification.notified_at - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::UserPreference.auto_follow_topics - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::UserPreference.follow_topics_on_mention - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::UserPrivateTopicReadState.integer - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::UserPrivateTopicReadState.read_at - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::UserPrivateTopicReadState.read_posts_count - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::UserPrivateTopicReadState.unread_posts_count - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::UserTopicReadState.integer - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::UserTopicReadState.read_at - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::UserTopicReadState.read_posts_count - it's NOT NULL but lacks a validator
add a `presence` validator to Thredded::UserTopicReadState.unread_posts_count - it's NOT NULL but lacks a validator
add a `presence` validator to User.flags - it's NOT NULL but lacks a validator
add a `presence` validator to User.status - it's NOT NULL but lacks a validator
add a `presence` validator to User.username - it's NOT NULL but lacks a validator
add a `presence` validator to UserPreference.account_id - it's NOT NULL but lacks a validator
create a foreign key on audits1984_audits.session_id - looks like an association without a foreign key constraint
create a foreign key on audits1984_audits.auditor_id - looks like an association without a foreign key constraint
create a foreign key on comfy_cms_categorizations.category_id - looks like an association without a foreign key constraint
create a foreign key on comfy_cms_categories.site_id - looks like an association without a foreign key constraint
create a foreign key on comfy_cms_files.site_id - looks like an association without a foreign key constraint
create a foreign key on comfy_cms_layouts.parent_id - looks like an association without a foreign key constraint
create a foreign key on comfy_cms_layouts.site_id - looks like an association without a foreign key constraint
create a foreign key on comfy_cms_pages.layout_id - looks like an association without a foreign key constraint
create a foreign key on comfy_cms_pages.parent_id - looks like an association without a foreign key constraint
create a foreign key on comfy_cms_pages.site_id - looks like an association without a foreign key constraint
create a foreign key on comfy_cms_pages.target_page_id - looks like an association without a foreign key constraint
create a foreign key on comfy_cms_snippets.site_id - looks like an association without a foreign key constraint
create a foreign key on comfy_cms_translations.layout_id - looks like an association without a foreign key constraint
create a foreign key on comfy_cms_translations.page_id - looks like an association without a foreign key constraint
create a foreign key on comments.parent_id - looks like an association without a foreign key constraint
create a foreign key on comments.account_id - looks like an association without a foreign key constraint
create a foreign key on comment_hierarchies.ancestor_id - looks like an association without a foreign key constraint
create a foreign key on comment_hierarchies.descendant_id - looks like an association without a foreign key constraint
create a foreign key on console1984_commands.session_id - looks like an association without a foreign key constraint
create a foreign key on console1984_commands.sensitive_access_id - looks like an association without a foreign key constraint
create a foreign key on console1984_sensitive_accesses.session_id - looks like an association without a foreign key constraint
create a foreign key on console1984_sessions.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_categories.messageboard_id - looks like an association without a foreign key constraint
create a foreign key on thredded_messageboards.last_topic_id - looks like an association without a foreign key constraint
create a foreign key on thredded_messageboards.messageboard_group_id - looks like an association without a foreign key constraint
create a foreign key on thredded_messageboard_notifications_for_followed_topics.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_messageboard_notifications_for_followed_topics.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_messageboard_notifications_for_followed_topics.messageboard_id - looks like an association without a foreign key constraint
create a foreign key on thredded_notifications_for_followed_topics.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_notifications_for_followed_topics.messageboard_id - looks like an association without a foreign key constraint
create a foreign key on thredded_notifications_for_followed_topics.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_notifications_for_private_topics.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_notifications_for_private_topics.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_posts.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_posts.messageboard_id - looks like an association without a foreign key constraint
create a foreign key on thredded_posts.postable_id - looks like an association without a foreign key constraint
create a foreign key on thredded_posts.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_post_moderation_records.messageboard_id - looks like an association without a foreign key constraint
create a foreign key on thredded_post_moderation_records.post_id - looks like an association without a foreign key constraint
create a foreign key on thredded_post_moderation_records.post_user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_post_moderation_records.moderator_id - looks like an association without a foreign key constraint
create a foreign key on thredded_private_posts.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_private_posts.postable_id - looks like an association without a foreign key constraint
create a foreign key on thredded_private_posts.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_private_topics.last_user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_private_topics.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_private_topics.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_private_users.private_topic_id - looks like an association without a foreign key constraint
create a foreign key on thredded_private_users.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_topics.last_user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_topics.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_topics.messageboard_id - looks like an association without a foreign key constraint
create a foreign key on thredded_topics.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_topic_categories.category_id - looks like an association without a foreign key constraint
create a foreign key on thredded_topic_categories.topic_id - looks like an association without a foreign key constraint
create a foreign key on thredded_user_details.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_user_messageboard_preferences.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_user_messageboard_preferences.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_user_messageboard_preferences.messageboard_id - looks like an association without a foreign key constraint
create a foreign key on thredded_user_preferences.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_user_private_topic_read_states.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_user_private_topic_read_states.postable_id - looks like an association without a foreign key constraint
create a foreign key on thredded_user_topic_follows.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_user_topic_follows.topic_id - looks like an association without a foreign key constraint
create a foreign key on thredded_user_topic_read_states.user_id - looks like an association without a foreign key constraint
create a foreign key on thredded_user_topic_read_states.postable_id - looks like an association without a foreign key constraint
create a foreign key on thredded_user_topic_read_states.messageboard_id - looks like an association without a foreign key constraint
add a unique index on comfy_cms_fragments(record_type, record_id, identifier) - validating uniqueness in Comfy::Cms::Fragment without an index can lead to duplicates
add a unique index on comfy_cms_sites(identifier) - validating uniqueness in Comfy::Cms::Site without an index can lead to duplicates
add a unique index on comfy_cms_sites(path, hostname) - validating uniqueness in Comfy::Cms::Site without an index can lead to duplicates
add a unique index on comfy_cms_translations(page_id, locale) - validating uniqueness in Comfy::Cms::Translation without an index can lead to duplicates
add a unique index on thredded_private_topics(hash_id) - validating uniqueness in Thredded::PrivateTopic without an index can lead to duplicates
add a unique index on thredded_topics(hash_id) - validating uniqueness in Thredded::Topic without an index can lead to duplicates
add a unique index on accounts_roles(account_id, role_id) - using `has_and_belongs_to_many` in Account without an index can lead to duplicates
the schema limits accounts.federated_id to 255 characters but there's no length validator on Account.federated_id - remove the database limit or add the validator
the schema limits accounts.password_hash to 255 characters but there's no length validator on Account.password_hash - remove the database limit or add the validator
the schema limits accounts.provider to 255 characters but there's no length validator on Account.provider - remove the database limit or add the validator
the schema limits accounts.provider_uid to 255 characters but there's no length validator on Account.provider_uid - remove the database limit or add the validator
the schema limits accounts.username to 255 characters but there's no length validator on Account.username - remove the database limit or add the validator
the schema limits action_mailbox_inbound_emails.message_checksum to 255 characters but there's no length validator on ActionMailbox::InboundEmail.message_checksum - remove the database limit or add the validator
the schema limits action_mailbox_inbound_emails.message_id to 255 characters but there's no length validator on ActionMailbox::InboundEmail.message_id - remove the database limit or add the validator
the schema limits action_text_rich_texts.body to 4294967295 characters but there's no length validator on ActionText::EncryptedRichText.body - remove the database limit or add the validator
the schema limits action_text_rich_texts.name to 255 characters but there's no length validator on ActionText::EncryptedRichText.name - remove the database limit or add the validator
the schema limits action_text_rich_texts.record_type to 255 characters but there's no length validator on ActionText::EncryptedRichText.record_type - remove the database limit or add the validator
the schema limits action_text_rich_texts.body to 4294967295 characters but there's no length validator on ActionText::RichText.body - remove the database limit or add the validator
the schema limits action_text_rich_texts.name to 255 characters but there's no length validator on ActionText::RichText.name - remove the database limit or add the validator
the schema limits action_text_rich_texts.record_type to 255 characters but there's no length validator on ActionText::RichText.record_type - remove the database limit or add the validator
the schema limits active_hashcash_stamps.counter to 255 characters but there's no length validator on ActiveHashcash::Stamp.counter - remove the database limit or add the validator
the schema limits active_hashcash_stamps.ext to 255 characters but there's no length validator on ActiveHashcash::Stamp.ext - remove the database limit or add the validator
the schema limits active_hashcash_stamps.ip_address to 255 characters but there's no length validator on ActiveHashcash::Stamp.ip_address - remove the database limit or add the validator
the schema limits active_hashcash_stamps.rand to 255 characters but there's no length validator on ActiveHashcash::Stamp.rand - remove the database limit or add the validator
the schema limits active_hashcash_stamps.request_path to 255 characters but there's no length validator on ActiveHashcash::Stamp.request_path - remove the database limit or add the validator
the schema limits active_hashcash_stamps.resource to 255 characters but there's no length validator on ActiveHashcash::Stamp.resource - remove the database limit or add the validator
the schema limits active_hashcash_stamps.version to 255 characters but there's no length validator on ActiveHashcash::Stamp.version - remove the database limit or add the validator
the schema limits active_storage_attachments.name to 255 characters but there's no length validator on ActiveStorage::Attachment.name - remove the database limit or add the validator
the schema limits active_storage_attachments.record_type to 255 characters but there's no length validator on ActiveStorage::Attachment.record_type - remove the database limit or add the validator
the schema limits active_storage_blobs.checksum to 255 characters but there's no length validator on ActiveStorage::Blob.checksum - remove the database limit or add the validator
the schema limits active_storage_blobs.content_type to 255 characters but there's no length validator on ActiveStorage::Blob.content_type - remove the database limit or add the validator
the schema limits active_storage_blobs.filename to 255 characters but there's no length validator on ActiveStorage::Blob.filename - remove the database limit or add the validator
the schema limits active_storage_blobs.key to 255 characters but there's no length validator on ActiveStorage::Blob.key - remove the database limit or add the validator
the schema limits active_storage_blobs.metadata to 65535 characters but there's no length validator on ActiveStorage::Blob.metadata - remove the database limit or add the validator
the schema limits active_storage_blobs.service_name to 255 characters but there's no length validator on ActiveStorage::Blob.service_name - remove the database limit or add the validator
the schema limits active_storage_variant_records.variation_digest to 255 characters but there's no length validator on ActiveStorage::VariantRecord.variation_digest - remove the database limit or add the validator
the schema limits active_storage_db_files.ref to 255 characters but there's no length validator on ActiveStorageDB::File.ref - remove the database limit or add the validator
the schema limits audits1984_audits.notes to 65535 characters but there's no length validator on Audits1984::Audit.notes - remove the database limit or add the validator
the schema limits blocked_domains.blocked_by to 255 characters but there's no length validator on BlockedDomain.blocked_by - remove the database limit or add the validator
the schema limits blocked_domains.domain to 255 characters but there's no length validator on BlockedDomain.domain - remove the database limit or add the validator
the schema limits blocked_domains.reason to 65535 characters but there's no length validator on BlockedDomain.reason - remove the database limit or add the validator
the schema limits blocked_experiences.activitypub_uri to 255 characters but there's no length validator on BlockedExperience.activitypub_uri - remove the database limit or add the validator
the schema limits blocked_experiences.blocked_by to 255 characters but there's no length validator on BlockedExperience.blocked_by - remove the database limit or add the validator
the schema limits blocked_experiences.reason to 65535 characters but there's no length validator on BlockedExperience.reason - remove the database limit or add the validator
the schema limits comfy_cms_categorizations.categorized_type to 255 characters but there's no length validator on Comfy::Cms::Categorization.categorized_type - remove the database limit or add the validator
the schema limits comfy_cms_categories.categorized_type to 255 characters but there's no length validator on Comfy::Cms::Category.categorized_type - remove the database limit or add the validator
the schema limits comfy_cms_categories.label to 255 characters but there's no length validator on Comfy::Cms::Category.label - remove the database limit or add the validator
the schema limits comfy_cms_files.description to 65535 characters but there's no length validator on Comfy::Cms::File.description - remove the database limit or add the validator
the schema limits comfy_cms_files.label to 255 characters but there's no length validator on Comfy::Cms::File.label - remove the database limit or add the validator
the schema limits comfy_cms_fragments.content to 16777215 characters but there's no length validator on Comfy::Cms::Fragment.content - remove the database limit or add the validator
the schema limits comfy_cms_fragments.identifier to 255 characters but there's no length validator on Comfy::Cms::Fragment.identifier - remove the database limit or add the validator
the schema limits comfy_cms_fragments.record_type to 255 characters but there's no length validator on Comfy::Cms::Fragment.record_type - remove the database limit or add the validator
the schema limits comfy_cms_fragments.tag to 255 characters but there's no length validator on Comfy::Cms::Fragment.tag - remove the database limit or add the validator
the schema limits comfy_cms_layouts.app_layout to 255 characters but there's no length validator on Comfy::Cms::Layout.app_layout - remove the database limit or add the validator
the schema limits comfy_cms_layouts.content to 16777215 characters but there's no length validator on Comfy::Cms::Layout.content - remove the database limit or add the validator
the schema limits comfy_cms_layouts.css to 16777215 characters but there's no length validator on Comfy::Cms::Layout.css - remove the database limit or add the validator
the schema limits comfy_cms_layouts.identifier to 255 characters but there's no length validator on Comfy::Cms::Layout.identifier - remove the database limit or add the validator
the schema limits comfy_cms_layouts.js to 16777215 characters but there's no length validator on Comfy::Cms::Layout.js - remove the database limit or add the validator
the schema limits comfy_cms_layouts.label to 255 characters but there's no length validator on Comfy::Cms::Layout.label - remove the database limit or add the validator
the schema limits comfy_cms_pages.content_cache to 16777215 characters but there's no length validator on Comfy::Cms::Page.content_cache - remove the database limit or add the validator
the schema limits comfy_cms_pages.full_path to 255 characters but there's no length validator on Comfy::Cms::Page.full_path - remove the database limit or add the validator
the schema limits comfy_cms_pages.label to 255 characters but there's no length validator on Comfy::Cms::Page.label - remove the database limit or add the validator
the schema limits comfy_cms_pages.slug to 255 characters but there's no length validator on Comfy::Cms::Page.slug - remove the database limit or add the validator
the schema limits comfy_cms_revisions.data to 16777215 characters but there's no length validator on Comfy::Cms::Revision.data - remove the database limit or add the validator
the schema limits comfy_cms_revisions.record_type to 255 characters but there's no length validator on Comfy::Cms::Revision.record_type - remove the database limit or add the validator
the schema limits comfy_cms_sites.hostname to 255 characters but there's no length validator on Comfy::Cms::Site.hostname - remove the database limit or add the validator
the schema limits comfy_cms_sites.identifier to 255 characters but there's no length validator on Comfy::Cms::Site.identifier - remove the database limit or add the validator
the schema limits comfy_cms_sites.label to 255 characters but there's no length validator on Comfy::Cms::Site.label - remove the database limit or add the validator
the schema limits comfy_cms_sites.locale to 255 characters but there's no length validator on Comfy::Cms::Site.locale - remove the database limit or add the validator
the schema limits comfy_cms_sites.path to 255 characters but there's no length validator on Comfy::Cms::Site.path - remove the database limit or add the validator
the schema limits comfy_cms_snippets.content to 16777215 characters but there's no length validator on Comfy::Cms::Snippet.content - remove the database limit or add the validator
the schema limits comfy_cms_snippets.identifier to 255 characters but there's no length validator on Comfy::Cms::Snippet.identifier - remove the database limit or add the validator
the schema limits comfy_cms_snippets.label to 255 characters but there's no length validator on Comfy::Cms::Snippet.label - remove the database limit or add the validator
the schema limits comfy_cms_translations.content_cache to 16777215 characters but there's no length validator on Comfy::Cms::Translation.content_cache - remove the database limit or add the validator
the schema limits comfy_cms_translations.label to 255 characters but there's no length validator on Comfy::Cms::Translation.label - remove the database limit or add the validator
the schema limits comfy_cms_translations.locale to 255 characters but there's no length validator on Comfy::Cms::Translation.locale - remove the database limit or add the validator
the schema limits comments.body to 65535 characters but the length validator on Comment.body enforces a maximum of 10000 characters - set both limits to the same value or remove both
the schema limits comment_threads.commontable_type to 255 characters but there's no length validator on CommentThread.commontable_type - remove the database limit or add the validator
the schema limits console1984_commands.statements to 65535 characters but there's no length validator on Console1984::Command.statements - remove the database limit or add the validator
the schema limits console1984_sensitive_accesses.justification to 65535 characters but there's no length validator on Console1984::SensitiveAccess.justification - remove the database limit or add the validator
the schema limits console1984_sessions.reason to 65535 characters but there's no length validator on Console1984::Session.reason - remove the database limit or add the validator
the schema limits console1984_users.username to 255 characters but there's no length validator on Console1984::User.username - remove the database limit or add the validator
the schema limits experiences.description to 65535 characters but the length validator on Experience.description enforces a maximum of 2000 characters - set both limits to the same value or remove both
the schema limits experiences.metaverse_coordinates to 65535 characters but there's no length validator on Experience.metaverse_coordinates - remove the database limit or add the validator
the schema limits experiences.metaverse_metadata to 65535 characters but there's no length validator on Experience.metaverse_metadata - remove the database limit or add the validator
the schema limits experiences.metaverse_platform to 255 characters but there's no length validator on Experience.metaverse_platform - remove the database limit or add the validator
the schema limits experiences.slug to 255 characters but there's no length validator on Experience.slug - remove the database limit or add the validator
the schema limits experiences.source_type to 255 characters but there's no length validator on Experience.source_type - remove the database limit or add the validator
the schema limits experience_vectors.vector_data to 65535 characters but there's no length validator on ExperienceVector.vector_data - remove the database limit or add the validator
the schema limits experience_vectors.vector_hash to 255 characters but there's no length validator on ExperienceVector.vector_hash - remove the database limit or add the validator
the schema limits federails_activities.action to 255 characters but there's no length validator on Federails::Activity.action - remove the database limit or add the validator
the schema limits federails_activities.entity_type to 255 characters but there's no length validator on Federails::Activity.entity_type - remove the database limit or add the validator
the schema limits federails_activities.uuid to 255 characters but there's no length validator on Federails::Activity.uuid - remove the database limit or add the validator
the schema limits federails_actors.actor_type to 255 characters but there's no length validator on Federails::Actor.actor_type - remove the database limit or add the validator
the schema limits federails_actors.entity_type to 255 characters but there's no length validator on Federails::Actor.entity_type - remove the database limit or add the validator
the schema limits federails_actors.federated_url to 500 characters but there's no length validator on Federails::Actor.federated_url - remove the database limit or add the validator
the schema limits federails_actors.followers_url to 255 characters but there's no length validator on Federails::Actor.followers_url - remove the database limit or add the validator
the schema limits federails_actors.followings_url to 255 characters but there's no length validator on Federails::Actor.followings_url - remove the database limit or add the validator
the schema limits federails_actors.inbox_url to 255 characters but there's no length validator on Federails::Actor.inbox_url - remove the database limit or add the validator
the schema limits federails_actors.name to 255 characters but there's no length validator on Federails::Actor.name - remove the database limit or add the validator
the schema limits federails_actors.outbox_url to 255 characters but there's no length validator on Federails::Actor.outbox_url - remove the database limit or add the validator
the schema limits federails_actors.private_key to 65535 characters but there's no length validator on Federails::Actor.private_key - remove the database limit or add the validator
the schema limits federails_actors.profile_url to 255 characters but there's no length validator on Federails::Actor.profile_url - remove the database limit or add the validator
the schema limits federails_actors.public_key to 65535 characters but there's no length validator on Federails::Actor.public_key - remove the database limit or add the validator
the schema limits federails_actors.server to 255 characters but there's no length validator on Federails::Actor.server - remove the database limit or add the validator
the schema limits federails_actors.username to 255 characters but there's no length validator on Federails::Actor.username - remove the database limit or add the validator
the schema limits federails_actors.uuid to 255 characters but there's no length validator on Federails::Actor.uuid - remove the database limit or add the validator
the schema limits federails_followings.federated_url to 255 characters but there's no length validator on Federails::Following.federated_url - remove the database limit or add the validator
the schema limits federails_followings.uuid to 255 characters but there's no length validator on Federails::Following.uuid - remove the database limit or add the validator
the schema limits federails_moderation_domain_blocks.domain to 255 characters but there's no length validator on Federails::Moderation::DomainBlock.domain - remove the database limit or add the validator
the schema limits federails_moderation_reports.content to 65535 characters but there's no length validator on Federails::Moderation::Report.content - remove the database limit or add the validator
the schema limits federails_moderation_reports.federated_url to 255 characters but there's no length validator on Federails::Moderation::Report.federated_url - remove the database limit or add the validator
the schema limits federails_moderation_reports.object_type to 255 characters but there's no length validator on Federails::Moderation::Report.object_type - remove the database limit or add the validator
the schema limits federails_moderation_reports.resolution to 65535 characters but there's no length validator on Federails::Moderation::Report.resolution - remove the database limit or add the validator
the schema limits federated_announcements.activitypub_uri to 255 characters but there's no length validator on FederatedAnnouncement.activitypub_uri - remove the database limit or add the validator
the schema limits federated_announcements.experience_url to 255 characters but there's no length validator on FederatedAnnouncement.experience_url - remove the database limit or add the validator
the schema limits federated_announcements.source_domain to 255 characters but there's no length validator on FederatedAnnouncement.source_domain - remove the database limit or add the validator
the schema limits federated_announcements.title to 255 characters but there's no length validator on FederatedAnnouncement.title - remove the database limit or add the validator
the schema limits friendly_id_slugs.scope to 255 characters but there's no length validator on FriendlyId::Slug.scope - remove the database limit or add the validator
the schema limits friendly_id_slugs.slug to 255 characters but there's no length validator on FriendlyId::Slug.slug - remove the database limit or add the validator
the schema limits friendly_id_slugs.sluggable_type to 50 characters but there's no length validator on FriendlyId::Slug.sluggable_type - remove the database limit or add the validator
the schema limits indexed_contents.author to 255 characters but there's no length validator on IndexedContent.author - remove the database limit or add the validator
the schema limits indexed_contents.content_type to 255 characters but there's no length validator on IndexedContent.content_type - remove the database limit or add the validator
the schema limits indexed_contents.coordinates to 65535 characters but there's no length validator on IndexedContent.coordinates - remove the database limit or add the validator
the schema limits indexed_contents.description to 65535 characters but there's no length validator on IndexedContent.description - remove the database limit or add the validator
the schema limits indexed_contents.external_id to 255 characters but there's no length validator on IndexedContent.external_id - remove the database limit or add the validator
the schema limits indexed_contents.metadata to 4294967295 characters but there's no length validator on IndexedContent.metadata - remove the database limit or add the validator
the schema limits indexed_contents.source_platform to 255 characters but there's no length validator on IndexedContent.source_platform - remove the database limit or add the validator
the schema limits indexed_contents.title to 255 characters but there's no length validator on IndexedContent.title - remove the database limit or add the validator
the schema limits indexed_content_vectors.content_hash to 65535 characters but there's no length validator on IndexedContentVector.content_hash - remove the database limit or add the validator
the schema limits indexed_content_vectors.vector_data to 65535 characters but there's no length validator on IndexedContentVector.vector_data - remove the database limit or add the validator
the schema limits indexed_content_vectors.vector_hash to 255 characters but there's no length validator on IndexedContentVector.vector_hash - remove the database limit or add the validator
the schema limits indexing_runs.configuration to 65535 characters but there's no length validator on IndexingRun.configuration - remove the database limit or add the validator
the schema limits indexing_runs.error_details to 65535 characters but there's no length validator on IndexingRun.error_details - remove the database limit or add the validator
the schema limits indexing_runs.error_message to 65535 characters but there's no length validator on IndexingRun.error_message - remove the database limit or add the validator
the schema limits indexing_runs.indexer_class to 255 characters but there's no length validator on IndexingRun.indexer_class - remove the database limit or add the validator
the schema limits instance_settings.description to 65535 characters but the length validator on InstanceSetting.description enforces a maximum of 500 characters - set both limits to the same value or remove both
the schema limits instance_settings.key to 255 characters but the length validator on InstanceSetting.key enforces a maximum of 100 characters - set both limits to the same value or remove both
the schema limits instance_settings.value to 65535 characters but the length validator on InstanceSetting.value enforces a maximum of 10000 characters - set both limits to the same value or remove both
the schema limits moderation_logs.content to 65535 characters but there's no length validator on ModerationLog.content - remove the database limit or add the validator
the schema limits moderation_logs.field to 255 characters but there's no length validator on ModerationLog.field - remove the database limit or add the validator
the schema limits moderation_logs.model_type to 255 characters but there's no length validator on ModerationLog.model_type - remove the database limit or add the validator
the schema limits moderation_logs.reason to 255 characters but there's no length validator on ModerationLog.reason - remove the database limit or add the validator
the schema limits moderation_logs.violations_data to 65535 characters but there's no length validator on ModerationLog.violations_data - remove the database limit or add the validator
the schema limits oauth_applications.application_type to 255 characters but there's no length validator on OauthApplication.application_type - remove the database limit or add the validator
the schema limits oauth_applications.backchannel_logout_uri to 255 characters but there's no length validator on OauthApplication.backchannel_logout_uri - remove the database limit or add the validator
the schema limits oauth_applications.client_id to 255 characters but there's no length validator on OauthApplication.client_id - remove the database limit or add the validator
the schema limits oauth_applications.client_secret to 255 characters but there's no length validator on OauthApplication.client_secret - remove the database limit or add the validator
the schema limits oauth_applications.client_uri to 255 characters but there's no length validator on OauthApplication.client_uri - remove the database limit or add the validator
the schema limits oauth_applications.contacts to 255 characters but there's no length validator on OauthApplication.contacts - remove the database limit or add the validator
the schema limits oauth_applications.description to 255 characters but there's no length validator on OauthApplication.description - remove the database limit or add the validator
the schema limits oauth_applications.dpop_bound_access_tokens to 255 characters but there's no length validator on OauthApplication.dpop_bound_access_tokens - remove the database limit or add the validator
the schema limits oauth_applications.frontchannel_logout_uri to 255 characters but there's no length validator on OauthApplication.frontchannel_logout_uri - remove the database limit or add the validator
the schema limits oauth_applications.grant_types to 255 characters but there's no length validator on OauthApplication.grant_types - remove the database limit or add the validator
the schema limits oauth_applications.homepage_url to 255 characters but there's no length validator on OauthApplication.homepage_url - remove the database limit or add the validator
the schema limits oauth_applications.id_token_encrypted_response_alg to 255 characters but there's no length validator on OauthApplication.id_token_encrypted_response_alg - remove the database limit or add the validator
the schema limits oauth_applications.id_token_encrypted_response_enc to 255 characters but there's no length validator on OauthApplication.id_token_encrypted_response_enc - remove the database limit or add the validator
the schema limits oauth_applications.id_token_signed_response_alg to 255 characters but there's no length validator on OauthApplication.id_token_signed_response_alg - remove the database limit or add the validator
the schema limits oauth_applications.initiate_login_uri to 255 characters but there's no length validator on OauthApplication.initiate_login_uri - remove the database limit or add the validator
the schema limits oauth_applications.jwks to 255 characters but there's no length validator on OauthApplication.jwks - remove the database limit or add the validator
the schema limits oauth_applications.jwks_uri to 255 characters but there's no length validator on OauthApplication.jwks_uri - remove the database limit or add the validator
the schema limits oauth_applications.logo_uri to 255 characters but there's no length validator on OauthApplication.logo_uri - remove the database limit or add the validator
the schema limits oauth_applications.name to 255 characters but there's no length validator on OauthApplication.name - remove the database limit or add the validator
the schema limits oauth_applications.policy_uri to 255 characters but there's no length validator on OauthApplication.policy_uri - remove the database limit or add the validator
the schema limits oauth_applications.post_logout_redirect_uris to 255 characters but there's no length validator on OauthApplication.post_logout_redirect_uris - remove the database limit or add the validator
the schema limits oauth_applications.redirect_uri to 255 characters but there's no length validator on OauthApplication.redirect_uri - remove the database limit or add the validator
the schema limits oauth_applications.registration_access_token to 255 characters but there's no length validator on OauthApplication.registration_access_token - remove the database limit or add the validator
the schema limits oauth_applications.request_object_encryption_alg to 255 characters but there's no length validator on OauthApplication.request_object_encryption_alg - remove the database limit or add the validator
the schema limits oauth_applications.request_object_encryption_enc to 255 characters but there's no length validator on OauthApplication.request_object_encryption_enc - remove the database limit or add the validator
the schema limits oauth_applications.request_object_signing_alg to 255 characters but there's no length validator on OauthApplication.request_object_signing_alg - remove the database limit or add the validator
the schema limits oauth_applications.request_uris to 255 characters but there's no length validator on OauthApplication.request_uris - remove the database limit or add the validator
the schema limits oauth_applications.response_types to 255 characters but there's no length validator on OauthApplication.response_types - remove the database limit or add the validator
the schema limits oauth_applications.scopes to 255 characters but there's no length validator on OauthApplication.scopes - remove the database limit or add the validator
the schema limits oauth_applications.sector_identifier_uri to 255 characters but there's no length validator on OauthApplication.sector_identifier_uri - remove the database limit or add the validator
the schema limits oauth_applications.software_id to 255 characters but there's no length validator on OauthApplication.software_id - remove the database limit or add the validator
the schema limits oauth_applications.software_version to 255 characters but there's no length validator on OauthApplication.software_version - remove the database limit or add the validator
the schema limits oauth_applications.subject_type to 255 characters but there's no length validator on OauthApplication.subject_type - remove the database limit or add the validator
the schema limits oauth_applications.tls_client_auth_san_dns to 255 characters but there's no length validator on OauthApplication.tls_client_auth_san_dns - remove the database limit or add the validator
the schema limits oauth_applications.tls_client_auth_san_email to 255 characters but there's no length validator on OauthApplication.tls_client_auth_san_email - remove the database limit or add the validator
the schema limits oauth_applications.tls_client_auth_san_ip to 255 characters but there's no length validator on OauthApplication.tls_client_auth_san_ip - remove the database limit or add the validator
the schema limits oauth_applications.tls_client_auth_san_uri to 255 characters but there's no length validator on OauthApplication.tls_client_auth_san_uri - remove the database limit or add the validator
the schema limits oauth_applications.tls_client_auth_subject_dn to 255 characters but there's no length validator on OauthApplication.tls_client_auth_subject_dn - remove the database limit or add the validator
the schema limits oauth_applications.token_endpoint_auth_method to 255 characters but there's no length validator on OauthApplication.token_endpoint_auth_method - remove the database limit or add the validator
the schema limits oauth_applications.tos_uri to 255 characters but there's no length validator on OauthApplication.tos_uri - remove the database limit or add the validator
the schema limits oauth_applications.userinfo_encrypted_response_alg to 255 characters but there's no length validator on OauthApplication.userinfo_encrypted_response_alg - remove the database limit or add the validator
the schema limits oauth_applications.userinfo_encrypted_response_enc to 255 characters but there's no length validator on OauthApplication.userinfo_encrypted_response_enc - remove the database limit or add the validator
the schema limits oauth_applications.userinfo_signed_response_alg to 255 characters but there's no length validator on OauthApplication.userinfo_signed_response_alg - remove the database limit or add the validator
the schema limits oauth_grants.access_type to 255 characters but there's no length validator on OauthGrant.access_type - remove the database limit or add the validator
the schema limits oauth_grants.acr to 255 characters but there's no length validator on OauthGrant.acr - remove the database limit or add the validator
the schema limits oauth_grants.certificate_thumbprint to 255 characters but there's no length validator on OauthGrant.certificate_thumbprint - remove the database limit or add the validator
the schema limits oauth_grants.claims to 255 characters but there's no length validator on OauthGrant.claims - remove the database limit or add the validator
the schema limits oauth_grants.claims_locales to 255 characters but there's no length validator on OauthGrant.claims_locales - remove the database limit or add the validator
the schema limits oauth_grants.code to 255 characters but there's no length validator on OauthGrant.code - remove the database limit or add the validator
the schema limits oauth_grants.code_challenge to 255 characters but there's no length validator on OauthGrant.code_challenge - remove the database limit or add the validator
the schema limits oauth_grants.code_challenge_method to 255 characters but there's no length validator on OauthGrant.code_challenge_method - remove the database limit or add the validator
the schema limits oauth_grants.dpop_jkt to 255 characters but there's no length validator on OauthGrant.dpop_jkt - remove the database limit or add the validator
the schema limits oauth_grants.dpop_jwk to 255 characters but there's no length validator on OauthGrant.dpop_jwk - remove the database limit or add the validator
the schema limits oauth_grants.nonce to 255 characters but there's no length validator on OauthGrant.nonce - remove the database limit or add the validator
the schema limits oauth_grants.redirect_uri to 255 characters but there's no length validator on OauthGrant.redirect_uri - remove the database limit or add the validator
the schema limits oauth_grants.refresh_token to 255 characters but there's no length validator on OauthGrant.refresh_token - remove the database limit or add the validator
the schema limits oauth_grants.resource to 255 characters but there's no length validator on OauthGrant.resource - remove the database limit or add the validator
the schema limits oauth_grants.scopes to 255 characters but there's no length validator on OauthGrant.scopes - remove the database limit or add the validator
the schema limits oauth_grants.token to 255 characters but there's no length validator on OauthGrant.token - remove the database limit or add the validator
the schema limits oauth_grants.type to 255 characters but there's no length validator on OauthGrant.type - remove the database limit or add the validator
the schema limits oauth_grants.user_code to 255 characters but there's no length validator on OauthGrant.user_code - remove the database limit or add the validator
the schema limits roles.name to 255 characters but there's no length validator on Role.name - remove the database limit or add the validator
the schema limits roles.resource_type to 255 characters but there's no length validator on Role.resource_type - remove the database limit or add the validator
the schema limits thredded_categories.description to 65535 characters but there's no length validator on Thredded::Category.description - remove the database limit or add the validator
the schema limits thredded_categories.name to 191 characters but there's no length validator on Thredded::Category.name - remove the database limit or add the validator
the schema limits thredded_categories.slug to 191 characters but there's no length validator on Thredded::Category.slug - remove the database limit or add the validator
the schema limits thredded_messageboards.description to 65535 characters but there's no length validator on Thredded::Messageboard.description - remove the database limit or add the validator
the schema limits thredded_messageboards.name to 191 characters but the length validator on Thredded::Messageboard.name enforces a maximum of 60 characters - set both limits to the same value or remove both
the schema limits thredded_messageboards.slug to 191 characters but there's no length validator on Thredded::Messageboard.slug - remove the database limit or add the validator
the schema limits thredded_messageboard_groups.name to 255 characters but there's no length validator on Thredded::MessageboardGroup.name - remove the database limit or add the validator
the schema limits thredded_messageboard_notifications_for_followed_topics.notifier_key to 90 characters but there's no length validator on Thredded::MessageboardNotificationsForFollowedTopics.notifier_key - remove the database limit or add the validator
the schema limits thredded_notifications_for_followed_topics.notifier_key to 90 characters but there's no length validator on Thredded::NotificationsForFollowedTopics.notifier_key - remove the database limit or add the validator
the schema limits thredded_notifications_for_private_topics.notifier_key to 90 characters but there's no length validator on Thredded::NotificationsForPrivateTopics.notifier_key - remove the database limit or add the validator
the schema limits thredded_posts.content to 65535 characters but there's no length validator on Thredded::Post.content - remove the database limit or add the validator
the schema limits thredded_posts.source to 191 characters but there's no length validator on Thredded::Post.source - remove the database limit or add the validator
the schema limits thredded_post_moderation_records.post_content to 65535 characters but there's no length validator on Thredded::PostModerationRecord.post_content - remove the database limit or add the validator
the schema limits thredded_post_moderation_records.post_user_name to 65535 characters but there's no length validator on Thredded::PostModerationRecord.post_user_name - remove the database limit or add the validator
the schema limits thredded_private_posts.content to 65535 characters but there's no length validator on Thredded::PrivatePost.content - remove the database limit or add the validator
the schema limits thredded_private_topics.hash_id to 20 characters but there's no length validator on Thredded::PrivateTopic.hash_id - remove the database limit or add the validator
the schema limits thredded_private_topics.slug to 191 characters but there's no length validator on Thredded::PrivateTopic.slug - remove the database limit or add the validator
the schema limits thredded_private_topics.title to 191 characters but the length validator on Thredded::PrivateTopic.title enforces a maximum of 200 characters - set both limits to the same value or remove both
the schema limits thredded_topics.hash_id to 20 characters but there's no length validator on Thredded::Topic.hash_id - remove the database limit or add the validator
the schema limits thredded_topics.slug to 191 characters but there's no length validator on Thredded::Topic.slug - remove the database limit or add the validator
the schema limits thredded_topics.title to 191 characters but the length validator on Thredded::Topic.title enforces a maximum of 200 characters - set both limits to the same value or remove both
the schema limits accounts.federated_id to 255 characters but there's no length validator on User.federated_id - remove the database limit or add the validator
the schema limits accounts.password_hash to 255 characters but there's no length validator on User.password_hash - remove the database limit or add the validator
the schema limits accounts.provider to 255 characters but there's no length validator on User.provider - remove the database limit or add the validator
the schema limits accounts.provider_uid to 255 characters but there's no length validator on User.provider_uid - remove the database limit or add the validator
the schema limits accounts.username to 255 characters but there's no length validator on User.username - remove the database limit or add the validator
the schema limits user_preferences.key to 255 characters but the length validator on UserPreference.key enforces a maximum of 50 characters - set both limits to the same value or remove both
the schema limits user_preferences.value to 255 characters but the length validator on UserPreference.value enforces a maximum of 1000 characters - set both limits to the same value or remove both
the schema limits user_preferences.value_ciphertext to 65535 characters but there's no length validator on UserPreference.value_ciphertext - remove the database limit or add the validator
remove the index index_user_preferences_on_account_id from the table user_preferences - queries should be able to use the following index instead: index_user_preferences_on_account_id_and_key
remove the index index_thredded_private_posts_on_postable_id from the table thredded_private_posts - queries should be able to use the following index instead: index_thredded_private_posts_on_postable_id_and_created_at
remove the index index_thredded_posts_on_messageboard_id from the table thredded_posts - queries should be able to use the following index instead: index_thredded_posts_on_messageboard_id_and_user_id
remove the index index_thredded_posts_on_postable_id from the table thredded_posts - queries should be able to use the following index instead: index_thredded_posts_on_postable_id_and_created_at
remove the index index_thredded_post_moderation_records_on_messageboard_id from the table thredded_post_moderation_records - queries should be able to use the following index instead: index_thredded_moderation_records_for_display
remove the index index_thredded_notifications_for_private_topics_on_user_id from the table thredded_notifications_for_private_topics - queries should be able to use the following index instead: thredded_notifications_for_private_topics_unique
remove the index index_thredded_messageboard_users_on_thredded_messageboard_id from the table thredded_messageboard_users - queries should be able to use the following indices instead: index_thredded_messageboard_users_for_recently_active or index_thredded_messageboard_users_primary
remove the index idx_on_user_id_78e6269133 from the table thredded_messageboard_notifications_for_followed_topics - queries should be able to use the following index instead: thredded_messageboard_notifications_for_followed_topics_unique
remove the index index_thredded_categories_on_messageboard_id from the table thredded_categories - queries should be able to use the following index instead: index_thredded_categories_on_messageboard_id_and_slug
remove the index index_roles_on_name from the table roles - queries should be able to use the following index instead: index_roles_on_name_and_resource_type_and_resource_id
remove the index index_oauth_pushed_requests_on_oauth_application_id_and_code from the table oauth_pushed_requests - queries should be able to use the following index instead: index_oauth_pushed_requests_on_code
remove the index index_indexed_contents_on_source_platform from the table indexed_contents - queries should be able to use the following index instead: index_indexed_contents_on_source_platform_and_external_id
remove the index idx_icv_on_vh_and_icid from the table indexed_content_vectors - queries should be able to use the following index instead: index_indexed_content_vectors_on_indexed_content_id
remove the index index_indexed_content_vectors_on_vector_hash from the table indexed_content_vectors - queries should be able to use the following index instead: idx_icv_on_vh_and_icid
remove the index index_friendly_id_slugs_on_sluggable_id from the table friendly_id_slugs - queries should be able to use the following index instead: index_friendly_id_slugs_on_sluggable_id_and_sluggable_type
remove the index index_federails_followings_on_actor_id from the table federails_followings - queries should be able to use the following index instead: index_federails_followings_on_actor_id_and_target_actor_id
remove the index index_federails_followings_on_target_actor_id from the table federails_followings - queries should be able to use the following index instead: index_federails_followings_on_target_actor_id_and_actor_id
remove the index index_experiences_on_account_id from the table experiences - queries should be able to use the following index instead: index_experiences_on_account_id_and_created_at
remove the index index_experiences_on_source_type from the table experiences - queries should be able to use the following index instead: index_experiences_on_source_type_and_metaverse_platform
remove the index index_experience_vectors_on_vector_hash_and_experience_id from the table experience_vectors - queries should be able to use the following index instead: index_experience_vectors_on_experience_id
remove the index index_experience_vectors_on_vector_hash from the table experience_vectors - queries should be able to use the following index instead: index_experience_vectors_on_vector_hash_and_experience_id
remove the index index_console1984_sessions_on_user_id from the table console1984_sessions - queries should be able to use the following index instead: index_console1984_sessions_on_user_id_and_created_at
remove the index index_console1984_commands_on_session_id from the table console1984_commands - queries should be able to use the following index instead: on_session_and_sensitive_chronologically
remove the index index_comment_likes_on_comment_id from the table comment_likes - queries should be able to use the following index instead: index_comment_likes_on_comment_id_and_account_id
remove the index index_comfy_cms_snippets_on_site_id from the table comfy_cms_snippets - queries should be able to use the following indices instead: index_comfy_cms_snippets_on_site_id_and_identifier or index_comfy_cms_snippets_on_site_id_and_position
remove the index index_comfy_cms_pages_on_parent_id from the table comfy_cms_pages - queries should be able to use the following index instead: index_comfy_cms_pages_on_parent_id_and_position
remove the index index_comfy_cms_pages_on_site_id from the table comfy_cms_pages - queries should be able to use the following index instead: index_comfy_cms_pages_on_site_id_and_full_path
remove the index index_comfy_cms_layouts_on_parent_id from the table comfy_cms_layouts - queries should be able to use the following index instead: index_comfy_cms_layouts_on_parent_id_and_position
remove the index index_comfy_cms_layouts_on_site_id from the table comfy_cms_layouts - queries should be able to use the following index instead: index_comfy_cms_layouts_on_site_id_and_identifier
remove the index index_comfy_cms_files_on_site_id from the table comfy_cms_files - queries should be able to use the following index instead: index_comfy_cms_files_on_site_id_and_position
remove the index index_comfy_cms_categorizations_on_category_id from the table comfy_cms_categorizations - queries should be able to use the following index instead: index_cms_categorizations_on_cat_id_and_catd_type_and_catd_id
remove the index index_comfy_cms_categories_on_site_id from the table comfy_cms_categories - queries should be able to use the following index instead: index_cms_categories_on_site_id_and_cat_type_and_label
remove the index index_active_storage_variant_records_on_blob_id from the table active_storage_variant_records - queries should be able to use the following index instead: index_active_storage_variant_records_uniqueness
remove the index index_accounts_roles_on_account_id from the table accounts_roles - queries should be able to use the following index instead: index_accounts_roles_on_account_id_and_role_id
remove the index index_account_roles_on_account_id from the table account_roles - queries should be able to use the following index instead: index_account_roles_on_account_id_and_role_id
remove the index index_account_active_session_keys_on_account_id_and_session_id from the table account_active_session_keys - queries should be able to use the following index instead: index_account_active_session_keys_on_session_id
remove fk_rails_18962144a4 from account_login_change_keys - coincides with the primary key on the table
remove fk_rails_ccaeb37cea from account_password_reset_keys - coincides with the primary key on the table
remove fk_rails_9b2f6d8501 from account_remember_keys - coincides with the primary key on the table
remove fk_rails_86a43d3592 from account_session_keys - coincides with the primary key on the table
remove fk_rails_2e3b612008 from account_verification_keys - coincides with the primary key on the table
consider adding `WHERE deleted_at IS NULL` or `WHERE deleted_at IS NOT NULL` to index_comments_on_account_id - a partial index can speed lookups of soft-deletable models
consider adding `WHERE deleted_at IS NULL` or `WHERE deleted_at IS NOT NULL` to index_comments_on_comment_thread_id - a partial index can speed lookups of soft-deletable models
consider adding `WHERE deleted_at IS NULL` or `WHERE deleted_at IS NOT NULL` to index_comments_on_moderation_state - a partial index can speed lookups of soft-deletable models
consider adding `WHERE deleted_at IS NULL` or `WHERE deleted_at IS NOT NULL` to index_comments_on_parent_id - a partial index can speed lookups of soft-deletable models
CollaborativeDocument references a non-existent table or view named collaborative_documents
CollaborativeDocumentUpdate references a non-existent table or view named collaborative_document_updates
SessionFinalization references a non-existent table or view named session_finalizations
add `NOT NULL` to comfy_cms_fragments.record_id - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to comfy_cms_fragments.record_type - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to comfy_cms_pages.layout_id - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to comfy_cms_revisions.created_at - timestamp columns are set automatically by Active Record and allowing NULL may lead to inconsistencies introduced by bulk operations
add `NOT NULL` to comfy_cms_translations.layout_id - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to experiences.title - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to friendly_id_slugs.created_at - timestamp columns are set automatically by Active Record and allowing NULL may lead to inconsistencies introduced by bulk operations
add `NOT NULL` to friendly_id_slugs.sluggable_type - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to indexed_content_vectors.vector_data - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to moderation_logs.content - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to moderation_logs.field - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to moderation_logs.model_type - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to moderation_logs.reason - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to oauth_grants.account_id - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to oauth_grants.acr - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to oauth_grants.certificate_thumbprint - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to oauth_grants.claims - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to oauth_grants.claims_locales - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to oauth_grants.code - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to oauth_grants.code_challenge - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to oauth_grants.code_challenge_method - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to oauth_grants.dpop_jkt - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to oauth_grants.dpop_jwk - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to oauth_grants.last_polled_at - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to oauth_grants.nonce - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to oauth_grants.oauth_application_id - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to oauth_grants.redirect_uri - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to oauth_grants.refresh_token - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to oauth_grants.resource - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to oauth_grants.revoked_at - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to oauth_grants.token - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to oauth_grants.user_code - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to thredded_messageboard_groups.name - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to thredded_posts.content - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to thredded_post_moderation_records.messageboard_id - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to thredded_private_posts.content - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to thredded_private_users.private_topic_id - models validates its presence but it's not non-NULL in the database
add `NOT NULL` to thredded_private_users.user_id - models validates its presence but it's not non-NULL in the database
add an index on comment_likes(account_id) - foreign keys are often used in database lookups and should be indexed for performance reasons
add an index on comments(approved_by_id) - foreign keys are often used in database lookups and should be indexed for performance reasons
add an index on thredded_topics(last_user_id) - foreign keys are often used in database lookups and should be indexed for performance reasons
add an index on thredded_user_messageboard_preferences(messageboard_id) - foreign keys are often used in database lookups and should be indexed for performance reasons
add an index on thredded_user_private_topic_read_states(postable_id) - foreign keys are often used in database lookups and should be indexed for performance reasons
add an index on thredded_user_topic_follows(topic_id) - foreign keys are often used in database lookups and should be indexed for performance reasons
add an index on thredded_user_topic_read_states(postable_id) - foreign keys are often used in database lookups and should be indexed for performance reasons
use `dependent: :destroy` or similar on Thredded::Category.topic_categories - associated model Thredded::TopicCategory has callbacks that are currently skipped
use `dependent: :destroy` or similar on Thredded::Messageboard.user_topic_read_states - associated model Thredded::UserTopicReadState has callbacks that are currently skipped
use `dependent: :destroy` or similar on Thredded::Messageboard.post_moderation_records - associated model Thredded::PostModerationRecord has callbacks that are currently skipped
use `dependent: :destroy` or similar on Thredded::PrivateTopic.private_users - associated model Thredded::PrivateUser has callbacks that are currently skipped
use `dependent: :destroy` or similar on Thredded::PrivateTopic.user_read_states - associated model Thredded::UserPrivateTopicReadState has callbacks that are currently skipped
use `dependent: :destroy` or similar on Thredded::Topic.topic_categories - associated model Thredded::TopicCategory has callbacks that are currently skipped
use `dependent: :destroy` or similar on Thredded::Topic.user_read_states - associated model Thredded::UserTopicReadState has callbacks that are currently skipped
use `dependent: :destroy` or similar on Thredded::UserDetail.messageboard_users - associated model Thredded::MessageboardUser has callbacks that are currently skipped
add a primary key to account_active_session_keys
add a primary key to accounts_roles
add a primary key to comment_hierarchies
add a primary key to test
add a updated_at column to account_active_session_keys
add a created_at column to account_login_change_keys
add a updated_at column to account_login_change_keys
add a created_at column to account_password_reset_keys
add a updated_at column to account_password_reset_keys
add a created_at column to account_remember_keys
add a updated_at column to account_remember_keys
add a created_at column to account_session_keys
add a updated_at column to account_session_keys
add a created_at column to account_verification_keys
add a updated_at column to account_verification_keys
add a updated_at column to active_storage_db_files
add a created_at column to active_storage_variant_records
add a updated_at column to active_storage_variant_records
add a created_at column to comfy_cms_categories
add a updated_at column to comfy_cms_categories
add a created_at column to comfy_cms_categorizations
add a updated_at column to comfy_cms_categorizations
add a updated_at column to comfy_cms_revisions
add a created_at column to comment_hierarchies
add a updated_at column to comment_hierarchies
add a updated_at column to friendly_id_slugs
add a updated_at column to oauth_applications
add a created_at column to oauth_dpop_proofs
add a updated_at column to oauth_dpop_proofs
add a updated_at column to oauth_grants
add a updated_at column to solid_cable_messages
add a updated_at column to solid_cache_entries
add a updated_at column to solid_queue_blocked_executions
add a updated_at column to solid_queue_claimed_executions
add a updated_at column to solid_queue_failed_executions
add a updated_at column to solid_queue_pauses
add a updated_at column to solid_queue_processes
add a updated_at column to solid_queue_ready_executions
add a updated_at column to solid_queue_recurring_executions
add a updated_at column to solid_queue_scheduled_executions
add a created_at column to test
add a updated_at column to test
add a updated_at column to thredded_user_topic_follows
/Users/george/.gem/ruby/3.4.1/gems/facets-3.1.0/lib/core/facets/kernel/as.rb:103: warning: redefining 'object_id' may cause serious problems
/Users/george/.gem/ruby/3.4.1/gems/facets-3.1.0/lib/standard/facets/memoizer.rb:39: warning: redefining 'object_id' may cause serious problems
--- End Output for Active Record Doctor ---
Database Consistency [NOTOK] (Exit Code: 1)
--- Output for Database Consistency ---
No configurations were provided
MissingIndexChecker fail Account thredded_last_user_topics associated model should have proper index in the database
ForeignKeyChecker fail Comment parent should have foreign key in the database
ForeignKeyChecker fail Comment account should have foreign key in the database
LengthConstraintChecker fail Account federated_id column has limit in the database but do not have length validator
LengthConstraintChecker fail Account password_hash column has limit in the database but do not have length validator
LengthConstraintChecker fail Account provider column has limit in the database but do not have length validator
LengthConstraintChecker fail Account provider_uid column has limit in the database but do not have length validator
NullConstraintChecker fail Account username column is required in the database but does not have a validator disallowing nil values
LengthConstraintChecker fail Account username column has limit in the database but do not have length validator
LengthConstraintChecker fail User federated_id column has limit in the database but do not have length validator
LengthConstraintChecker fail User password_hash column has limit in the database but do not have length validator
LengthConstraintChecker fail User provider column has limit in the database but do not have length validator
LengthConstraintChecker fail User provider_uid column has limit in the database but do not have length validator
NullConstraintChecker fail User username column is required in the database but does not have a validator disallowing nil values
LengthConstraintChecker fail User username column has limit in the database but do not have length validator
LengthConstraintChecker fail BlockedDomain blocked_by column has limit in the database but do not have length validator
LengthConstraintChecker fail BlockedDomain domain column has limit in the database but do not have length validator
LengthConstraintChecker fail BlockedDomain reason column has limit in the database but do not have length validator
LengthConstraintChecker fail BlockedExperience activitypub_uri column has limit in the database but do not have length validator
LengthConstraintChecker fail BlockedExperience blocked_by column has limit in the database but do not have length validator
LengthConstraintChecker fail BlockedExperience reason column has limit in the database but do not have length validator
NullConstraintChecker fail Comment mentions_cache column is required in the database but does not have a validator disallowing nil values
LengthConstraintChecker fail Comment moderation_state column has limit in the database but do not have length validator
LengthConstraintChecker fail CommentThread commontable_type column has limit in the database but do not have length validator
NullConstraintChecker fail Experience account_id column is required in the database but do not have presence validator for association account
LengthConstraintChecker fail Experience metaverse_coordinates column has limit in the database but do not have length validator
LengthConstraintChecker fail Experience metaverse_metadata column has limit in the database but do not have length validator
LengthConstraintChecker fail Experience metaverse_platform column has limit in the database but do not have length validator
LengthConstraintChecker fail Experience slug column has limit in the database but do not have length validator
LengthConstraintChecker fail Experience source_type column has limit in the database but do not have length validator
LengthConstraintChecker fail ExperienceVector vector_data column has limit in the database but do not have length validator
LengthConstraintChecker fail ExperienceVector vector_hash column has limit in the database but do not have length validator
LengthConstraintChecker fail FederatedAnnouncement activitypub_uri column has limit in the database but do not have length validator
LengthConstraintChecker fail FederatedAnnouncement experience_url column has limit in the database but do not have length validator
LengthConstraintChecker fail FederatedAnnouncement source_domain column has limit in the database but do not have length validator
LengthConstraintChecker fail FederatedAnnouncement title column has limit in the database but do not have length validator
LengthConstraintChecker fail IndexedContent author column has limit in the database but do not have length validator
LengthConstraintChecker fail IndexedContent content_type column has limit in the database but do not have length validator
LengthConstraintChecker fail IndexedContent coordinates column has limit in the database but do not have length validator
LengthConstraintChecker fail IndexedContent description column has limit in the database but do not have length validator
LengthConstraintChecker fail IndexedContent external_id column has limit in the database but do not have length validator
LengthConstraintChecker fail IndexedContent metadata column has limit in the database but do not have length validator
LengthConstraintChecker fail IndexedContent source_platform column has limit in the database but do not have length validator
LengthConstraintChecker fail IndexedContent title column has limit in the database but do not have length validator
LengthConstraintChecker fail IndexedContentVector content_hash column has limit in the database but do not have length validator
LengthConstraintChecker fail IndexedContentVector vector_data column has limit in the database but do not have length validator
LengthConstraintChecker fail IndexedContentVector vector_hash column has limit in the database but do not have length validator
LengthConstraintChecker fail IndexingRun configuration column has limit in the database but do not have length validator
LengthConstraintChecker fail IndexingRun error_details column has limit in the database but do not have length validator
LengthConstraintChecker fail IndexingRun error_message column has limit in the database but do not have length validator
LengthConstraintChecker fail IndexingRun indexer_class column has limit in the database but do not have length validator
LengthConstraintChecker fail ModerationLog content column has limit in the database but do not have length validator
LengthConstraintChecker fail ModerationLog field column has limit in the database but do not have length validator
LengthConstraintChecker fail ModerationLog model_type column has limit in the database but do not have length validator
LengthConstraintChecker fail ModerationLog reason column has limit in the database but do not have length validator
LengthConstraintChecker fail ModerationLog violations_data column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication application_type column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication backchannel_logout_uri column has limit in the database but do not have length validator
NullConstraintChecker fail OauthApplication client_id column is required in the database but does not have a validator disallowing nil values
LengthConstraintChecker fail OauthApplication client_id column has limit in the database but do not have length validator
NullConstraintChecker fail OauthApplication client_secret column is required in the database but does not have a validator disallowing nil values
LengthConstraintChecker fail OauthApplication client_secret column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication client_uri column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication contacts column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication description column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication dpop_bound_access_tokens column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication frontchannel_logout_uri column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication grant_types column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication homepage_url column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication id_token_encrypted_response_alg column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication id_token_encrypted_response_enc column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication id_token_signed_response_alg column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication initiate_login_uri column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication jwks column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication jwks_uri column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication logo_uri column has limit in the database but do not have length validator
NullConstraintChecker fail OauthApplication name column is required in the database but does not have a validator disallowing nil values
LengthConstraintChecker fail OauthApplication name column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication policy_uri column has limit in the database but do not have length validator
NullConstraintChecker fail OauthApplication post_logout_redirect_uris column is required in the database but does not have a validator disallowing nil values
LengthConstraintChecker fail OauthApplication post_logout_redirect_uris column has limit in the database but do not have length validator
NullConstraintChecker fail OauthApplication redirect_uri column is required in the database but does not have a validator disallowing nil values
LengthConstraintChecker fail OauthApplication redirect_uri column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication registration_access_token column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication request_object_encryption_alg column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication request_object_encryption_enc column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication request_object_signing_alg column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication request_uris column has limit in the database but do not have length validator
ThreeStateBooleanChecker fail OauthApplication require_signed_request_object boolean column should have NOT NULL constraint
LengthConstraintChecker fail OauthApplication response_types column has limit in the database but do not have length validator
NullConstraintChecker fail OauthApplication scopes column is required in the database but does not have a validator disallowing nil values
LengthConstraintChecker fail OauthApplication scopes column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication sector_identifier_uri column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication software_id column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication software_version column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication subject_type column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication tls_client_auth_san_dns column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication tls_client_auth_san_email column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication tls_client_auth_san_ip column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication tls_client_auth_san_uri column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication tls_client_auth_subject_dn column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication token_endpoint_auth_method column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication tos_uri column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication userinfo_encrypted_response_alg column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication userinfo_encrypted_response_enc column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthApplication userinfo_signed_response_alg column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthGrant access_type column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthGrant acr column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthGrant certificate_thumbprint column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthGrant claims column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthGrant claims_locales column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthGrant code column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthGrant code_challenge column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthGrant code_challenge_method column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthGrant dpop_jkt column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthGrant dpop_jwk column has limit in the database but do not have length validator
NullConstraintChecker fail OauthGrant expires_in column is required in the database but does not have a validator disallowing nil values
LengthConstraintChecker fail OauthGrant nonce column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthGrant redirect_uri column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthGrant refresh_token column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthGrant resource column has limit in the database but do not have length validator
NullConstraintChecker fail OauthGrant scopes column is required in the database but does not have a validator disallowing nil values
LengthConstraintChecker fail OauthGrant scopes column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthGrant token column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthGrant type column has limit in the database but do not have length validator
LengthConstraintChecker fail OauthGrant user_code column has limit in the database but do not have length validator
LengthConstraintChecker fail Role name column has limit in the database but do not have length validator
LengthConstraintChecker fail Role resource_type column has limit in the database but do not have length validator
NullConstraintChecker fail UserPreference account_id column is required in the database but does not have a validator disallowing nil values
LengthConstraintChecker fail UserPreference value column has lower limit in the database than in length validator
LengthConstraintChecker fail UserPreference value_ciphertext column has limit in the database but do not have length validator
ColumnPresenceChecker fail Experience title column should be required in the database
ColumnPresenceChecker fail IndexedContentVector vector_data column should be required in the database
ColumnPresenceChecker fail ModerationLog field column should be required in the database
ColumnPresenceChecker fail ModerationLog model_type column should be required in the database
ColumnPresenceChecker fail ModerationLog content column should be required in the database
ColumnPresenceChecker fail ModerationLog reason column should be required in the database
UniqueIndexChecker fail Account index_accounts_on_provider_and_provider_uid index is unique in the database but do not have uniqueness validator
UniqueIndexChecker fail Account index_accounts_on_username index is unique in the database but do not have uniqueness validator
UniqueIndexChecker fail User index_accounts_on_provider_and_provider_uid index is unique in the database but do not have uniqueness validator
UniqueIndexChecker fail User index_accounts_on_username index is unique in the database but do not have uniqueness validator
UniqueIndexChecker fail AccountRole index_account_roles_on_account_id_and_role_id index is unique in the database but do not have uniqueness validator
RedundantIndexChecker fail AccountRole index_account_roles_on_account_id index is redundant as index_account_roles_on_account_id_and_role_id covers it
UniqueIndexChecker fail CommentThread idx_comment_threads_poly index is unique in the database but do not have uniqueness validator
UniqueIndexChecker fail CommentLike index_comment_likes_on_comment_id_and_account_id index is unique in the database but do not have uniqueness validator
RedundantIndexChecker fail CommentLike index_comment_likes_on_comment_id index is redundant as index_comment_likes_on_comment_id_and_account_id covers it
RedundantIndexChecker fail Experience index_experiences_on_account_id index is redundant as index_experiences_on_account_id_and_created_at covers it
UniqueIndexChecker fail Experience index_experiences_on_slug index is unique in the database but do not have uniqueness validator
RedundantIndexChecker fail Experience index_experiences_on_source_type index is redundant as index_experiences_on_source_type_and_metaverse_platform covers it
UniqueIndexChecker fail ExperienceVector index_experience_vectors_on_experience_id index is unique in the database but do not have uniqueness validator
RedundantUniqueIndexChecker fail ExperienceVector index_experience_vectors_on_vector_hash_and_experience_id index uniqueness is redundant as index_experience_vectors_on_experience_id covers it
RedundantIndexChecker fail ExperienceVector index_experience_vectors_on_vector_hash index is redundant as index_experience_vectors_on_vector_hash_and_experience_id covers it
RedundantIndexChecker fail IndexedContent index_indexed_contents_on_source_platform index is redundant as index_indexed_contents_on_source_platform_and_external_id covers it
UniqueIndexChecker fail IndexedContentVector index_indexed_content_vectors_on_indexed_content_id index is unique in the database but do not have uniqueness validator
RedundantUniqueIndexChecker fail IndexedContentVector idx_icv_on_vh_and_icid index uniqueness is redundant as index_indexed_content_vectors_on_indexed_content_id covers it
RedundantIndexChecker fail IndexedContentVector index_indexed_content_vectors_on_vector_hash index is redundant as idx_icv_on_vh_and_icid covers it
UniqueIndexChecker fail OauthApplication index_oauth_applications_on_client_id index is unique in the database but do not have uniqueness validator
UniqueIndexChecker fail OauthApplication index_oauth_applications_on_client_secret index is unique in the database but do not have uniqueness validator
UniqueIndexChecker fail OauthGrant index_oauth_grants_on_oauth_application_id_and_code index is unique in the database but do not have uniqueness validator
UniqueIndexChecker fail OauthGrant index_oauth_grants_on_refresh_token index is unique in the database but do not have uniqueness validator
UniqueIndexChecker fail OauthGrant index_oauth_grants_on_token index is unique in the database but do not have uniqueness validator
UniqueIndexChecker fail OauthGrant index_oauth_grants_on_user_code index is unique in the database but do not have uniqueness validator
RedundantIndexChecker fail Role index_roles_on_name index is redundant as index_roles_on_name_and_resource_type_and_resource_id covers it
RedundantIndexChecker fail UserPreference index_user_preferences_on_account_id index is redundant as index_user_preferences_on_account_id_and_key covers it
MissingTableChecker fail CollaborativeDocument self should have a table in the database
MissingTableChecker fail CollaborativeDocumentUpdate self should have a table in the database
MissingTableChecker fail SessionFinalization self should have a table in the database
/Users/george/.gem/ruby/3.4.1/gems/facets-3.1.0/lib/core/facets/kernel/as.rb:103: warning: redefining 'object_id' may cause serious problems
/Users/george/.gem/ruby/3.4.1/gems/facets-3.1.0/lib/standard/facets/memoizer.rb:39: warning: redefining 'object_id' may cause serious problems
--- End Output for Database Consistency ---
lol_dba [OK]
Fasterer [NOTOK]
Typos [NOTOK]
Jest [OK]
Brakeman [NOTOK]
Rails Tests [NOTOK]
hadolint [OK]

--- Log for Fasterer --- (Exit Code: 1)
--------------------------------------------------
--- Fasterer Results ---
--------------------------------------------------
<internal:/Users/george/.rubies/ruby-3.4.1/lib/ruby/site_ruby/3.4.0/rubygems/core_ext/kernel_require.rb>:141:in 'Kernel#require': cannot load such file -- ruby_parser (LoadError)
	from <internal:/Users/george/.rubies/ruby-3.4.1/lib/ruby/site_ruby/3.4.0/rubygems/core_ext/kernel_require.rb>:141:in 'Kernel#require'
	from /Users/george/.gem/ruby/3.4.1/gems/fasterer-0.11.0/lib/fasterer/parser.rb:1:in '<top (required)>'
	from <internal:/Users/george/.rubies/ruby-3.4.1/lib/ruby/site_ruby/3.4.0/rubygems/core_ext/kernel_require.rb>:136:in 'Kernel#require'
	from <internal:/Users/george/.rubies/ruby-3.4.1/lib/ruby/site_ruby/3.4.0/rubygems/core_ext/kernel_require.rb>:136:in 'Kernel#require'
	from /Users/george/.gem/ruby/3.4.1/gems/fasterer-0.11.0/lib/fasterer/analyzer.rb:5:in '<top (required)>'
	from /Users/george/.gem/ruby/3.4.1/gems/fasterer-0.11.0/lib/fasterer/file_traverser.rb:4:in 'Kernel#require_relative'
	from /Users/george/.gem/ruby/3.4.1/gems/fasterer-0.11.0/lib/fasterer/file_traverser.rb:4:in '<top (required)>'
	from /Users/george/.gem/ruby/3.4.1/gems/fasterer-0.11.0/lib/fasterer/cli.rb:1:in 'Kernel#require_relative'
	from /Users/george/.gem/ruby/3.4.1/gems/fasterer-0.11.0/lib/fasterer/cli.rb:1:in '<top (required)>'
	from <internal:/Users/george/.rubies/ruby-3.4.1/lib/ruby/site_ruby/3.4.0/rubygems/core_ext/kernel_require.rb>:136:in 'Kernel#require'
	from <internal:/Users/george/.rubies/ruby-3.4.1/lib/ruby/site_ruby/3.4.0/rubygems/core_ext/kernel_require.rb>:136:in 'Kernel#require'
	from /Users/george/.gem/ruby/3.4.1/gems/fasterer-0.11.0/bin/fasterer:3:in '<top (required)>'
	from /Users/george/.gem/ruby/3.4.1/bin/fasterer:25:in 'Kernel#load'
	from /Users/george/.gem/ruby/3.4.1/bin/fasterer:25:in '<main>'
<internal:/Users/george/.rubies/ruby-3.4.1/lib/ruby/site_ruby/3.4.0/rubygems/core_ext/kernel_require.rb>:136:in 'Kernel#require': cannot load such file -- ruby_parser (LoadError)
	from <internal:/Users/george/.rubies/ruby-3.4.1/lib/ruby/site_ruby/3.4.0/rubygems/core_ext/kernel_require.rb>:136:in 'Kernel#require'
	from /Users/george/.gem/ruby/3.4.1/gems/fasterer-0.11.0/lib/fasterer/parser.rb:1:in '<top (required)>'
	from <internal:/Users/george/.rubies/ruby-3.4.1/lib/ruby/site_ruby/3.4.0/rubygems/core_ext/kernel_require.rb>:136:in 'Kernel#require'
	from <internal:/Users/george/.rubies/ruby-3.4.1/lib/ruby/site_ruby/3.4.0/rubygems/core_ext/kernel_require.rb>:136:in 'Kernel#require'
	from /Users/george/.gem/ruby/3.4.1/gems/fasterer-0.11.0/lib/fasterer/analyzer.rb:5:in '<top (required)>'
	from /Users/george/.gem/ruby/3.4.1/gems/fasterer-0.11.0/lib/fasterer/file_traverser.rb:4:in 'Kernel#require_relative'
	from /Users/george/.gem/ruby/3.4.1/gems/fasterer-0.11.0/lib/fasterer/file_traverser.rb:4:in '<top (required)>'
	from /Users/george/.gem/ruby/3.4.1/gems/fasterer-0.11.0/lib/fasterer/cli.rb:1:in 'Kernel#require_relative'
	from /Users/george/.gem/ruby/3.4.1/gems/fasterer-0.11.0/lib/fasterer/cli.rb:1:in '<top (required)>'
	from <internal:/Users/george/.rubies/ruby-3.4.1/lib/ruby/site_ruby/3.4.0/rubygems/core_ext/kernel_require.rb>:136:in 'Kernel#require'
	from <internal:/Users/george/.rubies/ruby-3.4.1/lib/ruby/site_ruby/3.4.0/rubygems/core_ext/kernel_require.rb>:136:in 'Kernel#require'
	from /Users/george/.gem/ruby/3.4.1/gems/fasterer-0.11.0/bin/fasterer:3:in '<top (required)>'
	from /Users/george/.gem/ruby/3.4.1/bin/fasterer:25:in 'Kernel#load'
	from /Users/george/.gem/ruby/3.4.1/bin/fasterer:25:in '<main>'

--------------------------------------------------
--- End of Fasterer Results (Exit Code: 1) ---
--------------------------------------------------

--- Log for Typos --- (Exit Code: 2)
--------------------------------------------------
--- Typos Results ---
--------------------------------------------------
error: `lso` should be `also`
    ./src/flags.js:33:7
   
33      ["lso-url", "0.0.0.0"],
         
error: `subsribers` should be `subscribers`
    ./SECURITY.md:37:55
   
37    Note: X offers an encrypted DMs feature for premium subsribers, which is better than regular DMs for enhanced privacy.
                                                         
error: `voight` should be `voigt`
     ./Gemfile:343:6
    
343  gem "voight_kampff"
         
error: `anc` should be `and`
    ./db/migrate/20251226103138_create_comment_hierarchies.rb:15:30
   
15                name: "comment_anc_desc_idx"
                                
error: `overriden` should be `overridden`
   ./config/anycable.yml:4:40
  
4  # The settings specified here would be overriden by the corresponding values in Rails credentials (e.g., `anycable.secret`),
                                         
error: `propogate` should be `propagate`
    ./config/anycable.yml:17:10
   
17      # to propogate this value to the client app.
            
error: `anc` should be `and`
     ./db/schema.rb:335:77
    
335      t.index ["ancestor_id", "descendant_id", "generations"], name: "comment_anc_desc_idx", unique: true
                                                                                
error: `Pn` should be `On`
    ./bin/stop-dev-server:85:31
   
85  run("lsof -iTCP -sTCP:LISTEN -Pn | egrep ':3000|:5173|:5432|:80|:443|:5174|:3080' || true", 'Listening ports that match dev
                                 
error: `voight` should be `voigt`
   ./app/controllers/concerns/enhanced_spam_protection.rb:5:10
  
5  require "voight_kampff"
           
error: `voight` should be `voigt`
    ./app/controllers/concerns/enhanced_spam_protection.rb:12:35
   
12  # 4. User agent bot detection via voight-kampff
                                     
error: `voight` should be `voigt`
    ./app/controllers/concerns/enhanced_spam_protection.rb:63:49
   
63      # Check if user agent is detected as bot by voight-kampff
                                                   
error: `voight` should be `voigt`
    ./app/controllers/concerns/enhanced_spam_protection.rb:64:74
   
64      Rails.logger.info "[EnhancedSpamProtection] Checking user agent with voight-kampff - UA: #{request.user_agent}"
                                                                            
error: `voight` should be `voigt`
    ./app/controllers/concerns/enhanced_spam_protection.rb:67:45
   
67                           detection_method: "voight_kampff",
                                               
error: `voight` should be `voigt`
    ./app/controllers/concerns/enhanced_spam_protection.rb:72:53
   
72          "Development: User agent detected as bot by voight-kampff."
                                                       
error: `voight` should be `voigt`
    ./app/controllers/concerns/enhanced_spam_protection.rb:81:49
   
81      Rails.logger.info "[EnhancedSpamProtection] voight-kampff user agent check passed"
                                                   
error: `voight` should be `voigt`
     ./app/controllers/concerns/enhanced_spam_protection.rb:157:47
    
157    # Check if user agent is detected as bot by voight-kampff
                                                  
error: `Voight` should be `Voigt`
     ./app/controllers/concerns/enhanced_spam_protection.rb:162:7
    
162        VoightKampff.bot?(request.user_agent)
          
error: `voight` should be `voigt`
   ./app/controllers/rodauth_controller.rb:5:10
  
5  require "voight_kampff"
           
error: `voight` should be `voigt`
     ./app/controllers/rodauth_controller.rb:234:49
    
234      # Check if user agent is detected as bot by voight-kampff
                                                    
error: `voight` should be `voigt`
     ./app/controllers/rodauth_controller.rb:235:69
    
235      Rails.logger.info "[RodauthController] Checking user agent with voight-kampff - UA: #{request.user_agent}"
                                                                        
error: `voight` should be `voigt`
     ./app/controllers/rodauth_controller.rb:238:54
    
238                       detection_method: "voight_kampff",
                                             
error: `voight` should be `voigt`
     ./app/controllers/rodauth_controller.rb:243:53
    
243          "Development: User agent detected as bot by voight-kampff."
                                                        
error: `voight` should be `voigt`
     ./app/controllers/rodauth_controller.rb:252:44
    
252      Rails.logger.info "[RodauthController] voight-kampff user agent check passed"
                                               
error: `voight` should be `voigt`
     ./app/controllers/rodauth_controller.rb:266:47
    
266    # Check if user agent is detected as bot by voight-kampff (duplicated from EnhancedSpamProtection)
                                                  
error: `Voight` should be `Voigt`
     ./app/controllers/rodauth_controller.rb:271:7
    
271        VoightKampff.bot?(request.user_agent)
          
error: `SORD` should be `SWORD`, `SORE`, `SORED`, `SAWED`, `SOARED`
    ./sorbet/rbi/shims/zip_kit.rbi:10:7
   
10  class SORD_ERROR_ZlibDeflater
         
error: `slotable` should be `slottable`
   
1  ./sorbet/rbi/dsl/view_component/slotable.rbi
                                  
error: `Slotable` should be `Slottable`
   ./sorbet/rbi/dsl/view_component/slotable.rbi:4:72
  
4  # This is an autogenerated file for dynamic methods in `ViewComponent::Slotable`.
                                                                         
error: `Slotable` should be `Slottable`
   ./sorbet/rbi/dsl/view_component/slotable.rbi:5:78
  
5  # Please instead update this file by running `bin/tapioca dsl ViewComponent::Slotable`.
                                                                               
error: `Slotable` should be `Slottable`
   ./sorbet/rbi/dsl/view_component/slotable.rbi:8:23
  
8  module ViewComponent::Slotable
                        

--------------------------------------------------
--- End of Typos Results (Exit Code: 2) ---
--------------------------------------------------

--- Log for Brakeman --- (Exit Code: 3)
--------------------------------------------------
--- Brakeman Results ---
--------------------------------------------------

== Errors ==

Error: app/views/admin/instance_settings/_form.slim:37 :: parse error on value "end" (kEND) While processing app/views/admin/instance_settings/_form.slim While processing /Users/george/Libreverse/app/views/admin/instance_settings/_form.slim
Location: /Users/george/.gem/ruby/3.4.1/gems/brakeman-8.0.2/bundle/ruby/3.2.0/gems/ruby_parser-3.22.0/lib/ruby_parser.rb:41:in 'RubyParser#process'

Error: app/views/experiences/_form.slim:55 :: parse error on value "end" (kEND) While processing app/views/experiences/_form.slim While processing /Users/george/Libreverse/app/views/experiences/_form.slim
Location: /Users/george/.gem/ruby/3.4.1/gems/brakeman-8.0.2/bundle/ruby/3.2.0/gems/ruby_parser-3.22.0/lib/ruby_parser.rb:41:in 'RubyParser#process'

Error: app/views/rodauth/change_password.slim:64 :: parse error on value "end" (kEND) While processing app/views/rodauth/change_password.slim While processing /Users/george/Libreverse/app/views/rodauth/change_password.slim
Location: /Users/george/.gem/ruby/3.4.1/gems/brakeman-8.0.2/bundle/ruby/3.2.0/gems/ruby_parser-3.22.0/lib/ruby_parser.rb:41:in 'RubyParser#process'

== Warnings ==

Confidence: Medium
Category: SQL Injection
Check: SQL
Message: Possible SQL injection
Code: ActiveRecord::Base.connection.execute((("SET GLOBAL #{var} = #{value}" or "SET SESSION #{var} = #{value}") or "SET GLOBAL #{var} = #{value}"))
File: config/initializers/tidb.rb
Line: 22

Confidence: Weak
Category: Unscoped Find
Check: UnscopedFind
Message: Unscoped call to `Comment#find`
Code: Comment.find(params[:id])
File: app/controllers/admin/comments_controller.rb
Line: 22


--------------------------------------------------
--- End of Brakeman Results (Exit Code: 3) ---
--------------------------------------------------

--- Log for Rails Tests --- (Exit Code: 1)
--------------------------------------------------
--- Rails Tests Results ---
--------------------------------------------------
/Users/george/.gem/ruby/3.4.1/gems/facets-3.1.0/lib/core/facets/kernel/as.rb:103: warning: redefining 'object_id' may cause serious problems
/Users/george/.gem/ruby/3.4.1/gems/facets-3.1.0/lib/standard/facets/memoizer.rb:39: warning: redefining 'object_id' may cause serious problems
FlagShihTzu#has_flags: Table "accounts" doesn't exist.  Have all migrations been run?
FlagShihTzu says: Flag column flags appears to be missing!
To turn off this warning set check_for_column: false in has_flags definition here: /Users/george/Libreverse/app/models/account.rb:38:in '<class:Account>'
FlagShihTzu#has_flags: Table "experiences" doesn't exist.  Have all migrations been run?
FlagShihTzu says: Flag column flags appears to be missing!
To turn off this warning set check_for_column: false in has_flags definition here: /Users/george/Libreverse/app/models/experience.rb:52:in '<class:Experience>'
FlagShihTzu#has_flags: Table "oauth_applications" doesn't exist.  Have all migrations been run?
FlagShihTzu says: Flag column flags appears to be missing!
To turn off this warning set check_for_column: false in has_flags definition here: /Users/george/Libreverse/app/models/oauth_application.rb:73:in '<class:OauthApplication>'
Testing account export simulation with maximum compression...
 Account export simulation completed
 Original content size: 1108 bytes
  - XML metadata: 642 bytes
  - HTML content: 466 bytes
 Compressed ZIP size: 1402 bytes
 Compression ratio: -26.53%
 ZIP structure is correct - contains all expected files:
  - account.xml
  - experiences/456/experience_456.html
  - experiences/456/metadata.xml
  - preferences.xml
 Lower compression than expected (-26.53%)

Account export simulation completed!
/Users/george/.gem/ruby/3.4.1/gems/facets-3.1.0/lib/core/facets/kernel/as.rb:103: warning: redefining 'object_id' may cause serious problems
/Users/george/.gem/ruby/3.4.1/gems/facets-3.1.0/lib/standard/facets/memoizer.rb:39: warning: redefining 'object_id' may cause serious problems
FlagShihTzu#has_flags: Table "accounts" doesn't exist.  Have all migrations been run?
FlagShihTzu says: Flag column flags appears to be missing!
To turn off this warning set check_for_column: false in has_flags definition here: /Users/george/Libreverse/app/models/account.rb:38:in '<class:Account>'
Testing zip_kit maximum compression configuration...
 Original size: 54000 bytes
 Compressed size: 401 bytes
 Compression ratio: 99.26%
 Maximum compression appears to be working (99.26% compression achieved)
 ZIP file structure is valid

Test completed!

Run options: --seed 35246

# Running:

E

Error:
Api::JsonControllerTest#test_should_allow_state-changing_methods_with_valid_CSRF_token:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::JsonControllerTest#test_should_allow_state-changing_methods_with_valid_CSRF_token:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/json_controller_test.rb:331

E

Error:
Api::JsonControllerTest#test_should_reject_empty_method_name:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::JsonControllerTest#test_should_reject_empty_method_name:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/json_controller_test.rb:274

E

Error:
Api::JsonControllerTest#test_should_validate_content_type_for_POST_without_method_in_URL:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::JsonControllerTest#test_should_validate_content_type_for_POST_without_method_in_URL:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/json_controller_test.rb:290

E

Error:
Api::JsonControllerTest#test_should_handle_preferences.is_dismissed:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::JsonControllerTest#test_should_handle_preferences.is_dismissed:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/json_controller_test.rb:207

E

Error:
Api::JsonControllerTest#test_should_require_authentication_for_protected_methods:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::JsonControllerTest#test_should_require_authentication_for_protected_methods:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/json_controller_test.rb:235

E

Error:
Api::JsonControllerTest#test_should_get_all_experiences_via_GET:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::JsonControllerTest#test_should_get_all_experiences_via_GET:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/json_controller_test.rb:101

E

Error:
Api::JsonControllerTest#test_should_handle_POST_with_JSON_body_parameters:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::JsonControllerTest#test_should_handle_POST_with_JSON_body_parameters:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/json_controller_test.rb:283

E

Error:
Api::JsonControllerTest#test_should_get_single_experience:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::JsonControllerTest#test_should_get_single_experience:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/json_controller_test.rb:121

E

Error:
Api::JsonControllerTest#test_should_allow_GET_requests_without_CSRF_token:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::JsonControllerTest#test_should_allow_GET_requests_without_CSRF_token:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/json_controller_test.rb:359

E

Error:
Api::JsonControllerTest#test_should_get_account_info_when_authenticated:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::JsonControllerTest#test_should_get_account_info_when_authenticated:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/json_controller_test.rb:223

E

Error:
Api::JsonControllerTest#test_should_search_experiences_with_public_query:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::JsonControllerTest#test_should_search_experiences_with_public_query:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/json_controller_test.rb:141

E

Error:
Api::JsonControllerTest#test_should_handle_preferences.set:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::JsonControllerTest#test_should_handle_preferences.set:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/json_controller_test.rb:175

E

Error:
Api::JsonControllerTest#test_should_reject_invalid_preference_keys:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::JsonControllerTest#test_should_reject_invalid_preference_keys:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/json_controller_test.rb:250

E

Error:
Api::JsonControllerTest#test_should_get_all_experiences_via_POST_with_JSON:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::JsonControllerTest#test_should_get_all_experiences_via_POST_with_JSON:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/json_controller_test.rb:111

E

Error:
Api::JsonControllerTest#test_should_handle_preferences.get:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::JsonControllerTest#test_should_handle_preferences.get:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/json_controller_test.rb:191

E

Error:
Api::JsonControllerTest#test_should_reject_malformed_method_names:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::JsonControllerTest#test_should_reject_malformed_method_names:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/json_controller_test.rb:303

E

Error:
Api::JsonControllerTest#test_should_require_CSRF_token_for_state-changing_methods:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::JsonControllerTest#test_should_require_CSRF_token_for_state-changing_methods:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/json_controller_test.rb:312

E

Error:
Api::JsonControllerTest#test_should_get_approved_experiences_only:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::JsonControllerTest#test_should_get_approved_experiences_only:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/json_controller_test.rb:131

E

Error:
Api::JsonControllerTest#test_should_reject_invalid_method_names:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::JsonControllerTest#test_should_reject_invalid_method_names:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/json_controller_test.rb:265

E

Error:
Api::JsonControllerTest#test_should_create_experience_when_authenticated:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::JsonControllerTest#test_should_create_experience_when_authenticated:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/json_controller_test.rb:154

E

Error:
VectorSimilarityServiceTest#test_calculates_cosine_similarity_correctly_for_orthogonal_vectors:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorSimilarityServiceTest#test_calculates_cosine_similarity_correctly_for_orthogonal_vectors:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vector_similarity_service_test.rb:31

E

Error:
VectorSimilarityServiceTest#test_returns_zero_for_empty_vectors:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorSimilarityServiceTest#test_returns_zero_for_empty_vectors:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vector_similarity_service_test.rb:49

E

Error:
VectorSimilarityServiceTest#test_returns_zero_for_zero_vectors:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorSimilarityServiceTest#test_returns_zero_for_zero_vectors:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vector_similarity_service_test.rb:36

E

Error:
VectorSimilarityServiceTest#test_handles_zero_vector_normalization:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorSimilarityServiceTest#test_handles_zero_vector_normalization:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vector_similarity_service_test.rb:77

E

Error:
VectorSimilarityServiceTest#test_returns_zero_for_mismatched_vector_lengths:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorSimilarityServiceTest#test_returns_zero_for_mismatched_vector_lengths:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vector_similarity_service_test.rb:54

E

Error:
VectorSimilarityServiceTest#test_calculates_manhattan_distance_correctly:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorSimilarityServiceTest#test_calculates_manhattan_distance_correctly:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vector_similarity_service_test.rb:89

E

Error:
VectorSimilarityServiceTest#test_finds_similar_experiences_to_a_target_experience:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorSimilarityServiceTest#test_finds_similar_experiences_to_a_target_experience:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vector_similarity_service_test.rb:148

E

Error:
VectorSimilarityServiceTest#test_filters_results_by_similarity_threshold:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorSimilarityServiceTest#test_filters_results_by_similarity_threshold:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vector_similarity_service_test.rb:200

E

Error:
VectorSimilarityServiceTest#test_returns_infinity_for_mismatched_vector_lengths_in_distance_calculations:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorSimilarityServiceTest#test_returns_infinity_for_mismatched_vector_lengths_in_distance_calculations:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vector_similarity_service_test.rb:96

E

Error:
VectorSimilarityServiceTest#test_calculates_euclidean_distance_correctly:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorSimilarityServiceTest#test_calculates_euclidean_distance_correctly:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vector_similarity_service_test.rb:82

E

Error:
VectorSimilarityServiceTest#test_respects_limit_parameter:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorSimilarityServiceTest#test_respects_limit_parameter:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vector_similarity_service_test.rb:234

E

Error:
VectorSimilarityServiceTest#test_returns_zero_for_nil_vectors:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorSimilarityServiceTest#test_returns_zero_for_nil_vectors:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vector_similarity_service_test.rb:41

E

Error:
VectorSimilarityServiceTest#test_calculates_vector_magnitude_correctly:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorSimilarityServiceTest#test_calculates_vector_magnitude_correctly:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vector_similarity_service_test.rb:60

E

Error:
VectorSimilarityServiceTest#test_finds_similar_experiences_with_vector_search:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorSimilarityServiceTest#test_finds_similar_experiences_with_vector_search:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vector_similarity_service_test.rb:106

E

Error:
VectorSimilarityServiceTest#test_calculates_cosine_similarity_correctly_for_identical_vectors:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorSimilarityServiceTest#test_calculates_cosine_similarity_correctly_for_identical_vectors:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vector_similarity_service_test.rb:21

E

Error:
VectorSimilarityServiceTest#test_normalizes_vector_correctly:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorSimilarityServiceTest#test_normalizes_vector_correctly:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vector_similarity_service_test.rb:71

E

Error:
VectorSimilarityServiceTest#test_calculates_zero_magnitude_for_empty_vector:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorSimilarityServiceTest#test_calculates_zero_magnitude_for_empty_vector:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vector_similarity_service_test.rb:66

E

Error:
VectorSimilarityServiceTest#test_returns_empty_array_when_no_vector_exists_for_target_experience:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorSimilarityServiceTest#test_returns_empty_array_when_no_vector_exists_for_target_experience:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vector_similarity_service_test.rb:182

E

Error:
VectorSimilarityServiceTest#test_calculates_cosine_similarity_correctly_for_proportional_vectors:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorSimilarityServiceTest#test_calculates_cosine_similarity_correctly_for_proportional_vectors:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vector_similarity_service_test.rb:26

E

Error:
Api::XmlrpcControllerTest#test_should_allow_state-changing_XML-RPC_methods_with_valid_CSRF_token:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::XmlrpcControllerTest#test_should_allow_state-changing_XML-RPC_methods_with_valid_CSRF_token:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/xmlrpc_controller_test.rb:448

E

Error:
Api::XmlrpcControllerTest#test_should_handle_preferences.is_dismissed:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::XmlrpcControllerTest#test_should_handle_preferences.is_dismissed:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/xmlrpc_controller_test.rb:244

E

Error:
Api::XmlrpcControllerTest#test_should_search_experiences_with_public_query:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::XmlrpcControllerTest#test_should_search_experiences_with_public_query:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/xmlrpc_controller_test.rb:148

E

Error:
Api::XmlrpcControllerTest#test_should_reject_XML-RPC_without_method_name:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::XmlrpcControllerTest#test_should_reject_XML-RPC_without_method_name:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/xmlrpc_controller_test.rb:394

E

Error:
Api::XmlrpcControllerTest#test_should_require_CSRF_token_for_state-changing_XML-RPC_methods:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::XmlrpcControllerTest#test_should_require_CSRF_token_for_state-changing_XML-RPC_methods:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/xmlrpc_controller_test.rb:417

E

Error:
Api::XmlrpcControllerTest#test_should_get_all_experiences:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::XmlrpcControllerTest#test_should_get_all_experiences:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/xmlrpc_controller_test.rb:89

E

Error:
Api::XmlrpcControllerTest#test_should_handle_preferences.get:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::XmlrpcControllerTest#test_should_handle_preferences.get:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/xmlrpc_controller_test.rb:220

E

Error:
Api::XmlrpcControllerTest#test_should_require_authentication_for_protected_methods:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::XmlrpcControllerTest#test_should_require_authentication_for_protected_methods:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/xmlrpc_controller_test.rb:289

E

Error:
Api::XmlrpcControllerTest#test_should_get_account_info_when_authenticated:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::XmlrpcControllerTest#test_should_get_account_info_when_authenticated:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/xmlrpc_controller_test.rb:268

E

Error:
Api::XmlrpcControllerTest#test_should_reject_invalid_preference_keys:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::XmlrpcControllerTest#test_should_reject_invalid_preference_keys:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/xmlrpc_controller_test.rb:314

E

Error:
Api::XmlrpcControllerTest#test_should_reject_empty_request_body:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::XmlrpcControllerTest#test_should_reject_empty_request_body:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/xmlrpc_controller_test.rb:364

E

Error:
Api::XmlrpcControllerTest#test_should_get_approved_experiences_only:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::XmlrpcControllerTest#test_should_get_approved_experiences_only:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/xmlrpc_controller_test.rb:128

E

Error:
Api::XmlrpcControllerTest#test_should_handle_preferences.set:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::XmlrpcControllerTest#test_should_handle_preferences.set:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/xmlrpc_controller_test.rb:196

E

Error:
Api::XmlrpcControllerTest#test_should_allow_read-only_XML-RPC_methods_without_CSRF_token:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::XmlrpcControllerTest#test_should_allow_read-only_XML-RPC_methods_without_CSRF_token:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/xmlrpc_controller_test.rb:488

E

Error:
Api::XmlrpcControllerTest#test_should_reject_deeply_nested_XML:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::XmlrpcControllerTest#test_should_reject_deeply_nested_XML:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/xmlrpc_controller_test.rb:339

E

Error:
Api::XmlrpcControllerTest#test_should_get_single_experience:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::XmlrpcControllerTest#test_should_get_single_experience:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/xmlrpc_controller_test.rb:108

E

Error:
Api::XmlrpcControllerTest#test_should_reject_invalid_XML:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::XmlrpcControllerTest#test_should_reject_invalid_XML:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/xmlrpc_controller_test.rb:379

E

Error:
Api::XmlrpcControllerTest#test_should_create_experience_when_authenticated:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
Api::XmlrpcControllerTest#test_should_create_experience_when_authenticated:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/api/xmlrpc_controller_test.rb:170

E

Error:
AccountCreationModerationTest#test_AccountSequel_should_allow_valid_usernames:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
AccountCreationModerationTest#test_AccountSequel_should_allow_valid_usernames:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/integration/account_creation_moderation_test.rb:13

E

Error:
AccountCreationModerationTest#test_AccountSequel_should_reject_inappropriate_usernames:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
AccountCreationModerationTest#test_AccountSequel_should_reject_inappropriate_usernames:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/integration/account_creation_moderation_test.rb:8

E

Error:
Metaverse::SandboxIndexerTest#test_should_be_properly_configured_as_disabled:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
Metaverse::SandboxIndexerTest#test_should_be_properly_configured_as_disabled:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/indexers/metaverse/sandbox_indexer_test.rb:35

E

Error:
Metaverse::SandboxIndexerTest#test_should_clean_titles_properly:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
Metaverse::SandboxIndexerTest#test_should_clean_titles_properly:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/indexers/metaverse/sandbox_indexer_test.rb:49

E

Error:
Metaverse::SandboxIndexerTest#test_should_handle_title_decoding:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
Metaverse::SandboxIndexerTest#test_should_handle_title_decoding:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/indexers/metaverse/sandbox_indexer_test.rb:43

E

Error:
Metaverse::SandboxIndexerTest#test_should_have_correct_sitemap_URL:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
Metaverse::SandboxIndexerTest#test_should_have_correct_sitemap_URL:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/indexers/metaverse/sandbox_indexer_test.rb:39

E

Error:
Metaverse::SandboxIndexerTest#test_should_extract_UUID_from_experience_data:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
Metaverse::SandboxIndexerTest#test_should_extract_UUID_from_experience_data:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/indexers/metaverse/sandbox_indexer_test.rb:61

E

Error:
Metaverse::SandboxIndexerTest#test_should_have_correct_platform_name:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
Metaverse::SandboxIndexerTest#test_should_have_correct_platform_name:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/indexers/metaverse/sandbox_indexer_test.rb:31

E

Error:
Metaverse::SandboxIndexerTest#test_should_detect_cloudflare_blocking_via_base_class:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
Metaverse::SandboxIndexerTest#test_should_detect_cloudflare_blocking_via_base_class:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/indexers/metaverse/sandbox_indexer_test.rb:13

E

Error:
Metaverse::SandboxIndexerTest#test_should_normalize_content_correctly:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
Metaverse::SandboxIndexerTest#test_should_normalize_content_correctly:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/indexers/metaverse/sandbox_indexer_test.rb:66

E

Error:
HomepageControllerTest#test_should_get_index:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
HomepageControllerTest#test_should_get_index:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/homepage_controller_test.rb:13

E

Error:
BatchVectorizeExperiencesJobTest#test_enqueues_batch_vectorization_job:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
BatchVectorizeExperiencesJobTest#test_enqueues_batch_vectorization_job:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/jobs/batch_vectorize_experiences_job_test.rb:28

E

Error:
BatchVectorizeExperiencesJobTest#test_handles_empty_experience_set_gracefully:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
BatchVectorizeExperiencesJobTest#test_handles_empty_experience_set_gracefully:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/jobs/batch_vectorize_experiences_job_test.rb:40

E

Error:
BatchVectorizeExperiencesJobTest#test_logs_batch_processing_progress:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
BatchVectorizeExperiencesJobTest#test_logs_batch_processing_progress:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/jobs/batch_vectorize_experiences_job_test.rb:49

E

Error:
BatchVectorizeExperiencesJobTest#test_processes_experiences_in_batches:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
BatchVectorizeExperiencesJobTest#test_processes_experiences_in_batches:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/jobs/batch_vectorize_experiences_job_test.rb:34

E

Error:
AccountTest#test_should_process_username_through_comprehensive_moderation:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
AccountTest#test_should_process_username_through_comprehensive_moderation:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/account_test.rb:31

E

Error:
AccountTest#test_should_reject_username_with_spam_patterns:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
AccountTest#test_should_reject_username_with_spam_patterns:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/account_test.rb:62

E

Error:
AccountTest#test_should_handle_case_insensitive_detection:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
AccountTest#test_should_handle_case_insensitive_detection:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/account_test.rb:154

E

Error:
AccountTest#test_should_reject_inappropriate_username_with_profanity:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
AccountTest#test_should_reject_inappropriate_username_with_profanity:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/account_test.rb:38

E

Error:
AccountTest#test_should_reject_obfuscated_profanity_in_username:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
AccountTest#test_should_reject_obfuscated_profanity_in_username:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/account_test.rb:68

E

Error:
AccountTest#test_should_reject_SSN_in_username:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
AccountTest#test_should_reject_SSN_in_username:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/account_test.rb:193

E

Error:
AccountTest#test_should_detect_suspicious_symbols_in_username:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
AccountTest#test_should_detect_suspicious_symbols_in_username:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/account_test.rb:162

E

Error:
AccountTest#test_should_allow_blank_username:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
AccountTest#test_should_allow_blank_username:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/account_test.rb:80

E

Error:
AccountTest#test_should_handle_multiple_violations_in_username:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
AccountTest#test_should_handle_multiple_violations_in_username:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/account_test.rb:112

E

Error:
AccountTest#test_should_reject_credit_card_in_username:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
AccountTest#test_should_reject_credit_card_in_username:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/account_test.rb:187

E

Error:
AccountTest#test_comprehensive_moderation_system_processes_usernames:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
AccountTest#test_comprehensive_moderation_system_processes_usernames:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/account_test.rb:168

E

Error:
AccountTest#test_should_reject_username_with_hate_speech:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
AccountTest#test_should_reject_username_with_hate_speech:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/account_test.rb:44

E

Error:
AccountTest#test_should_log_moderation_violations_for_username:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
AccountTest#test_should_log_moderation_violations_for_username:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/account_test.rb:88

E

Error:
AccountTest#test_should_reject_username_with_phone_number:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
AccountTest#test_should_reject_username_with_phone_number:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/account_test.rb:56

E

Error:
AccountTest#test_should_reject_leetspeak_profanity_in_username:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
AccountTest#test_should_reject_leetspeak_profanity_in_username:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/account_test.rb:74

E

Error:
AccountTest#test_should_reject_username_with_PII:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
AccountTest#test_should_reject_username_with_PII:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/account_test.rb:50

E

Error:
AccountTest#test_should_continue_with_validation_errors_even_if_logging_fails:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
AccountTest#test_should_continue_with_validation_errors_even_if_logging_fails:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/account_test.rb:137

E

Error:
EmailHelperTest#test_inline_vite_stylesheet_works_in_development:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
EmailHelperTest#test_inline_vite_stylesheet_works_in_development:
TypeError: no implicit conversion of nil into String
    test/helpers/email_helper_test.rb:15:in 'block in <class:EmailHelperTest>'

Error:
EmailHelperTest#test_inline_vite_stylesheet_works_in_development:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/helpers/email_helper_test.rb:45

E

Error:
EmailHelperTest#test_inline_email_css_works_in_development:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
EmailHelperTest#test_inline_email_css_works_in_development:
TypeError: no implicit conversion of nil into String
    test/helpers/email_helper_test.rb:15:in 'block in <class:EmailHelperTest>'

Error:
EmailHelperTest#test_inline_email_css_works_in_development:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/helpers/email_helper_test.rb:18

E

Error:
EmailHelperTest#test_inline_vite_stylesheet_works_in_production:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
EmailHelperTest#test_inline_vite_stylesheet_works_in_production:
TypeError: no implicit conversion of nil into String
    test/helpers/email_helper_test.rb:15:in 'block in <class:EmailHelperTest>'

Error:
EmailHelperTest#test_inline_vite_stylesheet_works_in_production:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/helpers/email_helper_test.rb:54

E

Error:
EmailHelperTest#test_inline_email_css_works_in_production:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
EmailHelperTest#test_inline_email_css_works_in_production:
TypeError: no implicit conversion of nil into String
    test/helpers/email_helper_test.rb:15:in 'block in <class:EmailHelperTest>'

Error:
EmailHelperTest#test_inline_email_css_works_in_production:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/helpers/email_helper_test.rb:28

E

Error:
EmailHelperTest#test_inline_vite_stylesheet_handles_missing_files_gracefully:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
EmailHelperTest#test_inline_vite_stylesheet_handles_missing_files_gracefully:
TypeError: no implicit conversion of nil into String
    test/helpers/email_helper_test.rb:15:in 'block in <class:EmailHelperTest>'

Error:
EmailHelperTest#test_inline_vite_stylesheet_handles_missing_files_gracefully:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/helpers/email_helper_test.rb:68

E

Error:
SearchControllerTest#test_should_get_index:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
SearchControllerTest#test_should_get_index:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/search_controller_test.rb:40

E

Error:
SearchControllerTest#test_should_get_index_with_query:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
SearchControllerTest#test_should_get_index_with_query:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/search_controller_test.rb:45

E

Error:
ExperienceTest#test_should_reject_inappropriate_author:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceTest#test_should_reject_inappropriate_author:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_test.rb:83

E

Error:
ExperienceTest#test_should_reject_spam_in_description:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceTest#test_should_reject_spam_in_description:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_test.rb:95

E

Error:
ExperienceTest#test_should_log_moderation_violations:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceTest#test_should_log_moderation_violations:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_test.rb:113

E

Error:
ExperienceTest#test_should_reject_inappropriate_title:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceTest#test_should_reject_inappropriate_title:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_test.rb:71

E

Error:
ExperienceTest#test_should_reject_phone_numbers_in_author:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceTest#test_should_reject_phone_numbers_in_author:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_test.rb:101

E

Error:
ExperienceTest#test_should_reject_inappropriate_description:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceTest#test_should_reject_inappropriate_description:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_test.rb:77

E

Error:
ExperienceTest#test_should_handle_violations_in_multiple_fields:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceTest#test_should_handle_violations_in_multiple_fields:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_test.rb:143

E

Error:
ExperienceTest#test_should_continue_with_validation_errors_even_if_logging_fails:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceTest#test_should_continue_with_validation_errors_even_if_logging_fails:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_test.rb:165

E

Error:
ExperienceTest#test_should_process_content_through_comprehensive_moderation:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceTest#test_should_process_content_through_comprehensive_moderation:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_test.rb:64

E

Error:
ExperienceTest#test_should_allow_blank_optional_fields:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceTest#test_should_allow_blank_optional_fields:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_test.rb:107

E

Error:
ExperienceTest#test_should_reject_PII_in_title:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceTest#test_should_reject_PII_in_title:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_test.rb:89

E

Error:
ExperienceTest#test_should_handle_multiple_violations_in_one_field:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceTest#test_should_handle_multiple_violations_in_one_field:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_test.rb:128

E

Error:
LogTruncationTest#test_custom_tagged_formatter_truncates_messages:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
LogTruncationTest#test_custom_tagged_formatter_truncates_messages:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/log_truncation_test.rb:54

E

Error:
LogTruncationTest#test_leaves_short_messages_untouched:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
LogTruncationTest#test_leaves_short_messages_untouched:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/log_truncation_test.rb:41

E

Error:
LogTruncationTest#test_truncates_long_messages_to_the_configured_length:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
LogTruncationTest#test_truncates_long_messages_to_the_configured_length:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/log_truncation_test.rb:9

E

Error:
LogTruncationTest#test_truncation_applies_to_ActiveSupport_simple_formatter:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
LogTruncationTest#test_truncation_applies_to_ActiveSupport_simple_formatter:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/log_truncation_test.rb:25

E

Error:
AccountInterfaceTest#test_AccountSequel_implements_effective_user?_consistent_with_Account:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
AccountInterfaceTest#test_AccountSequel_implements_effective_user?_consistent_with_Account:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/account_interface_test.rb:8

E

Error:
CachePreloadJobTest#test_warms_URLs_from_sitemap:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
CachePreloadJobTest#test_warms_URLs_from_sitemap:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/jobs/cache_preload_job_test.rb:8

E

Error:
Admin::IndexingRunsControllerTest#test_should_get_index_without_authentication:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
Admin::IndexingRunsControllerTest#test_should_get_index_without_authentication:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/admin/indexing_runs_controller_test.rb:9

E

Error:
Admin::IndexingRunsControllerTest#test_should_get_show_without_authentication:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
Admin::IndexingRunsControllerTest#test_should_get_show_without_authentication:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/admin/indexing_runs_controller_test.rb:16

E

Error:
ExperiencesMailerTest#test_should_generate_ZIP_attachment_using_rubyzip_for_email:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
ExperiencesMailerTest#test_should_generate_ZIP_attachment_using_rubyzip_for_email:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/mailers/experiences_mailer_test.rb:8

E

Error:
ExperiencesMailerTest#test_should_send_offline_experience_email_with_ZIP_attachment:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
ExperiencesMailerTest#test_should_send_offline_experience_email_with_ZIP_attachment:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/mailers/experiences_mailer_test.rb:41

E

Error:
ExperienceSearchServiceTest#test_respects_limit_parameter:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceSearchServiceTest#test_respects_limit_parameter:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/experience_search_service_test.rb:126

E

Error:
ExperienceSearchServiceTest#test_uses_vector_search_when_vectors_are_available:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceSearchServiceTest#test_uses_vector_search_when_vectors_are_available:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/experience_search_service_test.rb:69

E

Error:
ExperienceSearchServiceTest#test_hybrid_ranking_improves_result_quality:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceSearchServiceTest#test_hybrid_ranking_improves_result_quality:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/experience_search_service_test.rb:257

E

Error:
ExperienceSearchServiceTest#test_search_handles_concurrent_requests_safely:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceSearchServiceTest#test_search_handles_concurrent_requests_safely:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/experience_search_service_test.rb:283

E

Error:
ExperienceSearchServiceTest#test_suggests_experiences_based_on_query:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceSearchServiceTest#test_suggests_experiences_based_on_query:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/experience_search_service_test.rb:207

E

Error:
ExperienceSearchServiceTest#test_respects_scope_parameter:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceSearchServiceTest#test_respects_scope_parameter:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/experience_search_service_test.rb:89

E

Error:
ExperienceSearchServiceTest#test_finds_related_experiences_without_vectors_using_fallback:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceSearchServiceTest#test_finds_related_experiences_without_vectors_using_fallback:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/experience_search_service_test.rb:246

E

Error:
ExperienceSearchServiceTest#test_falls_back_to_LIKE_search_when_vector_search_fails:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceSearchServiceTest#test_falls_back_to_LIKE_search_when_vector_search_fails:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/experience_search_service_test.rb:141

E

Error:
ExperienceSearchServiceTest#test_like_search_handles_special_characters_safely:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceSearchServiceTest#test_like_search_handles_special_characters_safely:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/experience_search_service_test.rb:172

E

Error:
ExperienceSearchServiceTest#test_returns_empty_array_for_blank_query:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceSearchServiceTest#test_returns_empty_array_for_blank_query:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/experience_search_service_test.rb:83

E

Error:
ExperienceSearchServiceTest#test_checks_vectors_availability_correctly:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceSearchServiceTest#test_checks_vectors_availability_correctly:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/experience_search_service_test.rb:192

E

Error:
ExperienceSearchServiceTest#test_like_search_works_correctly:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceSearchServiceTest#test_like_search_works_correctly:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/experience_search_service_test.rb:153

E

Error:
ExperienceSearchServiceTest#test_searches_without_vectors_when_none_available:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceSearchServiceTest#test_searches_without_vectors_when_none_available:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/experience_search_service_test.rb:55

E

Error:
ExperienceSearchServiceTest#test_suggests_handles_short_queries:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceSearchServiceTest#test_suggests_handles_short_queries:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/experience_search_service_test.rb:217

E

Error:
ExperienceSearchServiceTest#test_finds_related_experiences_using_vectors:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceSearchServiceTest#test_finds_related_experiences_using_vectors:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/experience_search_service_test.rb:227

E

Error:
ExperienceSearchServiceTest#test_vector_search_returns_consistent_results:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceSearchServiceTest#test_vector_search_returns_consistent_results:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/experience_search_service_test.rb:182

E

Error:
EnhancedBypassResistanceTest#test_detects_leetspeak_variations_comprehensively:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
EnhancedBypassResistanceTest#test_detects_leetspeak_variations_comprehensively:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/enhanced_bypass_resistance_test.rb:187

E

Error:
EnhancedBypassResistanceTest#test_performance_with_creative_patterns_is_acceptable:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
EnhancedBypassResistanceTest#test_performance_with_creative_patterns_is_acceptable:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/enhanced_bypass_resistance_test.rb:154

E

Error:
EnhancedBypassResistanceTest#test_detects_Unicode_characters_that_bypass_ASCII_filters:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
EnhancedBypassResistanceTest#test_detects_Unicode_characters_that_bypass_ASCII_filters:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/enhanced_bypass_resistance_test.rb:34

E

Error:
EnhancedBypassResistanceTest#test_creative_regex_patterns_work_with_RE2:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
EnhancedBypassResistanceTest#test_creative_regex_patterns_work_with_RE2:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/enhanced_bypass_resistance_test.rb:69

E

Error:
EnhancedBypassResistanceTest#test_handles_mixed_Unicode_and_creative_patterns:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
EnhancedBypassResistanceTest#test_handles_mixed_Unicode_and_creative_patterns:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/enhanced_bypass_resistance_test.rb:110

E

Error:
EnhancedBypassResistanceTest#test_detects_basic_creative_letter_substitutions:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
EnhancedBypassResistanceTest#test_detects_basic_creative_letter_substitutions:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/enhanced_bypass_resistance_test.rb:14

E

Error:
EnhancedBypassResistanceTest#test_creative_regex_detection_works_correctly:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
EnhancedBypassResistanceTest#test_creative_regex_detection_works_correctly:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/enhanced_bypass_resistance_test.rb:142

E

Error:
EnhancedBypassResistanceTest#test_detects_creative_substitutions_in_real-world_examples:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
EnhancedBypassResistanceTest#test_detects_creative_substitutions_in_real-world_examples:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/enhanced_bypass_resistance_test.rb:88

E

Error:
EnhancedBypassResistanceTest#test_avoids_false_positives_with_enhanced_detection:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
EnhancedBypassResistanceTest#test_avoids_false_positives_with_enhanced_detection:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/enhanced_bypass_resistance_test.rb:124

E

Error:
EnhancedBypassResistanceTest#test_detects_complex_creative_obfuscation_patterns:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
EnhancedBypassResistanceTest#test_detects_complex_creative_obfuscation_patterns:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/enhanced_bypass_resistance_test.rb:50

E

Error:
EnhancedBypassResistanceTest#test_creative_regex_generation_handles_edge_cases:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
EnhancedBypassResistanceTest#test_creative_regex_generation_handles_edge_cases:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/enhanced_bypass_resistance_test.rb:166

E

Error:
TextPreprocessingServiceTest#test_handles_mixed_case_consistently:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
TextPreprocessingServiceTest#test_handles_mixed_case_consistently:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/text_preprocessing_service_test.rb:139

E

Error:
TextPreprocessingServiceTest#test_returns_consistent_data_types:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
TextPreprocessingServiceTest#test_returns_consistent_data_types:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/text_preprocessing_service_test.rb:181

E

Error:
TextPreprocessingServiceTest#test_handles_HTML_and_markup_text:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
TextPreprocessingServiceTest#test_handles_HTML_and_markup_text:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/text_preprocessing_service_test.rb:100

E

Error:
TextPreprocessingServiceTest#test_handles_unicode_and_international_characters:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
TextPreprocessingServiceTest#test_handles_unicode_and_international_characters:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/text_preprocessing_service_test.rb:77

E

Error:
TextPreprocessingServiceTest#test_preserves_meaningful_compound_words:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
TextPreprocessingServiceTest#test_preserves_meaningful_compound_words:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/text_preprocessing_service_test.rb:68

E

Error:
TextPreprocessingServiceTest#test_handles_numbers_appropriately:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
TextPreprocessingServiceTest#test_handles_numbers_appropriately:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/text_preprocessing_service_test.rb:49

E

Error:
TextPreprocessingServiceTest#test_filters_out_very_short_words:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
TextPreprocessingServiceTest#test_filters_out_very_short_words:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/text_preprocessing_service_test.rb:34

E

Error:
TextPreprocessingServiceTest#test_converts_text_to_lowercase:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
TextPreprocessingServiceTest#test_converts_text_to_lowercase:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/text_preprocessing_service_test.rb:9

E

Error:
TextPreprocessingServiceTest#test_handles_edge_cases_gracefully:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
TextPreprocessingServiceTest#test_handles_edge_cases_gracefully:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/text_preprocessing_service_test.rb:163

E

Error:
TextPreprocessingServiceTest#test_handles_special_characters_and_symbols:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
TextPreprocessingServiceTest#test_handles_special_characters_and_symbols:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/text_preprocessing_service_test.rb:58

E

Error:
TextPreprocessingServiceTest#test_applies_stemming_or_lemmatization_consistently:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
TextPreprocessingServiceTest#test_applies_stemming_or_lemmatization_consistently:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/text_preprocessing_service_test.rb:126

E

Error:
TextPreprocessingServiceTest#test_processes_long_text_efficiently:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
TextPreprocessingServiceTest#test_processes_long_text_efficiently:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/text_preprocessing_service_test.rb:88

E

Error:
TextPreprocessingServiceTest#test_handles_empty_and_nil_input:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
TextPreprocessingServiceTest#test_handles_empty_and_nil_input:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/text_preprocessing_service_test.rb:43

E

Error:
TextPreprocessingServiceTest#test_removes_punctuation_and_special_characters:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
TextPreprocessingServiceTest#test_removes_punctuation_and_special_characters:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/text_preprocessing_service_test.rb:14

E

Error:
TextPreprocessingServiceTest#test_normalizes_whitespace:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
TextPreprocessingServiceTest#test_normalizes_whitespace:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/text_preprocessing_service_test.rb:114

E

Error:
TextPreprocessingServiceTest#test_preserves_meaningful_technical_terms:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
TextPreprocessingServiceTest#test_preserves_meaningful_technical_terms:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/text_preprocessing_service_test.rb:149

E

Error:
TextPreprocessingServiceTest#test_filters_out_common_stop_words:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
TextPreprocessingServiceTest#test_filters_out_common_stop_words:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/text_preprocessing_service_test.rb:24

E

Error:
Admin::IndexersControllerTest#test_should_get_index_without_authentication:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
Admin::IndexersControllerTest#test_should_get_index_without_authentication:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/admin/indexers_controller_test.rb:9

E

Error:
Admin::IndexersControllerTest#test_should_get_show_without_authentication:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
Admin::IndexersControllerTest#test_should_get_show_without_authentication:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/admin/indexers_controller_test.rb:16

E

Error:
LogCaptureTest#test_passing_test_should_not_show_logs:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:154:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
LogCaptureTest#test_passing_test_should_not_show_logs:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/log_capture_test.rb:11

E

Error:
AccountActionsControllerTest#test_should_export_account_data_as_streaming_ZIP_using_zip_kit:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
AccountActionsControllerTest#test_should_export_account_data_as_streaming_ZIP_using_zip_kit:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/account_actions_controller_test.rb:17

E

Error:
AccountActionsControllerTest#test_should_include_account_data_in_export:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
AccountActionsControllerTest#test_should_include_account_data_in_export:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/account_actions_controller_test.rb:33

E

Error:
PageStandardsTest#test_HTML_responses_use_standards_mode_and_allow_same-site_subresources:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
PageStandardsTest#test_HTML_responses_use_standards_mode_and_allow_same-site_subresources:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/integration/page_standards_test.rb:8

E

Error:
SitemapControllerTest#test_should_include_main_site_pages_in_sitemap:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
SitemapControllerTest#test_should_include_main_site_pages_in_sitemap:
NoMethodError: undefined method 'last' for nil
    test/controllers/sitemap_controller_test.rb:53:in 'block in <class:SitemapControllerTest>'

Error:
SitemapControllerTest#test_should_include_main_site_pages_in_sitemap:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/sitemap_controller_test.rb:72

E

Error:
SitemapControllerTest#test_should_use_canonical_host_when_configured:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
SitemapControllerTest#test_should_use_canonical_host_when_configured:
NoMethodError: undefined method 'last' for nil
    test/controllers/sitemap_controller_test.rb:53:in 'block in <class:SitemapControllerTest>'

Error:
SitemapControllerTest#test_should_use_canonical_host_when_configured:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/sitemap_controller_test.rb:131

E

Error:
SitemapControllerTest#test_should_handle_empty_experience_set_gracefully:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
SitemapControllerTest#test_should_handle_empty_experience_set_gracefully:
NoMethodError: undefined method 'last' for nil
    test/controllers/sitemap_controller_test.rb:53:in 'block in <class:SitemapControllerTest>'

Error:
SitemapControllerTest#test_should_handle_empty_experience_set_gracefully:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/sitemap_controller_test.rb:285

E

Error:
SitemapControllerTest#test_should_invalidate_cache_when_experience_count_changes:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
SitemapControllerTest#test_should_invalidate_cache_when_experience_count_changes:
NoMethodError: undefined method 'last' for nil
    test/controllers/sitemap_controller_test.rb:53:in 'block in <class:SitemapControllerTest>'

Error:
SitemapControllerTest#test_should_invalidate_cache_when_experience_count_changes:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/sitemap_controller_test.rb:251

E

Error:
SitemapControllerTest#test_should_set_proper_cache_headers:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
SitemapControllerTest#test_should_set_proper_cache_headers:
NoMethodError: undefined method 'last' for nil
    test/controllers/sitemap_controller_test.rb:53:in 'block in <class:SitemapControllerTest>'

Error:
SitemapControllerTest#test_should_set_proper_cache_headers:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/sitemap_controller_test.rb:171

E

Error:
SitemapControllerTest#test_should_include_only_approved_experiences_in_sitemap:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
SitemapControllerTest#test_should_include_only_approved_experiences_in_sitemap:
NoMethodError: undefined method 'last' for nil
    test/controllers/sitemap_controller_test.rb:53:in 'block in <class:SitemapControllerTest>'

Error:
SitemapControllerTest#test_should_include_only_approved_experiences_in_sitemap:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/sitemap_controller_test.rb:88

E

Error:
SitemapControllerTest#test_should_generate_sitemap.xml_with_correct_XML_structure:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
SitemapControllerTest#test_should_generate_sitemap.xml_with_correct_XML_structure:
NoMethodError: undefined method 'last' for nil
    test/controllers/sitemap_controller_test.rb:53:in 'block in <class:SitemapControllerTest>'

Error:
SitemapControllerTest#test_should_generate_sitemap.xml_with_correct_XML_structure:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/sitemap_controller_test.rb:56

E

Error:
SitemapControllerTest#test_should_fall_back_to_request_base_url_when_no_canonical_host:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
SitemapControllerTest#test_should_fall_back_to_request_base_url_when_no_canonical_host:
NoMethodError: undefined method 'last' for nil
    test/controllers/sitemap_controller_test.rb:53:in 'block in <class:SitemapControllerTest>'

Error:
SitemapControllerTest#test_should_fall_back_to_request_base_url_when_no_canonical_host:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/sitemap_controller_test.rb:154

E

Error:
SitemapControllerTest#test_should_handle_large_number_of_experiences:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
SitemapControllerTest#test_should_handle_large_number_of_experiences:
NoMethodError: undefined method 'last' for nil
    test/controllers/sitemap_controller_test.rb:53:in 'block in <class:SitemapControllerTest>'

Error:
SitemapControllerTest#test_should_handle_large_number_of_experiences:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/sitemap_controller_test.rb:302

E

Error:
SitemapControllerTest#test_should_include_proper_metadata_for_experience_URLs:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
SitemapControllerTest#test_should_include_proper_metadata_for_experience_URLs:
NoMethodError: undefined method 'last' for nil
    test/controllers/sitemap_controller_test.rb:53:in 'block in <class:SitemapControllerTest>'

Error:
SitemapControllerTest#test_should_include_proper_metadata_for_experience_URLs:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/sitemap_controller_test.rb:104

E

Error:
SitemapControllerTest#test_should_cache_sitemap_content:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
SitemapControllerTest#test_should_cache_sitemap_content:
NoMethodError: undefined method 'last' for nil
    test/controllers/sitemap_controller_test.rb:53:in 'block in <class:SitemapControllerTest>'

Error:
SitemapControllerTest#test_should_cache_sitemap_content:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/sitemap_controller_test.rb:207

E

Error:
SitemapControllerTest#test_should_have_valid_XML_namespaces_and_structure:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
SitemapControllerTest#test_should_have_valid_XML_namespaces_and_structure:
NoMethodError: undefined method 'last' for nil
    test/controllers/sitemap_controller_test.rb:53:in 'block in <class:SitemapControllerTest>'

Error:
SitemapControllerTest#test_should_have_valid_XML_namespaces_and_structure:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/sitemap_controller_test.rb:334

E

Error:
SitemapControllerTest#test_should_return_304_for_conditional_requests_with_matching_ETag:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
SitemapControllerTest#test_should_return_304_for_conditional_requests_with_matching_ETag:
NoMethodError: undefined method 'last' for nil
    test/controllers/sitemap_controller_test.rb:53:in 'block in <class:SitemapControllerTest>'

Error:
SitemapControllerTest#test_should_return_304_for_conditional_requests_with_matching_ETag:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/sitemap_controller_test.rb:191

E

Error:
SitemapControllerTest#test_should_skip_privacy_consent_and_CSRF_protection:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
SitemapControllerTest#test_should_skip_privacy_consent_and_CSRF_protection:
NoMethodError: undefined method 'last' for nil
    test/controllers/sitemap_controller_test.rb:53:in 'block in <class:SitemapControllerTest>'

Error:
SitemapControllerTest#test_should_skip_privacy_consent_and_CSRF_protection:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/sitemap_controller_test.rb:367

E

Error:
SitemapControllerTest#test_should_generate_ETag_for_conditional_requests:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:38:in 'ActionController::TestCase#before_setup'

Error:
SitemapControllerTest#test_should_generate_ETag_for_conditional_requests:
NoMethodError: undefined method 'last' for nil
    test/controllers/sitemap_controller_test.rb:53:in 'block in <class:SitemapControllerTest>'

Error:
SitemapControllerTest#test_should_generate_ETag_for_conditional_requests:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/sitemap_controller_test.rb:181

E

Error:
ExperienceVectorTest#test_detects_regeneration_not_needed_when_content_unchanged:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_detects_regeneration_not_needed_when_content_unchanged:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:305

E

Error:
ExperienceVectorTest#test_calculates_cosine_similarity_with_JSON_string:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_calculates_cosine_similarity_with_JSON_string:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:211

E

Error:
ExperienceVectorTest#test_requires_generated_at:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_requires_generated_at:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:95

E

Error:
ExperienceVectorTest#test_version_must_be_positive:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_version_must_be_positive:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:120

E

Error:
ExperienceVectorTest#test_requires_vector_data:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_requires_vector_data:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:71

E

Error:
ExperienceVectorTest#test_updates_version_when_vector_is_updated:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_updates_version_when_vector_is_updated:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:344

E

Error:
ExperienceVectorTest#test_requires_version:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_requires_version:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:107

E

Error:
ExperienceVectorTest#test_serializes_vector_data_as_JSON_array:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_serializes_vector_data_as_JSON_array:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:181

E

Error:
ExperienceVectorTest#test_handles_nil_vector_in_similarity_calculation:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_handles_nil_vector_in_similarity_calculation:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:226

E

Error:
ExperienceVectorTest#test_handles_experience_with_missing_content_in_regeneration_check:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_handles_experience_with_missing_content_in_regeneration_check:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:322

E

Error:
ExperienceVectorTest#test_generates_different_hashes_for_different_content:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_generates_different_hashes_for_different_content:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:264

E

Error:
ExperienceVectorTest#test_generates_content_hash_correctly:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_generates_content_hash_correctly:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:252

E

Error:
ExperienceVectorTest#test_allows_same_vector_hash_for_different_experiences:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_allows_same_vector_hash_for_different_experiences:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:156

E

Error:
ExperienceVectorTest#test_creates_valid_experience_vector:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_creates_valid_experience_vector:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:46

E

Error:
ExperienceVectorTest#test_detects_when_regeneration_is_needed:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_detects_when_regeneration_is_needed:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:277

E

Error:
ExperienceVectorTest#test_handles_nil_values_in_content_hash_generation:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_handles_nil_values_in_content_hash_generation:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:271

E

Error:
ExperienceVectorTest#test_handles_empty_vector_in_similarity_calculation:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_handles_empty_vector_in_similarity_calculation:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:239

E

Error:
ExperienceVectorTest#test_requires_vector_hash:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_requires_vector_hash:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:83

E

Error:
ExperienceVectorTest#test_enforces_unique_vector_hash_per_experience:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_enforces_unique_vector_hash_per_experience:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:133

E

Error:
ExperienceVectorTest#test_requires_experience_association:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_requires_experience_association:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:59

E

Error:
ExperienceVectorTest#test_calculates_cosine_similarity_with_array:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ExperienceVectorTest#test_calculates_cosine_similarity_with_array:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/models/experience_vector_test.rb:196

E

Error:
RobotsControllerTest#test_serves_allow_all_robots.txt_when_no_bots_mode_is_disabled:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
RobotsControllerTest#test_serves_allow_all_robots.txt_when_no_bots_mode_is_disabled:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/robots_controller_test.rb:8

E

Error:
RobotsControllerTest#test_defaults_to_allow_all_when_no_bots_mode_setting_is_missing:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
RobotsControllerTest#test_defaults_to_allow_all_when_no_bots_mode_setting_is_missing:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/robots_controller_test.rb:31

E

Error:
RobotsControllerTest#test_serves_disallow_all_robots.txt_when_no_bots_mode_is_enabled:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
RobotsControllerTest#test_serves_disallow_all_robots.txt_when_no_bots_mode_is_enabled:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/robots_controller_test.rb:20

E

Error:
RobotsControllerTest#test_handles_various_falsy_values_for_no_bots_mode:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
RobotsControllerTest#test_handles_various_falsy_values_for_no_bots_mode:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/robots_controller_test.rb:56

E

Error:
RobotsControllerTest#test_handles_various_truthy_values_for_no_bots_mode:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
RobotsControllerTest#test_handles_various_truthy_values_for_no_bots_mode:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/robots_controller_test.rb:45

E

Error:
FilterParametersTest#test_all_required_PII_fields_are_filtered_from_logs:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
FilterParametersTest#test_all_required_PII_fields_are_filtered_from_logs:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/filter_parameters_test.rb:18

E

Error:
GraphqlControllerTest#test_moderation_logs_are_accessible:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
GraphqlControllerTest#test_moderation_logs_are_accessible:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/graphql_controller_test.rb:358

E

Error:
GraphqlControllerTest#test_user_preferences_work_correctly:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
GraphqlControllerTest#test_user_preferences_work_correctly:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/graphql_controller_test.rb:259

E

Error:
GraphqlControllerTest#test_experience_queries_work_correctly:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
GraphqlControllerTest#test_experience_queries_work_correctly:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/graphql_controller_test.rb:207

E

Error:
GraphqlControllerTest#test_mutation_works_with_valid_CSRF_token:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
GraphqlControllerTest#test_mutation_works_with_valid_CSRF_token:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/graphql_controller_test.rb:188

E

Error:
GraphqlControllerTest#test_public_query_works_without_authentication:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
GraphqlControllerTest#test_public_query_works_without_authentication:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/graphql_controller_test.rb:123

E

Error:
GraphqlControllerTest#test_mutation_requires_CSRF_token:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
GraphqlControllerTest#test_mutation_requires_CSRF_token:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/graphql_controller_test.rb:164

E

Error:
GraphqlControllerTest#test_authenticated_query_works_with_valid_session:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
GraphqlControllerTest#test_authenticated_query_works_with_valid_session:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/graphql_controller_test.rb:143

E

Error:
GraphqlControllerTest#test_admin_operations_require_admin_privileges:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
GraphqlControllerTest#test_admin_operations_require_admin_privileges:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/graphql_controller_test.rb:313

E

Error:
GraphqlControllerTest#test_graphql_rate_limiting_works:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
GraphqlControllerTest#test_graphql_rate_limiting_works:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/graphql_controller_test.rb:387

E

Error:
GraphqlControllerTest#test_admin_can_see_pending_experiences:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
GraphqlControllerTest#test_admin_can_see_pending_experiences:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/graphql_controller_test.rb:229

E

Error:
GraphqlControllerTest#test_invalid_preference_key_is_rejected:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
GraphqlControllerTest#test_invalid_preference_key_is_rejected:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/graphql_controller_test.rb:340

E

Error:
GraphqlControllerTest#test_search_functionality_works:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
GraphqlControllerTest#test_search_functionality_works:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/graphql_controller_test.rb:295

E

Error:
GraphqlControllerTest#test_authenticated_query_requires_authentication:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/actionpack-8.1.2/lib/action_dispatch/testing/integration.rb:349:in 'ActionDispatch::Integration::Runner#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/railties-8.1.2/lib/rails/test_help.rb:45:in 'ActionDispatch::IntegrationTest#before_setup'

Error:
GraphqlControllerTest#test_authenticated_query_requires_authentication:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/controllers/graphql_controller_test.rb:102

E

Error:
ModerationServiceTest#test_detects_phone_numbers:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_phone_numbers:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:65

E

Error:
ModerationServiceTest#test_detects_excessive_capitalization:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_excessive_capitalization:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:113

E

Error:
ModerationServiceTest#test_detects_urgent_spam_phrases:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_urgent_spam_phrases:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:147

E

Error:
ModerationServiceTest#test_uses_curated_word_lists:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_uses_curated_word_lists:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:229

E

Error:
ModerationServiceTest#test_handles_very_long_text_efficiently:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_handles_very_long_text_efficiently:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:203

E

Error:
ModerationServiceTest#test_detects_SSN:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_SSN:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:88

E

Error:
ModerationServiceTest#test_detects_leetspeak_profanity:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_leetspeak_profanity:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:46

E

Error:
ModerationServiceTest#test_detects_spam_phrases:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_spam_phrases:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:131

E

Error:
ModerationServiceTest#test_handles_blank_text:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_handles_blank_text:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:27

E

Error:
ModerationServiceTest#test_combined_violations:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_combined_violations:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:219

E

Error:
ModerationServiceTest#test_detects_curated_spam_words:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_curated_spam_words:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:255

E

Error:
ModerationServiceTest#test_returns_violation_details_when_content_is_flagged:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_returns_violation_details_when_content_is_flagged:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:185

E

Error:
ModerationServiceTest#test_detects_postal_codes:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_postal_codes:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:100

E

Error:
ModerationServiceTest#test_detects_phone_numbers_with_different_formats:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_phone_numbers_with_different_formats:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:71

E

Error:
ModerationServiceTest#test_detects_excessive_symbols:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_excessive_symbols:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:163

E

Error:
ModerationServiceTest#test_case_insensitive_detection:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_case_insensitive_detection:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:211

E

Error:
ModerationServiceTest#test_detects_obfuscated_profanity:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_obfuscated_profanity:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:40

E

Error:
ModerationServiceTest#test_detects_credit_card_numbers:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_credit_card_numbers:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:82

E

Error:
ModerationServiceTest#test_detects_character_repetition:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_character_repetition:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:125

E

Error:
ModerationServiceTest#test_handles_unicode_characters_appropriately:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_handles_unicode_characters_appropriately:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:195

E

Error:
ModerationServiceTest#test_detects_IP_addresses:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_IP_addresses:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:94

E

Error:
ModerationServiceTest#test_detects_base64-like_patterns:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_base64-like_patterns:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:169

E

Error:
ModerationServiceTest#test_detects_email_addresses:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_email_addresses:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:59

E

Error:
ModerationServiceTest#test_detects_curated_profanity_words:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_curated_profanity_words:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:239

E

Error:
ModerationServiceTest#test_detects_spaced_out_profanity:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_spaced_out_profanity:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:52

E

Error:
ModerationServiceTest#test_detects_multiple_URLs:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_multiple_URLs:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:107

E

Error:
ModerationServiceTest#test_detects_basic_profanity:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_basic_profanity:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:34

E

Error:
ModerationServiceTest#test_detects_excessive_exclamation_marks:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_detects_excessive_exclamation_marks:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:119

E

Error:
ModerationServiceTest#test_provides_detailed_violation_information:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_provides_detailed_violation_information:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:176

E

Error:
ModerationServiceTest#test_system_processes_text_without_errors:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_system_processes_text_without_errors:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:20

E

Error:
ModerationServiceTest#test_creative_letter_substitutions_work:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
ModerationServiceTest#test_creative_letter_substitutions_work:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/moderation_service_test.rb:285

E

Error:
VectorizationServiceTest#test_handles_special_characters_and_punctuation:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorizationServiceTest#test_handles_special_characters_and_punctuation:
NoMethodError: undefined method '[]' for nil
    test/services/vectorization_service_test.rb:238:in 'block in <class:VectorizationServiceTest>'

Error:
VectorizationServiceTest#test_handles_special_characters_and_punctuation:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vectorization_service_test.rb:190

E

Error:
VectorizationServiceTest#test_vectorizes_query_correctly:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorizationServiceTest#test_vectorizes_query_correctly:
NoMethodError: undefined method '[]' for nil
    test/services/vectorization_service_test.rb:238:in 'block in <class:VectorizationServiceTest>'

Error:
VectorizationServiceTest#test_vectorizes_query_correctly:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vectorization_service_test.rb:70

E

Error:
VectorizationServiceTest#test_generates_vocabulary_from_experiences:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorizationServiceTest#test_generates_vocabulary_from_experiences:
NoMethodError: undefined method '[]' for nil
    test/services/vectorization_service_test.rb:238:in 'block in <class:VectorizationServiceTest>'

Error:
VectorizationServiceTest#test_generates_vocabulary_from_experiences:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vectorization_service_test.rb:40

E

Error:
VectorizationServiceTest#test_refreshes_vocabulary_when_requested:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorizationServiceTest#test_refreshes_vocabulary_when_requested:
NoMethodError: undefined method '[]' for nil
    test/services/vectorization_service_test.rb:238:in 'block in <class:VectorizationServiceTest>'

Error:
VectorizationServiceTest#test_refreshes_vocabulary_when_requested:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vectorization_service_test.rb:126

E

Error:
VectorizationServiceTest#test_vectorizes_experience_correctly:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorizationServiceTest#test_vectorizes_experience_correctly:
NoMethodError: undefined method '[]' for nil
    test/services/vectorization_service_test.rb:238:in 'block in <class:VectorizationServiceTest>'

Error:
VectorizationServiceTest#test_vectorizes_experience_correctly:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vectorization_service_test.rb:53

E

Error:
VectorizationServiceTest#test_normalizes_text_case_consistently:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorizationServiceTest#test_normalizes_text_case_consistently:
NoMethodError: undefined method '[]' for nil
    test/services/vectorization_service_test.rb:238:in 'block in <class:VectorizationServiceTest>'

Error:
VectorizationServiceTest#test_normalizes_text_case_consistently:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vectorization_service_test.rb:206

E

Error:
VectorizationServiceTest#test_generates_different_vectors_for_different_content:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorizationServiceTest#test_generates_different_vectors_for_different_content:
NoMethodError: undefined method '[]' for nil
    test/services/vectorization_service_test.rb:238:in 'block in <class:VectorizationServiceTest>'

Error:
VectorizationServiceTest#test_generates_different_vectors_for_different_content:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vectorization_service_test.rb:181

E

Error:
VectorizationServiceTest#test_caches_vocabulary_correctly:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorizationServiceTest#test_caches_vocabulary_correctly:
NoMethodError: undefined method '[]' for nil
    test/services/vectorization_service_test.rb:238:in 'block in <class:VectorizationServiceTest>'

Error:
VectorizationServiceTest#test_caches_vocabulary_correctly:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vectorization_service_test.rb:111

E

Error:
VectorizationServiceTest#test_handles_empty_query_gracefully:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorizationServiceTest#test_handles_empty_query_gracefully:
NoMethodError: undefined method '[]' for nil
    test/services/vectorization_service_test.rb:238:in 'block in <class:VectorizationServiceTest>'

Error:
VectorizationServiceTest#test_handles_empty_query_gracefully:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vectorization_service_test.rb:87

E

Error:
VectorizationServiceTest#test_applies_field_weights_correctly:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorizationServiceTest#test_applies_field_weights_correctly:
NoMethodError: undefined method '[]' for nil
    test/services/vectorization_service_test.rb:238:in 'block in <class:VectorizationServiceTest>'

Error:
VectorizationServiceTest#test_applies_field_weights_correctly:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vectorization_service_test.rb:147

E

Error:
VectorizationServiceTest#test_handles_experience_without_content_gracefully:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorizationServiceTest#test_handles_experience_without_content_gracefully:
NoMethodError: undefined method '[]' for nil
    test/services/vectorization_service_test.rb:238:in 'block in <class:VectorizationServiceTest>'

Error:
VectorizationServiceTest#test_handles_experience_without_content_gracefully:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vectorization_service_test.rb:96

E

Error:
VectorizationServiceTest#test_generates_consistent_vectors_for_same_content:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'

Error:
VectorizationServiceTest#test_generates_consistent_vectors_for_same_content:
NoMethodError: undefined method '[]' for nil
    test/services/vectorization_service_test.rb:238:in 'block in <class:VectorizationServiceTest>'

Error:
VectorizationServiceTest#test_generates_consistent_vectors_for_same_content:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/services/vectorization_service_test.rb:172

E

Error:
VectorizeExperienceJobTest#test_logs_successful_vector_update:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
VectorizeExperienceJobTest#test_logs_successful_vector_update:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/jobs/vectorize_experience_job_test.rb:175

E

Error:
VectorizeExperienceJobTest#test_updates_existing_vector_when_one_exists:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
VectorizeExperienceJobTest#test_updates_existing_vector_when_one_exists:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/jobs/vectorize_experience_job_test.rb:48

E

Error:
VectorizeExperienceJobTest#test_handles_experience_with_special_characters:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
VectorizeExperienceJobTest#test_handles_experience_with_special_characters:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/jobs/vectorize_experience_job_test.rb:261

E

Error:
VectorizeExperienceJobTest#test_processes_job_in_correct_queue:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
VectorizeExperienceJobTest#test_processes_job_in_correct_queue:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/jobs/vectorize_experience_job_test.rb:236

E

Error:
VectorizeExperienceJobTest#test_retries_on_failure_with_exponential_backoff:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
VectorizeExperienceJobTest#test_retries_on_failure_with_exponential_backoff:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/jobs/vectorize_experience_job_test.rb:230

E

Error:
VectorizeExperienceJobTest#test_logs_successful_vectorization:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
VectorizeExperienceJobTest#test_logs_successful_vectorization:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/jobs/vectorize_experience_job_test.rb:163

E

Error:
VectorizeExperienceJobTest#test_handles_experience_with_minimal_content:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
VectorizeExperienceJobTest#test_handles_experience_with_minimal_content:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/jobs/vectorize_experience_job_test.rb:241

E

Error:
VectorizeExperienceJobTest#test_enqueues_job_successfully:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
VectorizeExperienceJobTest#test_enqueues_job_successfully:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/jobs/vectorize_experience_job_test.rb:25

E

Error:
VectorizeExperienceJobTest#test_handles_missing_experience_gracefully:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
VectorizeExperienceJobTest#test_handles_missing_experience_gracefully:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/jobs/vectorize_experience_job_test.rb:130

E

Error:
VectorizeExperienceJobTest#test_performs_vectorization_successfully:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
VectorizeExperienceJobTest#test_performs_vectorization_successfully:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/jobs/vectorize_experience_job_test.rb:31

E

Error:
VectorizeExperienceJobTest#test_clears_search_caches_after_vectorization:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
VectorizeExperienceJobTest#test_clears_search_caches_after_vectorization:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/jobs/vectorize_experience_job_test.rb:215

E

Error:
VectorizeExperienceJobTest#test_handles_vectorization_service_errors_gracefully:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
VectorizeExperienceJobTest#test_handles_vectorization_service_errors_gracefully:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/jobs/vectorize_experience_job_test.rb:141

E

Error:
VectorizeExperienceJobTest#test_reraises_errors_from_vectorization_service:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
VectorizeExperienceJobTest#test_reraises_errors_from_vectorization_service:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/jobs/vectorize_experience_job_test.rb:196

E

Error:
VectorizeExperienceJobTest#test_skips_vectorization_when_not_needed_and_not_forced:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
VectorizeExperienceJobTest#test_skips_vectorization_when_not_needed_and_not_forced:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/jobs/vectorize_experience_job_test.rb:102

E

Error:
VectorizeExperienceJobTest#test_forces_regeneration_when_requested:
ActiveRecord::Fixture::FixtureError: table "experiences" has no columns named "approved".
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:630:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'Array#map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:625:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_sql'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:667:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'Enumerable#filter_map'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:665:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#build_fixture_statements'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/database_statements.rb:509:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert_fixtures_set'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:684:in 'block (2 levels) in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:463:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:683:in 'block in ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'Hash#each'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:674:in 'ActiveRecord::FixtureSet.insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:660:in 'ActiveRecord::FixtureSet.read_and_insert'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/fixtures.rb:605:in 'ActiveRecord::FixtureSet.create_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:282:in 'ActiveRecord::TestFixtures#load_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:146:in 'ActiveRecord::TestFixtures#setup_fixtures'
    /Users/george/.gem/ruby/3.4.1/gems/activerecord-8.1.2/lib/active_record/test_fixtures.rb:10:in 'ActiveRecord::TestFixtures#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activesupport-8.1.2/lib/active_support/testing/setup_and_teardown.rb:40:in 'ActiveSupport::Testing::SetupAndTeardown#before_setup'
    /Users/george/.gem/ruby/3.4.1/gems/activejob-8.1.2/lib/active_job/test_helper.rb:53:in 'ActiveJob::TestHelper#before_setup'

Error:
VectorizeExperienceJobTest#test_forces_regeneration_when_requested:
Mocha::NotInitializedError: Mocha::Mockery.teardown called before Mocha::Mockery.setup
    

bin/rails test test/jobs/vectorize_experience_job_test.rb:73



Finished in 88.730204s, 3.1669 runs/s, 0.0000 assertions/s.
281 runs, 0 assertions, 0 failures, 281 errors, 0 skips

--------------------------------------------------
--- End of Rails Tests Results (Exit Code: 1) ---
--------------------------------------------------

