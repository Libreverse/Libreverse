default: &default
  store_options:
    # Cap age of oldest cache entry to fulfill retention policies
    max_age: <%= 60.days.to_i %>
    namespace: <%= Rails.env %>
    # Lower batch size for more frequent but smaller cleanup operations
    expiry_batch_size: 50
    # Disable ActiveRecord instrumentation to reduce overhead
    active_record_instrumentation: false
  encrypt: true

development:
  <<: *default

test:
  <<: *default

production:
  database: cache
  <<: *default