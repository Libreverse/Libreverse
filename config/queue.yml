default: &default
    dispatchers:
        - polling_interval: 1
          batch_size: 500
    workers:
        - queues: "*"
          threads: <%= (require "etc"; Etc.nprocessors) %>
          processes: <%= (require "etc"; Etc.nprocessors) %>
          polling_interval: 0.1

development:
    <<: *default

test:
    <<: *default

production:
    workers:
        - queues: "*"
          threads: 2
          processes: 1
          polling_interval: 0.2
    dispatchers:
        - polling_interval: 1
          batch_size: 200
    scheduler: {}
